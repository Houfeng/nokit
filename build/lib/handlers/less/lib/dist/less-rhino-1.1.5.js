/*csd*/function require(a){return less[a.split("/")[1]];}if(!Array.isArray){Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"||(a instanceof Array);};}if(!Array.prototype.forEach){Array.prototype.forEach=function(a,d){var c=this.length>>>0;for(var b=0;b<c;b++){if(b in this){a.call(d,this[b],b,this);}}};}if(!Array.prototype.map){Array.prototype.map=function(a){var c=this.length>>>0;var d=new Array(c);var e=arguments[1];for(var b=0;b<c;b++){if(b in this){d[b]=a.call(e,this[b],b,this);}}return d;};}if(!Array.prototype.filter){Array.prototype.filter=function(a){var d=[];var c=arguments[1];for(var b=0;b<this.length;b++){if(a.call(c,this[b])){d.push(this[b]);}}return d;};}if(!Array.prototype.reduce){Array.prototype.reduce=function(a){var c=this.length>>>0;var b=0;if(c===0&&arguments.length===1){throw new TypeError();}if(arguments.length>=2){var d=arguments[1];}else{do{if(b in this){d=this[b++];break;}if(++b>=c){throw new TypeError();}}while(true);}for(;b<c;b++){if(b in this){d=a.call(null,d,this[b],b,this);}}return d;};}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){var b=this.length;var a=arguments[1]||0;if(!b){return -1;}if(a>=b){return -1;}if(a<0){a+=b;}for(;a<b;a++){if(!Object.prototype.hasOwnProperty.call(this,a)){continue;}if(c===this[a]){return a;}}return -1;};}if(!Object.keys){Object.keys=function(c){var a=[];for(var b in c){if(Object.prototype.hasOwnProperty.call(c,b)){a.push(b);}}return a;};}if(!String.prototype.trim){String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"");};}var less,tree;if(typeof environment==="object"&&({}).toString.call(environment)==="[object Environment]"){less={};tree=less.tree={};less.mode="rhino";}else{if(typeof(window)==="undefined"){less=exports,tree=require("./tree");less.mode="rhino";}else{if(typeof(window.less)==="undefined"){window.less={};}less=window.less,tree=window.less.tree={};less.mode="browser";}}less.Parser=function Parser(env){var input,i,j,temp,memo,furthest,chunks,current,parser;var that=this;var finish=function(){};var imports=this.imports={paths:env&&env.paths||[],queue:[],files:{},mime:env&&env.mime,push:function(path,callback){var that=this;this.queue.push(path);less.Parser.importer(path,this.paths,function(root){that.queue.splice(that.queue.indexOf(path),1);that.files[path]=root;callback(root);if(that.queue.length===0){finish();}},env);}};function save(){temp=chunks[j],memo=i,current=i;}function restore(){chunks[j]=temp,i=memo,current=i;}function sync(){if(i>current){chunks[j]=chunks[j].slice(i-current);current=i;}}function $(tok){var match,args,length,c,index,endIndex,k,mem;if(tok instanceof Function){return tok.call(parser.parsers);}else{if(typeof(tok)==="string"){match=input.charAt(i)===tok?tok:null;length=1;sync();}else{sync();if(match=tok.exec(chunks[j])){length=match[0].length;}else{return null;}}}if(match){mem=i+=length;endIndex=i+chunks[j].length-length;while(i<endIndex){c=input.charCodeAt(i);if(!(c===32||c===10||c===9)){break;}i++;}chunks[j]=chunks[j].slice(length+(i-mem));current=i;if(chunks[j].length===0&&j<chunks.length-1){j++;}if(typeof(match)==="string"){return match;}else{return match.length===1?match[0]:match;}}}function peek(tok){if(typeof(tok)==="string"){return input.charAt(i)===tok;}else{if(tok.test(chunks[j])){return true;}else{return false;}}}this.env=env=env||{};this.optimization=("optimization" in this.env)?this.env.optimization:1;this.env.filename=this.env.filename||null;return parser={imports:imports,parse:function(str,callback){var root,start,end,zone,line,lines,buff=[],c,error=null;i=j=current=furthest=0;chunks=[];input=str.replace(/\r\n/g,"\n");chunks=(function(chunks){var j=0,skip=/[^"'`\{\}\/\(\)]+/g,comment=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,level=0,match,chunk=chunks[0],inParam,inString;for(var i=0,c,cc;i<input.length;i++){skip.lastIndex=i;if(match=skip.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);}}c=input.charAt(i);comment.lastIndex=i;if(!inString&&!inParam&&c==="/"){cc=input.charAt(i+1);if(cc==="/"||cc==="*"){if(match=comment.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);c=input.charAt(i);}}}}if(c==="{"&&!inString&&!inParam){level++;chunk.push(c);}else{if(c==="}"&&!inString&&!inParam){level--;chunk.push(c);chunks[++j]=chunk=[];}else{if(c==="("&&!inString&&!inParam){chunk.push(c);inParam=true;}else{if(c===")"&&!inString&&inParam){chunk.push(c);inParam=false;}else{if(c==='"'||c==="'"||c==="`"){if(!inString){inString=c;}else{inString=inString===c?false:inString;}}chunk.push(c);}}}}}if(level>0){throw {type:"Syntax",message:"Missing closing `}`",filename:env.filename};}return chunks.map(function(c){return c.join("");});})([[]]);root=new (tree.Ruleset)([],$(this.parsers.primary));root.root=true;root.toCSS=(function(evaluate){var line,lines,column;return function(options,variables){var frames=[];options=options||{};if(typeof(variables)==="object"&&!Array.isArray(variables)){variables=Object.keys(variables).map(function(k){var value=variables[k];if(!(value instanceof tree.Value)){if(!(value instanceof tree.Expression)){value=new (tree.Expression)([value]);}value=new (tree.Value)([value]);}return new (tree.Rule)("@"+k,value,false,0);});frames=[new (tree.Ruleset)(null,variables)];}try{var css=evaluate.call(this,{frames:frames}).toCSS([],{compress:options.compress||false});}catch(e){lines=input.split("\n");line=getLine(e.index);for(var n=e.index,column=-1;n>=0&&input.charAt(n)!=="\n";n--){column++;}throw {type:e.type,message:e.message,filename:env.filename,index:e.index,line:typeof(line)==="number"?line+1:null,callLine:e.call&&(getLine(e.call)+1),callExtract:lines[getLine(e.call)],stack:e.stack,column:column,extract:[lines[line-1],lines[line],lines[line+1]]};}if(options.compress){return css.replace(/(\s)+/g,"$1");}else{return css;}function getLine(index){return index?(input.slice(0,index).match(/\n/g)||"").length:null;}};})(root.eval);if(i<input.length-1){i=furthest;lines=input.split("\n");line=(input.slice(0,i).match(/\n/g)||"").length+1;for(var n=i,column=-1;n>=0&&input.charAt(n)!=="\n";n--){column++;}error={name:"ParseError",message:"Syntax Error on line "+line,index:i,filename:env.filename,line:line,column:column,extract:[lines[line-2],lines[line-1],lines[line]]};}if(this.imports.queue.length>0){finish=function(){callback(error,root);};}else{callback(error,root);}},parsers:{primary:function(){var node,root=[];while((node=$(this.mixin.definition)||$(this.rule)||$(this.ruleset)||$(this.mixin.call)||$(this.comment)||$(this.directive))||$(/^[\s\n]+/)){node&&root.push(node);}return root;},comment:function(){var comment;if(input.charAt(i)!=="/"){return;}if(input.charAt(i+1)==="/"){return new (tree.Comment)($(/^\/\/.*/),true);}else{if(comment=$(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/)){return new (tree.Comment)(comment);}}},entities:{quoted:function(){var str,j=i,e;if(input.charAt(j)==="~"){j++,e=true;}if(input.charAt(j)!=='"'&&input.charAt(j)!=="'"){return;}e&&$("~");if(str=$(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/)){return new (tree.Quoted)(str[0],str[1]||str[2],e);}},keyword:function(){var k;if(k=$(/^[_A-Za-z-][_A-Za-z0-9-]*/)){return new (tree.Keyword)(k);}},call:function(){var name,args,index=i;if(!(name=/^([\w-]+|%)\(/.exec(chunks[j]))){return;}name=name[1].toLowerCase();if(name==="url"){return null;}else{i+=name.length;}if(name==="alpha"){return $(this.alpha);}$("(");args=$(this.entities.arguments);if(!$(")")){return;}if(name){return new (tree.Call)(name,args,index);}},arguments:function(){var args=[],arg;while(arg=$(this.expression)){args.push(arg);if(!$(",")){break;}}return args;},literal:function(){return $(this.entities.dimension)||$(this.entities.color)||$(this.entities.quoted);},url:function(){var value;if(input.charAt(i)!=="u"||!$(/^url\(/)){return;}value=$(this.entities.quoted)||$(this.entities.variable)||$(this.entities.dataURI)||$(/^[-\w%@$\/.&=:;#+?~]+/)||"";if(!$(")")){throw new (Error)("missing closing ) for url()");}return new (tree.URL)((value.value||value.data||value instanceof tree.Variable)?value:new (tree.Anonymous)(value),imports.paths);},dataURI:function(){var obj;if($(/^data:/)){obj={};obj.mime=$(/^[^\/]+\/[^,;)]+/)||"";obj.charset=$(/^;\s*charset=[^,;)]+/)||"";obj.base64=$(/^;\s*base64/)||"";obj.data=$(/^,\s*[^)]+/);if(obj.data){return obj;}}},variable:function(){var name,index=i;if(input.charAt(i)==="@"&&(name=$(/^@@?[\w-]+/))){return new (tree.Variable)(name,index);}},color:function(){var rgb;if(input.charAt(i)==="#"&&(rgb=$(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/))){return new (tree.Color)(rgb[1]);}},dimension:function(){var value,c=input.charCodeAt(i);if((c>57||c<45)||c===47){return;}if(value=$(/^(-?\d*\.?\d+)(px|%|em|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn)?/)){return new (tree.Dimension)(value[1],value[2]);}},javascript:function(){var str,j=i,e;if(input.charAt(j)==="~"){j++,e=true;}if(input.charAt(j)!=="`"){return;}e&&$("~");if(str=$(/^`([^`]*)`/)){return new (tree.JavaScript)(str[1],i,e);}}},variable:function(){var name;if(input.charAt(i)==="@"&&(name=$(/^(@[\w-]+)\s*:/))){return name[1];}},shorthand:function(){var a,b;if(!peek(/^[@\w.%-]+\/[@\w.-]+/)){return;}if((a=$(this.entity))&&$("/")&&(b=$(this.entity))){return new (tree.Shorthand)(a,b);}},mixin:{call:function(){var elements=[],e,c,args,index=i,s=input.charAt(i);if(s!=="."&&s!=="#"){return;}while(e=$(/^[#.](?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+/)){elements.push(new (tree.Element)(c,e,i));c=$(">");}$("(")&&(args=$(this.entities.arguments))&&$(")");if(elements.length>0&&($(";")||peek("}"))){return new (tree.mixin.Call)(elements,args,index);}},definition:function(){var name,params=[],match,ruleset,param,value;if((input.charAt(i)!=="."&&input.charAt(i)!=="#")||peek(/^[^{]*(;|})/)){return;}if(match=$(/^([#.](?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+)\s*\(/)){name=match[1];while(param=$(this.entities.variable)||$(this.entities.literal)||$(this.entities.keyword)){if(param instanceof tree.Variable){if($(":")){if(value=$(this.expression)){params.push({name:param.name,value:value});}else{throw new (Error)("Expected value");}}else{params.push({name:param.name});}}else{params.push({value:param});}if(!$(",")){break;}}if(!$(")")){throw new (Error)("Expected )");}ruleset=$(this.block);if(ruleset){return new (tree.mixin.Definition)(name,params,ruleset);}}}},entity:function(){return $(this.entities.literal)||$(this.entities.variable)||$(this.entities.url)||$(this.entities.call)||$(this.entities.keyword)||$(this.entities.javascript)||$(this.comment);},end:function(){return $(";")||peek("}");},alpha:function(){var value;if(!$(/^\(opacity=/i)){return;}if(value=$(/^\d+/)||$(this.entities.variable)){if(!$(")")){throw new (Error)("missing closing ) for alpha()");}return new (tree.Alpha)(value);}},element:function(){var e,t,c;c=$(this.combinator);e=$(/^(?:\d+\.\d+|\d+)%/)||$(/^(?:[.#]?|:*)(?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+/)||$("*")||$(this.attribute)||$(/^\([^)@]+\)/);if(e){return new (tree.Element)(c,e,i);}if(c.value&&c.value.charAt(0)==="&"){return new (tree.Element)(c,null,i);}},combinator:function(){var match,c=input.charAt(i);if(c===">"||c==="+"||c==="~"){i++;while(input.charAt(i)===" "){i++;}return new (tree.Combinator)(c);}else{if(c==="&"){match="&";i++;if(input.charAt(i)===" "){match="& ";}while(input.charAt(i)===" "){i++;}return new (tree.Combinator)(match);}else{if(c===":"&&input.charAt(i+1)===":"){i+=2;while(input.charAt(i)===" "){i++;}return new (tree.Combinator)("::");}else{if(input.charAt(i-1)===" "){return new (tree.Combinator)(" ");}else{return new (tree.Combinator)(null);}}}}},selector:function(){var sel,e,elements=[],c,match;while(e=$(this.element)){c=input.charAt(i);elements.push(e);if(c==="{"||c==="}"||c===";"||c===","){break;}}if(elements.length>0){return new (tree.Selector)(elements);}},tag:function(){return $(/^[a-zA-Z][a-zA-Z-]*[0-9]?/)||$("*");},attribute:function(){var attr="",key,val,op;if(!$("[")){return;}if(key=$(/^[a-zA-Z-]+/)||$(this.entities.quoted)){if((op=$(/^[|~*$^]?=/))&&(val=$(this.entities.quoted)||$(/^[\w-]+/))){attr=[key,op,val.toCSS?val.toCSS():val].join("");}else{attr=key;}}if(!$("]")){return;}if(attr){return"["+attr+"]";}},block:function(){var content;if($("{")&&(content=$(this.primary))&&$("}")){return content;}},ruleset:function(){var selectors=[],s,rules,match;save();while(s=$(this.selector)){selectors.push(s);$(this.comment);if(!$(",")){break;}$(this.comment);}if(selectors.length>0&&(rules=$(this.block))){return new (tree.Ruleset)(selectors,rules);}else{furthest=i;restore();}},rule:function(){var name,value,c=input.charAt(i),important,match;save();if(c==="."||c==="#"||c==="&"){return;}if(name=$(this.variable)||$(this.property)){if((name.charAt(0)!="@")&&(match=/^([^@+\/'"*`(;{}-]*);/.exec(chunks[j]))){i+=match[0].length-1;value=new (tree.Anonymous)(match[1]);}else{if(name==="font"){value=$(this.font);}else{value=$(this.value);}}important=$(this.important);if(value&&$(this.end)){return new (tree.Rule)(name,value,important,memo);}else{furthest=i;restore();}}},"import":function(){var path;if($(/^@import\s+/)&&(path=$(this.entities.quoted)||$(this.entities.url))&&$(";")){return new (tree.Import)(path,imports);}},directive:function(){var name,value,rules,types;if(input.charAt(i)!=="@"){return;}if(value=$(this["import"])){return value;}else{if(name=$(/^@media|@page/)||$(/^@(?:-webkit-|-moz-)?keyframes/)){types=($(/^[^{]+/)||"").trim();if(rules=$(this.block)){return new (tree.Directive)(name+" "+types,rules);}}else{if(name=$(/^@[-a-z]+/)){if(name==="@font-face"){if(rules=$(this.block)){return new (tree.Directive)(name,rules);}}else{if((value=$(this.entity))&&$(";")){return new (tree.Directive)(name,value);}}}}}},font:function(){var value=[],expression=[],weight,shorthand,font,e;while(e=$(this.shorthand)||$(this.entity)){expression.push(e);}value.push(new (tree.Expression)(expression));if($(",")){while(e=$(this.expression)){value.push(e);if(!$(",")){break;}}}return new (tree.Value)(value);},value:function(){var e,expressions=[],important;while(e=$(this.expression)){expressions.push(e);if(!$(",")){break;}}if(expressions.length>0){return new (tree.Value)(expressions);}},important:function(){if(input.charAt(i)==="!"){return $(/^! *important/);}},sub:function(){var e;if($("(")&&(e=$(this.expression))&&$(")")){return e;}},multiplication:function(){var m,a,op,operation;if(m=$(this.operand)){while((op=($("/")||$("*")))&&(a=$(this.operand))){operation=new (tree.Operation)(op,[operation||m,a]);}return operation||m;}},addition:function(){var m,a,op,operation;if(m=$(this.multiplication)){while((op=$(/^[-+]\s+/)||(input.charAt(i-1)!=" "&&($("+")||$("-"))))&&(a=$(this.multiplication))){operation=new (tree.Operation)(op,[operation||m,a]);}return operation||m;}},operand:function(){var negate,p=input.charAt(i+1);if(input.charAt(i)==="-"&&(p==="@"||p==="(")){negate=$("-");}var o=$(this.sub)||$(this.entities.dimension)||$(this.entities.color)||$(this.entities.variable)||$(this.entities.call);return negate?new (tree.Operation)("*",[new (tree.Dimension)(-1),o]):o;},expression:function(){var e,delim,entities=[],d;while(e=$(this.addition)||$(this.entity)){entities.push(e);}if(entities.length>0){return new (tree.Expression)(entities);}},property:function(){var name;if(name=$(/^(\*?-?[-a-z_0-9]+)\s*:/)){return name[1];}}}};};if(less.mode==="browser"||less.mode==="rhino"){less.Parser.importer=function(c,d,a,b){if(c.charAt(0)!=="/"&&d.length>0){c=d[0]+c;}loadStyleSheet({href:c,title:c,type:b.mime},a,true);};}(function(d){d.functions={rgb:function(h,f,e){return this.rgba(h,f,e,1);},rgba:function(i,h,f,e){var j=[i,h,f].map(function(g){return c(g);}),e=c(e);return new (d.Color)(j,e);},hsl:function(e,g,f){return this.hsla(e,g,f,1);},hsla:function(f,m,i,e){f=(c(f)%360)/360;m=c(m);i=c(i);e=c(e);var k=i<=0.5?i*(m+1):i+m-i*m;var j=i*2-k;return this.rgba(g(f+1/3)*255,g(f)*255,g(f-1/3)*255,e);function g(l){l=l<0?l+1:(l>1?l-1:l);if(l*6<1){return j+(k-j)*l*6;}else{if(l*2<1){return k;}else{if(l*3<2){return j+(k-j)*(2/3-l)*6;}else{return j;}}}}},hue:function(e){return new (d.Dimension)(Math.round(e.toHSL().h));},saturation:function(e){return new (d.Dimension)(Math.round(e.toHSL().s*100),"%");},lightness:function(e){return new (d.Dimension)(Math.round(e.toHSL().l*100),"%");},alpha:function(e){return new (d.Dimension)(e.toHSL().a);},saturate:function(f,e){var g=f.toHSL();g.s+=e.value/100;g.s=a(g.s);return b(g);},desaturate:function(f,e){var g=f.toHSL();g.s-=e.value/100;g.s=a(g.s);return b(g);},lighten:function(f,e){var g=f.toHSL();g.l+=e.value/100;g.l=a(g.l);return b(g);},darken:function(f,e){var g=f.toHSL();g.l-=e.value/100;g.l=a(g.l);return b(g);},fadein:function(f,e){var g=f.toHSL();g.a+=e.value/100;g.a=a(g.a);return b(g);},fadeout:function(f,e){var g=f.toHSL();g.a-=e.value/100;g.a=a(g.a);return b(g);},fade:function(f,e){var g=f.toHSL();g.a=e.value/100;g.a=a(g.a);return b(g);},spin:function(f,e){var g=f.toHSL();var h=(g.h+e.value)%360;g.h=h<0?360+h:h;return b(g);},mix:function(g,h,n){var i=n.value/100;var k=i*2-1;var e=g.toHSL().a-h.toHSL().a;var l=(((k*e==-1)?k:(k+e)/(1+k*e))+1)/2;var m=1-l;var j=[g.rgb[0]*l+h.rgb[0]*m,g.rgb[1]*l+h.rgb[1]*m,g.rgb[2]*l+h.rgb[2]*m];var f=g.alpha*i+h.alpha*(1-i);return new (d.Color)(j,f);},greyscale:function(e){return this.desaturate(e,new (d.Dimension)(100));},e:function(e){return new (d.Anonymous)(e instanceof d.JavaScript?e.evaluated:e);},escape:function(e){return new (d.Anonymous)(encodeURI(e.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"));},"%":function(g){var e=Array.prototype.slice.call(arguments,1),h=g.value;for(var f=0;f<e.length;f++){h=h.replace(/%[sda]/i,function(i){var j=i.match(/s/i)?e[f].value:e[f].toCSS();return i.match(/[A-Z]$/)?encodeURIComponent(j):j;});}h=h.replace(/%%/g,"%");return new (d.Quoted)('"'+h+'"',h);},round:function(e){if(e instanceof d.Dimension){return new (d.Dimension)(Math.round(c(e)),e.unit);}else{if(typeof(e)==="number"){return Math.round(e);}else{throw {error:"RuntimeError",message:"math functions take numbers as parameters"};}}},argb:function(e){return new (d.Anonymous)(e.toARGB());}};function b(e){return d.functions.hsla(e.h,e.s,e.l,e.a);}function c(e){if(e instanceof d.Dimension){return parseFloat(e.unit=="%"?e.value/100:e.value);}else{if(typeof(e)==="number"){return e;}else{throw {error:"RuntimeError",message:"color functions take numbers as parameters"};}}}function a(e){return Math.min(1,Math.max(0,e));}})(require("./tree"));(function(tree){tree.Alpha=function(val){this.value=val;};tree.Alpha.prototype={toCSS:function(){return"alpha(opacity="+(this.value.toCSS?this.value.toCSS():this.value)+")";},eval:function(env){if(this.value.eval){this.value=this.value.eval(env);}return this;}};})(require("../tree"));(function(tree){tree.Anonymous=function(string){this.value=string.value||string;};tree.Anonymous.prototype={toCSS:function(){return this.value;},eval:function(){return this;}};})(require("../tree"));(function(tree){tree.Call=function(name,args,index){this.name=name;this.args=args;this.index=index;};tree.Call.prototype={eval:function(env){var args=this.args.map(function(a){return a.eval(env);});if(this.name in tree.functions){try{return tree.functions[this.name].apply(tree.functions,args);}catch(e){throw {message:"error evaluating function `"+this.name+"`",index:this.index};}}else{return new (tree.Anonymous)(this.name+"("+args.map(function(a){return a.toCSS();}).join(", ")+")");}},toCSS:function(env){return this.eval(env).toCSS();}};})(require("../tree"));(function(tree){tree.Color=function(rgb,a){if(Array.isArray(rgb)){this.rgb=rgb;}else{if(rgb.length==6){this.rgb=rgb.match(/.{2}/g).map(function(c){return parseInt(c,16);});}else{this.rgb=rgb.split("").map(function(c){return parseInt(c+c,16);});}}this.alpha=typeof(a)==="number"?a:1;};tree.Color.prototype={eval:function(){return this;},toCSS:function(){if(this.alpha<1){return"rgba("+this.rgb.map(function(c){return Math.round(c);}).concat(this.alpha).join(", ")+")";}else{return"#"+this.rgb.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?"0"+i:i;}).join("");}},operate:function(op,other){var result=[];if(!(other instanceof tree.Color)){other=other.toColor();}for(var c=0;c<3;c++){result[c]=tree.operate(op,this.rgb[c],other.rgb[c]);}return new (tree.Color)(result,this.alpha+other.alpha);},toHSL:function(){var r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,l=(max+min)/2,d=max-min;if(max===min){h=s=0;}else{s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}return{h:h*360,s:s,l:l,a:a};},toARGB:function(){var argb=[Math.round(this.alpha*255)].concat(this.rgb);return"#"+argb.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?"0"+i:i;}).join("");}};})(require("../tree"));(function(tree){tree.Comment=function(value,silent){this.value=value;this.silent=!!silent;};tree.Comment.prototype={toCSS:function(env){return env.compress?"":this.value;},eval:function(){return this;}};})(require("../tree"));(function(tree){tree.Dimension=function(value,unit){this.value=parseFloat(value);this.unit=unit||null;};tree.Dimension.prototype={eval:function(){return this;},toColor:function(){return new (tree.Color)([this.value,this.value,this.value]);},toCSS:function(){var css=this.value+this.unit;return css;},operate:function(op,other){return new (tree.Dimension)(tree.operate(op,this.value,other.value),this.unit||other.unit);}};})(require("../tree"));(function(tree){tree.Directive=function(name,value){this.name=name;if(Array.isArray(value)){this.ruleset=new (tree.Ruleset)([],value);}else{this.value=value;}};tree.Directive.prototype={toCSS:function(ctx,env){if(this.ruleset){this.ruleset.root=true;return this.name+(env.compress?"{":" {\n  ")+this.ruleset.toCSS(ctx,env).trim().replace(/\n/g,"\n  ")+(env.compress?"}":"\n}\n");}else{return this.name+" "+this.value.toCSS()+";\n";}},eval:function(env){env.frames.unshift(this);this.ruleset=this.ruleset&&this.ruleset.eval(env);env.frames.shift();return this;},variable:function(name){return tree.Ruleset.prototype.variable.call(this.ruleset,name);},find:function(){return tree.Ruleset.prototype.find.apply(this.ruleset,arguments);},rulesets:function(){return tree.Ruleset.prototype.rulesets.apply(this.ruleset);}};})(require("../tree"));(function(a){a.Element=function(b,d,c){this.combinator=b instanceof a.Combinator?b:new (a.Combinator)(b);this.value=d?d.trim():"";this.index=c;};a.Element.prototype.toCSS=function(b){return this.combinator.toCSS(b||{})+this.value;};a.Combinator=function(b){if(b===" "){this.value=" ";}else{if(b==="& "){this.value="& ";}else{this.value=b?b.trim():"";}}};a.Combinator.prototype.toCSS=function(b){return{"":""," ":" ","&":"","& ":" ",":":" :","::":"::","+":b.compress?"+":" + ","~":b.compress?"~":" ~ ",">":b.compress?">":" > "}[this.value];};})(require("../tree"));(function(tree){tree.Expression=function(value){this.value=value;};tree.Expression.prototype={eval:function(env){if(this.value.length>1){return new (tree.Expression)(this.value.map(function(e){return e.eval(env);}));}else{if(this.value.length===1){return this.value[0].eval(env);}else{return this;}}},toCSS:function(env){return this.value.map(function(e){return e.toCSS(env);}).join(" ");}};})(require("../tree"));(function(tree){tree.Import=function(path,imports){var that=this;this._path=path;if(path instanceof tree.Quoted){this.path=/\.(le?|c)ss(\?.*)?$/.test(path.value)?path.value:path.value+".less";}else{this.path=path.value.value||path.value;}this.css=/css(\?.*)?$/.test(this.path);if(!this.css){imports.push(this.path,function(root){if(!root){throw new (Error)("Error parsing "+that.path);}that.root=root;});}};tree.Import.prototype={toCSS:function(){if(this.css){return"@import "+this._path.toCSS()+";\n";}else{return"";}},eval:function(env){var ruleset;if(this.css){return this;}else{ruleset=new (tree.Ruleset)(null,this.root.rules.slice(0));for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.Import){Array.prototype.splice.apply(ruleset.rules,[i,1].concat(ruleset.rules[i].eval(env)));}}return ruleset.rules;}}};})(require("../tree"));(function(tree){tree.JavaScript=function(string,index,escaped){this.escaped=escaped;this.expression=string;this.index=index;};tree.JavaScript.prototype={eval:function(env){var result,that=this,context={};var expression=this.expression.replace(/@\{([\w-]+)\}/g,function(_,name){return tree.jsify(new (tree.Variable)("@"+name,that.index).eval(env));});try{expression=new (Function)("return ("+expression+")");}catch(e){throw {message:"JavaScript evaluation error: `"+expression+"`",index:this.index};}for(var k in env.frames[0].variables()){context[k.slice(1)]={value:env.frames[0].variables()[k].value,toJS:function(){return this.value.eval(env).toCSS();}};}try{result=expression.call(context);}catch(e){throw {message:"JavaScript evaluation error: '"+e.name+": "+e.message+"'",index:this.index};}if(typeof(result)==="string"){return new (tree.Quoted)('"'+result+'"',result,this.escaped,this.index);}else{if(Array.isArray(result)){return new (tree.Anonymous)(result.join(", "));}else{return new (tree.Anonymous)(result);}}}};})(require("../tree"));(function(tree){tree.Keyword=function(value){this.value=value;};tree.Keyword.prototype={eval:function(){return this;},toCSS:function(){return this.value;}};})(require("../tree"));(function(tree){tree.mixin={};tree.mixin.Call=function(elements,args,index){this.selector=new (tree.Selector)(elements);this.arguments=args;this.index=index;};tree.mixin.Call.prototype={eval:function(env){var mixins,args,rules=[],match=false;for(var i=0;i<env.frames.length;i++){if((mixins=env.frames[i].find(this.selector)).length>0){args=this.arguments&&this.arguments.map(function(a){return a.eval(env);});for(var m=0;m<mixins.length;m++){if(mixins[m].match(args,env)){try{Array.prototype.push.apply(rules,mixins[m].eval(env,this.arguments).rules);match=true;}catch(e){throw {message:e.message,index:e.index,stack:e.stack,call:this.index};}}}if(match){return rules;}else{throw {message:"No matching definition was found for `"+this.selector.toCSS().trim()+"("+this.arguments.map(function(a){return a.toCSS();}).join(", ")+")`",index:this.index};}}}throw {message:this.selector.toCSS().trim()+" is undefined",index:this.index};}};tree.mixin.Definition=function(name,params,rules){this.name=name;this.selectors=[new (tree.Selector)([new (tree.Element)(null,name)])];this.params=params;this.arity=params.length;this.rules=rules;this._lookups={};this.required=params.reduce(function(count,p){if(!p.name||(p.name&&!p.value)){return count+1;}else{return count;}},0);this.parent=tree.Ruleset.prototype;this.frames=[];};tree.mixin.Definition.prototype={toCSS:function(){return"";},variable:function(name){return this.parent.variable.call(this,name);},variables:function(){return this.parent.variables.call(this);},find:function(){return this.parent.find.apply(this,arguments);},rulesets:function(){return this.parent.rulesets.apply(this);},eval:function(env,args){var frame=new (tree.Ruleset)(null,[]),context,_arguments=[];for(var i=0,val;i<this.params.length;i++){if(this.params[i].name){if(val=(args&&args[i])||this.params[i].value){frame.rules.unshift(new (tree.Rule)(this.params[i].name,val.eval(env)));}else{throw {message:"wrong number of arguments for "+this.name+" ("+args.length+" for "+this.arity+")"};}}}for(var i=0;i<Math.max(this.params.length,args&&args.length);i++){_arguments.push(args[i]||this.params[i].value);}frame.rules.unshift(new (tree.Rule)("@arguments",new (tree.Expression)(_arguments).eval(env)));return new (tree.Ruleset)(null,this.rules.slice(0)).eval({frames:[this,frame].concat(this.frames,env.frames)});},match:function(args,env){var argsLength=(args&&args.length)||0,len;if(argsLength<this.required){return false;}if((this.required>0)&&(argsLength>this.params.length)){return false;}len=Math.min(argsLength,this.arity);for(var i=0;i<len;i++){if(!this.params[i].name){if(args[i].eval(env).toCSS()!=this.params[i].value.eval(env).toCSS()){return false;}}}return true;}};})(require("../tree"));(function(tree){tree.Operation=function(op,operands){this.op=op.trim();this.operands=operands;};tree.Operation.prototype.eval=function(env){var a=this.operands[0].eval(env),b=this.operands[1].eval(env),temp;if(a instanceof tree.Dimension&&b instanceof tree.Color){if(this.op==="*"||this.op==="+"){temp=b,b=a,a=temp;}else{throw {name:"OperationError",message:"Can't substract or divide a color from a number"};}}return a.operate(this.op,b);};tree.operate=function(op,a,b){switch(op){case"+":return a+b;case"-":return a-b;case"*":return a*b;case"/":return a/b;}};})(require("../tree"));(function(tree){tree.Quoted=function(str,content,escaped,i){this.escaped=escaped;this.value=content||"";this.quote=str.charAt(0);this.index=i;};tree.Quoted.prototype={toCSS:function(){if(this.escaped){return this.value;}else{return this.quote+this.value+this.quote;}},eval:function(env){var that=this;var value=this.value.replace(/`([^`]+)`/g,function(_,exp){return new (tree.JavaScript)(exp,that.index,true).eval(env).value;}).replace(/@\{([\w-]+)\}/g,function(_,name){var v=new (tree.Variable)("@"+name,that.index).eval(env);return v.value||v.toCSS();});return new (tree.Quoted)(this.quote+value+this.quote,value,this.escaped,this.index);}};})(require("../tree"));(function(tree){tree.Rule=function(name,value,important,index){this.name=name;this.value=(value instanceof tree.Value)?value:new (tree.Value)([value]);this.important=important?" "+important.trim():"";this.index=index;if(name.charAt(0)==="@"){this.variable=true;}else{this.variable=false;}};tree.Rule.prototype.toCSS=function(env){if(this.variable){return"";}else{return this.name+(env.compress?":":": ")+this.value.toCSS(env)+this.important+";";}};tree.Rule.prototype.eval=function(context){return new (tree.Rule)(this.name,this.value.eval(context),this.important,this.index);};tree.Shorthand=function(a,b){this.a=a;this.b=b;};tree.Shorthand.prototype={toCSS:function(env){return this.a.toCSS(env)+"/"+this.b.toCSS(env);},eval:function(){return this;}};})(require("../tree"));(function(tree){tree.Ruleset=function(selectors,rules){this.selectors=selectors;this.rules=rules;this._lookups={};};tree.Ruleset.prototype={eval:function(env){var ruleset=new (tree.Ruleset)(this.selectors,this.rules.slice(0));ruleset.root=this.root;env.frames.unshift(ruleset);if(ruleset.root){for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.Import){Array.prototype.splice.apply(ruleset.rules,[i,1].concat(ruleset.rules[i].eval(env)));}}}for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.mixin.Definition){ruleset.rules[i].frames=env.frames.slice(0);}}for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.mixin.Call){Array.prototype.splice.apply(ruleset.rules,[i,1].concat(ruleset.rules[i].eval(env)));}}for(var i=0,rule;i<ruleset.rules.length;i++){rule=ruleset.rules[i];if(!(rule instanceof tree.mixin.Definition)){ruleset.rules[i]=rule.eval?rule.eval(env):rule;}}env.frames.shift();return ruleset;},match:function(args){return !args||args.length===0;},variables:function(){if(this._variables){return this._variables;}else{return this._variables=this.rules.reduce(function(hash,r){if(r instanceof tree.Rule&&r.variable===true){hash[r.name]=r;}return hash;},{});}},variable:function(name){return this.variables()[name];},rulesets:function(){if(this._rulesets){return this._rulesets;}else{return this._rulesets=this.rules.filter(function(r){return(r instanceof tree.Ruleset)||(r instanceof tree.mixin.Definition);});}},find:function(selector,self){self=self||this;var rules=[],rule,match,key=selector.toCSS();if(key in this._lookups){return this._lookups[key];}this.rulesets().forEach(function(rule){if(rule!==self){for(var j=0;j<rule.selectors.length;j++){if(match=selector.match(rule.selectors[j])){if(selector.elements.length>rule.selectors[j].elements.length){Array.prototype.push.apply(rules,rule.find(new (tree.Selector)(selector.elements.slice(1)),self));}else{rules.push(rule);}break;}}}});return this._lookups[key]=rules;},toCSS:function(context,env){var css=[],rules=[],rulesets=[],paths=[],selector,rule;if(!this.root){if(context.length===0){paths=this.selectors.map(function(s){return[s];});}else{this.joinSelectors(paths,context,this.selectors);}}for(var i=0;i<this.rules.length;i++){rule=this.rules[i];if(rule.rules||(rule instanceof tree.Directive)){rulesets.push(rule.toCSS(paths,env));}else{if(rule instanceof tree.Comment){if(!rule.silent){if(this.root){rulesets.push(rule.toCSS(env));}else{rules.push(rule.toCSS(env));}}}else{if(rule.toCSS&&!rule.variable){rules.push(rule.toCSS(env));}else{if(rule.value&&!rule.variable){rules.push(rule.value.toString());}}}}}rulesets=rulesets.join("");if(this.root){css.push(rules.join(env.compress?"":"\n"));}else{if(rules.length>0){selector=paths.map(function(p){return p.map(function(s){return s.toCSS(env);}).join("").trim();}).join(env.compress?",":(paths.length>3?",\n":", "));css.push(selector,(env.compress?"{":" {\n  ")+rules.join(env.compress?"":"\n  ")+(env.compress?"}":"\n}\n"));}}css.push(rulesets);return css.join("")+(env.compress?"\n":"");},joinSelectors:function(paths,context,selectors){for(var s=0;s<selectors.length;s++){this.joinSelector(paths,context,selectors[s]);}},joinSelector:function(paths,context,selector){var before=[],after=[],beforeElements=[],afterElements=[],hasParentSelector=false,el;for(var i=0;i<selector.elements.length;i++){el=selector.elements[i];if(el.combinator.value.charAt(0)==="&"){hasParentSelector=true;}if(hasParentSelector){afterElements.push(el);}else{beforeElements.push(el);}}if(!hasParentSelector){afterElements=beforeElements;beforeElements=[];}if(beforeElements.length>0){before.push(new (tree.Selector)(beforeElements));}if(afterElements.length>0){after.push(new (tree.Selector)(afterElements));}for(var c=0;c<context.length;c++){paths.push(before.concat(context[c]).concat(after));}}};})(require("../tree"));(function(a){a.Selector=function(b){this.elements=b;if(this.elements[0].combinator.value===""){this.elements[0].combinator.value=" ";}};a.Selector.prototype.match=function(f){var c=this.elements.length,e=f.elements.length,d=Math.min(c,e);if(c<e){return false;}else{for(var b=0;b<d;b++){if(this.elements[b].value!==f.elements[b].value){return false;}}}return true;};a.Selector.prototype.toCSS=function(b){if(this._css){return this._css;}return this._css=this.elements.map(function(c){if(typeof(c)==="string"){return" "+c.trim();}else{return c.toCSS(b);}}).join("");};})(require("../tree"));(function(tree){tree.URL=function(val,paths){if(val.data){this.attrs=val;}else{if(!/^(?:https?:\/\/|file:\/\/|data:)?/.test(val.value)&&paths.length>0&&typeof(window)!=="undefined"){val.value=paths[0]+(val.value.charAt(0)==="/"?val.value.slice(1):val.value);}this.value=val;this.paths=paths;}};tree.URL.prototype={toCSS:function(){return"url("+(this.attrs?"data:"+this.attrs.mime+this.attrs.charset+this.attrs.base64+this.attrs.data:this.value.toCSS())+")";},eval:function(ctx){return this.attrs?this:new (tree.URL)(this.value.eval(ctx),this.paths);}};})(require("../tree"));(function(tree){tree.Value=function(value){this.value=value;this.is="value";};tree.Value.prototype={eval:function(env){if(this.value.length===1){return this.value[0].eval(env);}else{return new (tree.Value)(this.value.map(function(v){return v.eval(env);}));}},toCSS:function(env){return this.value.map(function(e){return e.toCSS(env);}).join(env.compress?",":", ");}};})(require("../tree"));(function(tree){tree.Variable=function(name,index){this.name=name,this.index=index;};tree.Variable.prototype={eval:function(env){var variable,v,name=this.name;if(name.indexOf("@@")==0){name="@"+new (tree.Variable)(name.slice(1)).eval(env).value;}if(variable=tree.find(env.frames,function(frame){if(v=frame.variable(name)){return v.value.eval(env);}})){return variable;}else{throw {message:"variable "+name+" is undefined",index:this.index};}}};})(require("../tree"));require("./tree").find=function(c,a){for(var b=0,d;b<c.length;b++){if(d=a.call(c,c[b])){return d;}}return null;};require("./tree").jsify=function(a){if(Array.isArray(a.value)&&(a.value.length>1)){return"["+a.value.map(function(b){return b.toCSS(false);}).join(", ")+"]";}else{return a.toCSS(false);}};var name;function loadStyleSheet(f,a,d,e){var g=name.slice(0,name.lastIndexOf("/")+1)+f.href;var b=readFile(g);var c=new less.Parser();c.parse(b,function(h,i){if(h){print("Error: "+h);quit(1);}a(i,f,{local:false,lastModified:0,remaining:e});});}function writeFile(b,a){var c=new java.io.FileWriter(b);var d=new java.io.BufferedWriter(c);d.write(a);d.close();}(function(a){name=a[0];var c=a[1];if(!name){print("No files present in the fileset; Check your pattern match in build.xml");quit(1);}path=name.split("/");path.pop();path=path.join("/");var b=readFile(name);if(!b){print("lesscss: couldn't open file "+name);quit(1);}var e;var d=new less.Parser();d.parse(b,function(f,g){if(f){quit(1);}else{e=g.toCSS();if(c){writeFile(c,e);print("Written to "+c);}else{print(e);}quit(0);}});print("done");}(arguments));