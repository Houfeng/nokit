/*csd*/function require(a){return less[a.split("/")[1]];}if(!Array.isArray){Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"||(a instanceof Array);};}if(!Array.prototype.forEach){Array.prototype.forEach=function(a,d){var c=this.length>>>0;for(var b=0;b<c;b++){if(b in this){a.call(d,this[b],b,this);}}};}if(!Array.prototype.map){Array.prototype.map=function(a){var c=this.length>>>0;var d=new Array(c);var e=arguments[1];for(var b=0;b<c;b++){if(b in this){d[b]=a.call(e,this[b],b,this);}}return d;};}if(!Array.prototype.filter){Array.prototype.filter=function(a){var d=[];var c=arguments[1];for(var b=0;b<this.length;b++){if(a.call(c,this[b])){d.push(this[b]);}}return d;};}if(!Array.prototype.reduce){Array.prototype.reduce=function(a){var c=this.length>>>0;var b=0;if(c===0&&arguments.length===1){throw new TypeError();}if(arguments.length>=2){var d=arguments[1];}else{do{if(b in this){d=this[b++];break;}if(++b>=c){throw new TypeError();}}while(true);}for(;b<c;b++){if(b in this){d=a.call(null,d,this[b],b,this);}}return d;};}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){var b=this.length;var a=arguments[1]||0;if(!b){return -1;}if(a>=b){return -1;}if(a<0){a+=b;}for(;a<b;a++){if(!Object.prototype.hasOwnProperty.call(this,a)){continue;}if(c===this[a]){return a;}}return -1;};}if(!Object.keys){Object.keys=function(c){var a=[];for(var b in c){if(Object.prototype.hasOwnProperty.call(c,b)){a.push(b);}}return a;};}if(!String.prototype.trim){String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"");};}var less,tree,charset;if(typeof environment==="object"&&({}).toString.call(environment)==="[object Environment]"){if(typeof(window)==="undefined"){less={};}else{less=window.less={};}tree=less.tree={};less.mode="rhino";}else{if(typeof(window)==="undefined"){less=exports,tree=require("./tree");less.mode="node";}else{if(typeof(window.less)==="undefined"){window.less={};}less=window.less,tree=window.less.tree={};less.mode="browser";}}less.Parser=function Parser(env){var input,i,j,temp,memo,furthest,chunks,current,parser;var that=this;var env=env||{};if(!env.contents){env.contents={};}env.rootpath=env.rootpath||"";if(!env.files){env.files={};}var finish=function(){};var imports=this.imports={paths:env.paths||[],queue:[],files:env.files,contents:env.contents,mime:env.mime,error:null,push:function(path,callback){var that=this;this.queue.push(path);less.Parser.importer(path,this.paths,function(e,root,fullPath){that.queue.splice(that.queue.indexOf(path),1);var imported=fullPath in that.files;that.files[fullPath]=root;if(e&&!that.error){that.error=e;}callback(e,root,imported);if(that.queue.length===0){finish(that.error);}},env);}};function save(){temp=chunks[j],memo=i,current=i;}function restore(){chunks[j]=temp,i=memo,current=i;}function sync(){if(i>current){chunks[j]=chunks[j].slice(i-current);current=i;}}function isWhitespace(c){var code=c.charCodeAt(0);return code===32||code===10||code===9;}function $(tok){var match,args,length,index,k;if(tok instanceof Function){return tok.call(parser.parsers);}else{if(typeof(tok)==="string"){match=input.charAt(i)===tok?tok:null;length=1;sync();}else{sync();if(match=tok.exec(chunks[j])){length=match[0].length;}else{return null;}}}if(match){skipWhitespace(length);if(typeof(match)==="string"){return match;}else{return match.length===1?match[0]:match;}}}function skipWhitespace(length){var oldi=i,oldj=j,endIndex=i+chunks[j].length,mem=i+=length;while(i<endIndex){if(!isWhitespace(input.charAt(i))){break;}i++;}chunks[j]=chunks[j].slice(length+(i-mem));current=i;if(chunks[j].length===0&&j<chunks.length-1){j++;}return oldi!==i||oldj!==j;}function expect(arg,msg){var result=$(arg);if(!result){error(msg||(typeof(arg)==="string"?"expected '"+arg+"' got '"+input.charAt(i)+"'":"unexpected token"));}else{return result;}}function error(msg,type){var e=new Error(msg);e.index=i;e.type=type||"Syntax";throw e;}function peek(tok){if(typeof(tok)==="string"){return input.charAt(i)===tok;}else{if(tok.test(chunks[j])){return true;}else{return false;}}}function getInput(e,env){if(e.filename&&env.filename&&(e.filename!==env.filename)){return parser.imports.contents[e.filename];}else{return input;}}function getLocation(index,input){for(var n=index,column=-1;n>=0&&input.charAt(n)!=="\n";n--){column++;}return{line:typeof(index)==="number"?(input.slice(0,index).match(/\n/g)||"").length:null,column:column};}function getFileName(e){if(less.mode==="browser"||less.mode==="rhino"){return e.filename;}else{return require("path").resolve(e.filename);}}function getDebugInfo(index,inputStream,e){return{lineNumber:getLocation(index,inputStream).line+1,fileName:getFileName(e)};}function LessError(e,env){var input=getInput(e,env),loc=getLocation(e.index,input),line=loc.line,col=loc.column,lines=input.split("\n");this.type=e.type||"Syntax";this.message=e.message;this.filename=e.filename||env.filename;this.index=e.index;this.line=typeof(line)==="number"?line+1:null;this.callLine=e.call&&(getLocation(e.call,input).line+1);this.callExtract=lines[getLocation(e.call,input).line];this.stack=e.stack;this.column=col;this.extract=[lines[line-1],lines[line],lines[line+1]];}this.env=env=env||{};this.optimization=("optimization" in this.env)?this.env.optimization:1;this.env.filename=this.env.filename||null;return parser={imports:imports,parse:function(str,callback){var root,start,end,zone,line,lines,buff=[],c,error=null;i=j=current=furthest=0;input=str.replace(/\r\n/g,"\n");input=input.replace(/^\uFEFF/,"");chunks=(function(chunks){var j=0,skip=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,comment=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,string=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,level=0,match,chunk=chunks[0],inParam;for(var i=0,c,cc;i<input.length;){skip.lastIndex=i;if(match=skip.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);}}c=input.charAt(i);comment.lastIndex=string.lastIndex=i;if(match=string.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);continue;}}if(!inParam&&c==="/"){cc=input.charAt(i+1);if(cc==="/"||cc==="*"){if(match=comment.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);continue;}}}}switch(c){case"{":if(!inParam){level++;chunk.push(c);break;}case"}":if(!inParam){level--;chunk.push(c);chunks[++j]=chunk=[];break;}case"(":if(!inParam){inParam=true;chunk.push(c);break;}case")":if(inParam){inParam=false;chunk.push(c);break;}default:chunk.push(c);}i++;}if(level!=0){error=new (LessError)({index:i-1,type:"Parse",message:(level>0)?"missing closing `}`":"missing opening `{`",filename:env.filename},env);}return chunks.map(function(c){return c.join("");});})([[]]);if(error){return callback(error,env);}try{root=new (tree.Ruleset)([],$(this.parsers.primary));root.root=true;}catch(e){return callback(new (LessError)(e,env));}root.toCSS=(function(evaluate){var line,lines,column;return function(options,variables){var frames=[],importError;options=options||{};if(typeof(variables)==="object"&&!Array.isArray(variables)){variables=Object.keys(variables).map(function(k){var value=variables[k];if(!(value instanceof tree.Value)){if(!(value instanceof tree.Expression)){value=new (tree.Expression)([value]);}value=new (tree.Value)([value]);}return new (tree.Rule)("@"+k,value,false,0);});frames=[new (tree.Ruleset)(null,variables)];}try{var css=evaluate.call(this,{frames:frames}).toCSS([],{compress:options.compress||false,dumpLineNumbers:env.dumpLineNumbers});}catch(e){throw new (LessError)(e,env);}if((importError=parser.imports.error)){if(importError instanceof LessError){throw importError;}else{throw new (LessError)(importError,env);}}if(options.yuicompress&&less.mode==="node"){return require("ycssmin").cssmin(css);}else{if(options.compress){return css.replace(/(\s)+/g,"$1");}else{return css;}}};})(root.eval);if(i<input.length-1){i=furthest;lines=input.split("\n");line=(input.slice(0,i).match(/\n/g)||"").length+1;for(var n=i,column=-1;n>=0&&input.charAt(n)!=="\n";n--){column++;}error={type:"Parse",message:"Syntax Error on line "+line,index:i,filename:env.filename,line:line,column:column,extract:[lines[line-2],lines[line-1],lines[line]]};}if(this.imports.queue.length>0){finish=function(e){e=error||e;if(e){callback(e);}else{callback(null,root);}};}else{callback(error,root);}},parsers:{primary:function(){var node,root=[];while((node=$(this.mixin.definition)||$(this.rule)||$(this.ruleset)||$(this.mixin.call)||$(this.comment)||$(this.directive))||$(/^[\s\n]+/)||$(/^;+/)){node&&root.push(node);}return root;},comment:function(){var comment;if(input.charAt(i)!=="/"){return;}if(input.charAt(i+1)==="/"){return new (tree.Comment)($(/^\/\/.*/),true);}else{if(comment=$(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/)){return new (tree.Comment)(comment);}}},entities:{quoted:function(){var str,j=i,e;if(input.charAt(j)==="~"){j++,e=true;}if(input.charAt(j)!=='"'&&input.charAt(j)!=="'"){return;}e&&$("~");if(str=$(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/)){return new (tree.Quoted)(str[0],str[1]||str[2],e);}},keyword:function(){var k;if(k=$(/^[_A-Za-z-][_A-Za-z0-9-]*/)){if(tree.colors.hasOwnProperty(k)){return new (tree.Color)(tree.colors[k].slice(1));}else{return new (tree.Keyword)(k);}}},call:function(){var name,nameLC,args,alpha_ret,index=i;if(!(name=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(chunks[j]))){return;}name=name[1];nameLC=name.toLowerCase();if(nameLC==="url"){return null;}else{i+=name.length;}if(nameLC==="alpha"){alpha_ret=$(this.alpha);if(typeof alpha_ret!=="undefined"){return alpha_ret;}}$("(");args=$(this.entities.arguments);if(!$(")")){return;}if(name){return new (tree.Call)(name,args,index,env.filename);}},arguments:function(){var args=[],arg;while(arg=$(this.entities.assignment)||$(this.expression)){args.push(arg);if(!$(",")){break;}}return args;},literal:function(){return $(this.entities.ratio)||$(this.entities.dimension)||$(this.entities.color)||$(this.entities.quoted)||$(this.entities.unicodeDescriptor);},assignment:function(){var key,value;if((key=$(/^\w+(?=\s?=)/i))&&$("=")&&(value=$(this.entity))){return new (tree.Assignment)(key,value);}},url:function(){var value;if(input.charAt(i)!=="u"||!$(/^url\(/)){return;}value=$(this.entities.quoted)||$(this.entities.variable)||$(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"";expect(")");return new (tree.URL)((value.value!=null||value instanceof tree.Variable)?value:new (tree.Anonymous)(value),env.rootpath);},variable:function(){var name,index=i;if(input.charAt(i)==="@"&&(name=$(/^@@?[\w-]+/))){return new (tree.Variable)(name,index,env.filename);}},variableCurly:function(){var name,curly,index=i;if(input.charAt(i)==="@"&&(curly=$(/^@\{([\w-]+)\}/))){return new (tree.Variable)("@"+curly[1],index,env.filename);}},color:function(){var rgb;if(input.charAt(i)==="#"&&(rgb=$(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))){return new (tree.Color)(rgb[1]);}},dimension:function(){var value,c=input.charCodeAt(i);if((c>57||c<43)||c===47||c==44){return;}if(value=$(/^([+-]?\d*\.?\d+)(px|%|em|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn|dpi|dpcm|dppx|rem|vw|vh|vmin|vm|ch)?/)){return new (tree.Dimension)(value[1],value[2]);}},ratio:function(){var value,c=input.charCodeAt(i);if(c>57||c<48){return;}if(value=$(/^(\d+\/\d+)/)){return new (tree.Ratio)(value[1]);}},unicodeDescriptor:function(){var ud;if(ud=$(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/)){return new (tree.UnicodeDescriptor)(ud[0]);}},javascript:function(){var str,j=i,e;if(input.charAt(j)==="~"){j++,e=true;}if(input.charAt(j)!=="`"){return;}e&&$("~");if(str=$(/^`([^`]*)`/)){return new (tree.JavaScript)(str[1],i,e);}}},variable:function(){var name;if(input.charAt(i)==="@"&&(name=$(/^(@[\w-]+)\s*:/))){return name[1];}},shorthand:function(){var a,b;if(!peek(/^[@\w.%-]+\/[@\w.-]+/)){return;}save();if((a=$(this.entity))&&$("/")&&(b=$(this.entity))){return new (tree.Shorthand)(a,b);}restore();},mixin:{call:function(){var elements=[],e,c,argsSemiColon=[],argsComma=[],args,delim,arg,nameLoop,expressions,isSemiColonSeperated,expressionContainsNamed,index=i,s=input.charAt(i),name,value,important=false;if(s!=="."&&s!=="#"){return;}save();while(e=$(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)){elements.push(new (tree.Element)(c,e,i));c=$(">");}if($("(")){expressions=[];while(arg=$(this.expression)){nameLoop=null;value=arg;if(arg.value.length==1){var val=arg.value[0];if(val instanceof tree.Variable){if($(":")){if(expressions.length>0){if(isSemiColonSeperated){error("Cannot mix ; and , as delimiter types");}expressionContainsNamed=true;}value=expect(this.expression);nameLoop=(name=val.name);}}}expressions.push(value);argsComma.push({name:nameLoop,value:value});if($(",")){continue;}if($(";")||isSemiColonSeperated){if(expressionContainsNamed){error("Cannot mix ; and , as delimiter types");}isSemiColonSeperated=true;if(expressions.length>1){value=new (tree.Value)(expressions);}argsSemiColon.push({name:name,value:value});name=null;expressions=[];expressionContainsNamed=false;}}expect(")");}args=isSemiColonSeperated?argsSemiColon:argsComma;if($(this.important)){important=true;}if(elements.length>0&&($(";")||peek("}"))){return new (tree.mixin.Call)(elements,args,index,env.filename,important);}restore();},definition:function(){var name,params=[],match,ruleset,param,value,cond,variadic=false;if((input.charAt(i)!=="."&&input.charAt(i)!=="#")||peek(/^[^{]*\}/)){return;}save();if(match=$(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){name=match[1];do{$(this.comment);if(input.charAt(i)==="."&&$(/^\.{3}/)){variadic=true;params.push({variadic:true});break;}else{if(param=$(this.entities.variable)||$(this.entities.literal)||$(this.entities.keyword)){if(param instanceof tree.Variable){if($(":")){value=expect(this.expression,"expected expression");params.push({name:param.name,value:value});}else{if($(/^\.{3}/)){params.push({name:param.name,variadic:true});variadic=true;break;}else{params.push({name:param.name});}}}else{params.push({value:param});}}else{break;}}}while($(",")||$(";"));if(!$(")")){furthest=i;restore();}$(this.comment);if($(/^when/)){cond=expect(this.conditions,"expected condition");}ruleset=$(this.block);if(ruleset){return new (tree.mixin.Definition)(name,params,ruleset,cond,variadic);}else{restore();}}}},entity:function(){return $(this.entities.literal)||$(this.entities.variable)||$(this.entities.url)||$(this.entities.call)||$(this.entities.keyword)||$(this.entities.javascript)||$(this.comment);},end:function(){return $(";")||peek("}");},alpha:function(){var value;if(!$(/^\(opacity=/i)){return;}if(value=$(/^\d+/)||$(this.entities.variable)){expect(")");return new (tree.Alpha)(value);}},element:function(){var e,t,c,v;c=$(this.combinator);e=$(/^(?:\d+\.\d+|\d+)%/)||$(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||$("*")||$("&")||$(this.attribute)||$(/^\([^()@]+\)/)||$(/^[\.#](?=@)/)||$(this.entities.variableCurly);if(!e){if($("(")){if((v=($(this.entities.variableCurly)||$(this.entities.variable)||$(this.selector)))&&$(")")){e=new (tree.Paren)(v);}}}if(e){return new (tree.Element)(c,e,i);}},combinator:function(){var match,c=input.charAt(i);if(c===">"||c==="+"||c==="~"||c==="|"){i++;while(input.charAt(i).match(/\s/)){i++;}return new (tree.Combinator)(c);}else{if(input.charAt(i-1).match(/\s/)){return new (tree.Combinator)(" ");}else{return new (tree.Combinator)(null);}}},selector:function(){var sel,e,elements=[],c,match;if($("(")){sel=$(this.entity);if(!$(")")){return null;}return new (tree.Selector)([new (tree.Element)("",sel,i)]);}while(e=$(this.element)){c=input.charAt(i);elements.push(e);if(c==="{"||c==="}"||c===";"||c===","||c===")"){break;}}if(elements.length>0){return new (tree.Selector)(elements);}},attribute:function(){var attr="",key,val,op;if(!$("[")){return;}if(key=$(/^(?:[_A-Za-z0-9-]|\\.)+/)||$(this.entities.quoted)){if((op=$(/^[|~*$^]?=/))&&(val=$(this.entities.quoted)||$(/^[\w-]+/))){attr=[key,op,val.toCSS?val.toCSS():val].join("");}else{attr=key;}}if(!$("]")){return;}if(attr){return"["+attr+"]";}},block:function(){var content;if($("{")&&(content=$(this.primary))&&$("}")){return content;}},ruleset:function(){var selectors=[],s,rules,match,debugInfo;save();if(env.dumpLineNumbers){debugInfo=getDebugInfo(i,input,env);}while(s=$(this.selector)){selectors.push(s);$(this.comment);if(!$(",")){break;}$(this.comment);}if(selectors.length>0&&(rules=$(this.block))){var ruleset=new (tree.Ruleset)(selectors,rules,env.strictImports);if(env.dumpLineNumbers){ruleset.debugInfo=debugInfo;}return ruleset;}else{furthest=i;restore();}},rule:function(){var name,value,c=input.charAt(i),important,match;save();if(c==="."||c==="#"||c==="&"){return;}if(name=$(this.variable)||$(this.property)){if((name.charAt(0)!="@")&&(match=/^([^@+\/'"*`(;{}-]*);/.exec(chunks[j]))){i+=match[0].length-1;value=new (tree.Anonymous)(match[1]);}else{if(name==="font"){value=$(this.font);}else{value=$(this.value);}}important=$(this.important);if(value&&$(this.end)){return new (tree.Rule)(name,value,important,memo);}else{furthest=i;restore();}}},"import":function(){var path,features,index=i;save();var dir=$(/^@import(?:-(once))?\s+/);if(dir&&(path=$(this.entities.quoted)||$(this.entities.url))){features=$(this.mediaFeatures);if($(";")){return new (tree.Import)(path,imports,features,(dir[1]==="once"),index,env.rootpath);}}restore();},mediaFeature:function(){var e,p,nodes=[];do{if(e=$(this.entities.keyword)){nodes.push(e);}else{if($("(")){p=$(this.property);e=$(this.entity);if($(")")){if(p&&e){nodes.push(new (tree.Paren)(new (tree.Rule)(p,e,null,i,true)));}else{if(e){nodes.push(new (tree.Paren)(e));}else{return null;}}}else{return null;}}}}while(e);if(nodes.length>0){return new (tree.Expression)(nodes);}},mediaFeatures:function(){var e,features=[];do{if(e=$(this.mediaFeature)){features.push(e);if(!$(",")){break;}}else{if(e=$(this.entities.variable)){features.push(e);if(!$(",")){break;}}}}while(e);return features.length>0?features:null;},media:function(){var features,rules,media,debugInfo;if(env.dumpLineNumbers){debugInfo=getDebugInfo(i,input,env);}if($(/^@media/)){features=$(this.mediaFeatures);if(rules=$(this.block)){media=new (tree.Media)(rules,features);if(env.dumpLineNumbers){media.debugInfo=debugInfo;}return media;}}},directive:function(){var name,value,rules,identifier,e,nodes,nonVendorSpecificName,hasBlock,hasIdentifier,hasExpression;if(input.charAt(i)!=="@"){return;}if(value=$(this["import"])||$(this.media)){return value;}save();name=$(/^@[a-z-]+/);if(!name){return;}nonVendorSpecificName=name;if(name.charAt(1)=="-"&&name.indexOf("-",2)>0){nonVendorSpecificName="@"+name.slice(name.indexOf("-",2)+1);}switch(nonVendorSpecificName){case"@font-face":hasBlock=true;break;case"@viewport":case"@top-left":case"@top-left-corner":case"@top-center":case"@top-right":case"@top-right-corner":case"@bottom-left":case"@bottom-left-corner":case"@bottom-center":case"@bottom-right":case"@bottom-right-corner":case"@left-top":case"@left-middle":case"@left-bottom":case"@right-top":case"@right-middle":case"@right-bottom":hasBlock=true;break;case"@page":case"@document":case"@supports":case"@keyframes":hasBlock=true;hasIdentifier=true;break;case"@namespace":hasExpression=true;break;}if(hasIdentifier){name+=" "+($(/^[^{]+/)||"").trim();}if(hasBlock){if(rules=$(this.block)){return new (tree.Directive)(name,rules);}}else{if((value=hasExpression?$(this.expression):$(this.entity))&&$(";")){var directive=new (tree.Directive)(name,value);if(env.dumpLineNumbers){directive.debugInfo=getDebugInfo(i,input,env);}return directive;}}restore();},font:function(){var value=[],expression=[],weight,shorthand,font,e;while(e=$(this.shorthand)||$(this.entity)){expression.push(e);}value.push(new (tree.Expression)(expression));if($(",")){while(e=$(this.expression)){value.push(e);if(!$(",")){break;}}}return new (tree.Value)(value);},value:function(){var e,expressions=[],important;while(e=$(this.expression)){expressions.push(e);if(!$(",")){break;}}if(expressions.length>0){return new (tree.Value)(expressions);}},important:function(){if(input.charAt(i)==="!"){return $(/^! *important/);}},sub:function(){var e;if($("(")&&(e=$(this.expression))&&$(")")){return e;}},multiplication:function(){var m,a,op,operation;if(m=$(this.operand)){while(!peek(/^\/[*\/]/)&&(op=($("/")||$("*")))&&(a=$(this.operand))){operation=new (tree.Operation)(op,[operation||m,a]);}return operation||m;}},addition:function(){var m,a,op,operation;if(m=$(this.multiplication)){while((op=$(/^[-+]\s+/)||(!isWhitespace(input.charAt(i-1))&&($("+")||$("-"))))&&(a=$(this.multiplication))){operation=new (tree.Operation)(op,[operation||m,a]);}return operation||m;}},conditions:function(){var a,b,index=i,condition;if(a=$(this.condition)){while($(",")&&(b=$(this.condition))){condition=new (tree.Condition)("or",condition||a,b,index);}return condition||a;}},condition:function(){var a,b,c,op,index=i,negate=false;if($(/^not/)){negate=true;}expect("(");if(a=$(this.addition)||$(this.entities.keyword)||$(this.entities.quoted)){if(op=$(/^(?:>=|=<|[<=>])/)){if(b=$(this.addition)||$(this.entities.keyword)||$(this.entities.quoted)){c=new (tree.Condition)(op,a,b,index,negate);}else{error("expected expression");}}else{c=new (tree.Condition)("=",a,new (tree.Keyword)("true"),index,negate);}expect(")");return $(/^and/)?new (tree.Condition)("and",c,$(this.condition)):c;}},operand:function(){var negate,p=input.charAt(i+1);if(input.charAt(i)==="-"&&(p==="@"||p==="(")){negate=$("-");}var o=$(this.sub)||$(this.entities.dimension)||$(this.entities.color)||$(this.entities.variable)||$(this.entities.call);return negate?new (tree.Operation)("*",[new (tree.Dimension)(-1),o]):o;},expression:function(){var e,delim,entities=[],d;while(e=$(this.addition)||$(this.entity)){entities.push(e);}if(entities.length>0){return new (tree.Expression)(entities);}},property:function(){var name;if(name=$(/^(\*?-?[_a-z0-9-]+)\s*:/)){return name[1];}}}};};if(less.mode==="browser"||less.mode==="rhino"){less.Parser.importer=function(c,d,a,b){if(!/^([a-z-]+:)?\//.test(c)&&d.length>0){c=d[0]+c;}loadStyleSheet({href:c,title:c,type:b.mime,contents:b.contents,files:b.files,rootpath:b.rootpath,entryPath:b.entryPath,relativeUrls:b.relativeUrls},function(h,j,g,k,f,i){if(h&&typeof(b.errback)==="function"){b.errback.call(null,i,d,a,b);}else{a.call(null,h,j,i);}},true);};}(function(e){e.functions={rgb:function(i,h,f){return this.rgba(i,h,f,1);},rgba:function(j,i,h,f){var k=[j,i,h].map(function(g){return d(g,256);});f=c(f);return new (e.Color)(k,f);},hsl:function(f,i,g){return this.hsla(f,i,g,1);},hsla:function(g,n,j,f){g=(c(g)%360)/360;n=c(n);j=c(j);f=c(f);var m=j<=0.5?j*(n+1):j+n-j*n;var k=j*2-m;return this.rgba(i(g+1/3)*255,i(g)*255,i(g-1/3)*255,f);function i(l){l=l<0?l+1:(l>1?l-1:l);if(l*6<1){return k+(m-k)*l*6;}else{if(l*2<1){return m;}else{if(l*3<2){return k+(m-k)*(2/3-l)*6;}else{return k;}}}}},hsv:function(f,g,i){return this.hsva(f,g,i,1);},hsva:function(k,n,o,g){k=((c(k)%360)/360)*360;n=c(n);o=c(o);g=c(g);var l,j;l=Math.floor((k/60)%6);j=(k/60)-l;var p=[o,o*(1-n),o*(1-j*n),o*(1-(1-j)*n)];var m=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return this.rgba(p[m[l][0]]*255,p[m[l][1]]*255,p[m[l][2]]*255,g);},hue:function(f){return new (e.Dimension)(Math.round(f.toHSL().h));},saturation:function(f){return new (e.Dimension)(Math.round(f.toHSL().s*100),"%");},lightness:function(f){return new (e.Dimension)(Math.round(f.toHSL().l*100),"%");},red:function(f){return new (e.Dimension)(f.rgb[0]);},green:function(f){return new (e.Dimension)(f.rgb[1]);},blue:function(f){return new (e.Dimension)(f.rgb[2]);},alpha:function(f){return new (e.Dimension)(f.toHSL().a);},luma:function(f){return new (e.Dimension)(Math.round((0.2126*(f.rgb[0]/255)+0.7152*(f.rgb[1]/255)+0.0722*(f.rgb[2]/255))*f.alpha*100),"%");},saturate:function(g,f){var h=g.toHSL();h.s+=f.value/100;h.s=a(h.s);return b(h);},desaturate:function(g,f){var h=g.toHSL();h.s-=f.value/100;h.s=a(h.s);return b(h);},lighten:function(g,f){var h=g.toHSL();h.l+=f.value/100;h.l=a(h.l);return b(h);},darken:function(g,f){var h=g.toHSL();h.l-=f.value/100;h.l=a(h.l);return b(h);},fadein:function(g,f){var h=g.toHSL();h.a+=f.value/100;h.a=a(h.a);return b(h);},fadeout:function(g,f){var h=g.toHSL();h.a-=f.value/100;h.a=a(h.a);return b(h);},fade:function(g,f){var h=g.toHSL();h.a=f.value/100;h.a=a(h.a);return b(h);},spin:function(g,f){var h=g.toHSL();var i=(h.h+f.value)%360;h.h=i<0?360+i:i;return b(h);},mix:function(h,i,o){if(!o){o=new (e.Dimension)(50);}var j=o.value/100;var l=j*2-1;var f=h.toHSL().a-i.toHSL().a;var m=(((l*f==-1)?l:(l+f)/(1+l*f))+1)/2;var n=1-m;var k=[h.rgb[0]*m+i.rgb[0]*n,h.rgb[1]*m+i.rgb[1]*n,h.rgb[2]*m+i.rgb[2]*n];var g=h.alpha*j+i.alpha*(1-j);return new (e.Color)(k,g);},greyscale:function(f){return this.desaturate(f,new (e.Dimension)(100));},contrast:function(f,g,h,i){if(!f.rgb){return null;}if(typeof h==="undefined"){h=this.rgba(255,255,255,1);}if(typeof g==="undefined"){g=this.rgba(0,0,0,1);}if(typeof i==="undefined"){i=0.43;}else{i=i.value;}if(((0.2126*(f.rgb[0]/255)+0.7152*(f.rgb[1]/255)+0.0722*(f.rgb[2]/255))*f.alpha)<i){return h;}else{return g;}},e:function(f){return new (e.Anonymous)(f instanceof e.JavaScript?f.evaluated:f);},escape:function(f){return new (e.Anonymous)(encodeURI(f.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"));},"%":function(h){var f=Array.prototype.slice.call(arguments,1),j=h.value;for(var g=0;g<f.length;g++){j=j.replace(/%[sda]/i,function(i){var k=i.match(/s/i)?f[g].value:f[g].toCSS();return i.match(/[A-Z]$/)?encodeURIComponent(k):k;});}j=j.replace(/%%/g,"%");return new (e.Quoted)('"'+j+'"',j);},unit:function(g,f){return new (e.Dimension)(g.value,f?f.toCSS():"");},round:function(i,g){var h=typeof(g)==="undefined"?0:g.value;return this._math(function(f){return f.toFixed(h);},i);},ceil:function(f){return this._math(Math.ceil,f);},floor:function(f){return this._math(Math.floor,f);},_math:function(f,g){if(g instanceof e.Dimension){return new (e.Dimension)(f(parseFloat(g.value)),g.unit);}else{if(typeof(g)==="number"){return f(g);}else{throw {type:"Argument",message:"argument must be a number"};}}},argb:function(f){return new (e.Anonymous)(f.toARGB());},percentage:function(f){return new (e.Dimension)(f.value*100,"%");},color:function(f){if(f instanceof e.Quoted){return new (e.Color)(f.value.slice(1));}else{throw {type:"Argument",message:"argument must be a string"};}},iscolor:function(f){return this._isa(f,e.Color);},isnumber:function(f){return this._isa(f,e.Dimension);},isstring:function(f){return this._isa(f,e.Quoted);},iskeyword:function(f){return this._isa(f,e.Keyword);},isurl:function(f){return this._isa(f,e.URL);},ispixel:function(f){return(f instanceof e.Dimension)&&f.unit==="px"?e.True:e.False;},ispercentage:function(f){return(f instanceof e.Dimension)&&f.unit==="%"?e.True:e.False;},isem:function(f){return(f instanceof e.Dimension)&&f.unit==="em"?e.True:e.False;},_isa:function(f,g){return(f instanceof g)?e.True:e.False;},multiply:function(h,i){var k=h.rgb[0]*i.rgb[0]/255;var j=h.rgb[1]*i.rgb[1]/255;var f=h.rgb[2]*i.rgb[2]/255;return this.rgb(k,j,f);},screen:function(h,i){var k=255-(255-h.rgb[0])*(255-i.rgb[0])/255;var j=255-(255-h.rgb[1])*(255-i.rgb[1])/255;var f=255-(255-h.rgb[2])*(255-i.rgb[2])/255;return this.rgb(k,j,f);},overlay:function(h,i){var k=h.rgb[0]<128?2*h.rgb[0]*i.rgb[0]/255:255-2*(255-h.rgb[0])*(255-i.rgb[0])/255;var j=h.rgb[1]<128?2*h.rgb[1]*i.rgb[1]/255:255-2*(255-h.rgb[1])*(255-i.rgb[1])/255;var f=h.rgb[2]<128?2*h.rgb[2]*i.rgb[2]/255:255-2*(255-h.rgb[2])*(255-i.rgb[2])/255;return this.rgb(k,j,f);},softlight:function(h,i){var l=i.rgb[0]*h.rgb[0]/255;var k=l+h.rgb[0]*(255-(255-h.rgb[0])*(255-i.rgb[0])/255-l)/255;l=i.rgb[1]*h.rgb[1]/255;var j=l+h.rgb[1]*(255-(255-h.rgb[1])*(255-i.rgb[1])/255-l)/255;l=i.rgb[2]*h.rgb[2]/255;var f=l+h.rgb[2]*(255-(255-h.rgb[2])*(255-i.rgb[2])/255-l)/255;return this.rgb(k,j,f);},hardlight:function(h,i){var k=i.rgb[0]<128?2*i.rgb[0]*h.rgb[0]/255:255-2*(255-i.rgb[0])*(255-h.rgb[0])/255;var j=i.rgb[1]<128?2*i.rgb[1]*h.rgb[1]/255:255-2*(255-i.rgb[1])*(255-h.rgb[1])/255;var f=i.rgb[2]<128?2*i.rgb[2]*h.rgb[2]/255:255-2*(255-i.rgb[2])*(255-h.rgb[2])/255;return this.rgb(k,j,f);},difference:function(h,i){var k=Math.abs(h.rgb[0]-i.rgb[0]);var j=Math.abs(h.rgb[1]-i.rgb[1]);var f=Math.abs(h.rgb[2]-i.rgb[2]);return this.rgb(k,j,f);},exclusion:function(h,i){var k=h.rgb[0]+i.rgb[0]*(255-h.rgb[0]-h.rgb[0])/255;var j=h.rgb[1]+i.rgb[1]*(255-h.rgb[1]-h.rgb[1])/255;var f=h.rgb[2]+i.rgb[2]*(255-h.rgb[2]-h.rgb[2])/255;return this.rgb(k,j,f);},average:function(h,i){var k=(h.rgb[0]+i.rgb[0])/2;var j=(h.rgb[1]+i.rgb[1])/2;var f=(h.rgb[2]+i.rgb[2])/2;return this.rgb(k,j,f);},negation:function(h,i){var k=255-Math.abs(255-i.rgb[0]-h.rgb[0]);var j=255-Math.abs(255-i.rgb[1]-h.rgb[1]);var f=255-Math.abs(255-i.rgb[2]-h.rgb[2]);return this.rgb(k,j,f);},tint:function(g,f){return this.mix(this.rgb(255,255,255),g,f);},shade:function(g,f){return this.mix(this.rgb(0,0,0),g,f);}};function b(f){return e.functions.hsla(f.h,f.s,f.l,f.a);}function d(f,g){if(f instanceof e.Dimension&&f.unit=="%"){return parseFloat(f.value*g/100);}else{return c(f);}}function c(f){if(f instanceof e.Dimension){return parseFloat(f.unit=="%"?f.value/100:f.value);}else{if(typeof(f)==="number"){return f;}else{throw {error:"RuntimeError",message:"color functions take numbers as parameters"};}}}function a(f){return Math.min(1,Math.max(0,f));}})(require("./tree"));(function(a){a.colors={"aliceblue":"#f0f8ff","antiquewhite":"#faebd7","aqua":"#00ffff","aquamarine":"#7fffd4","azure":"#f0ffff","beige":"#f5f5dc","bisque":"#ffe4c4","black":"#000000","blanchedalmond":"#ffebcd","blue":"#0000ff","blueviolet":"#8a2be2","brown":"#a52a2a","burlywood":"#deb887","cadetblue":"#5f9ea0","chartreuse":"#7fff00","chocolate":"#d2691e","coral":"#ff7f50","cornflowerblue":"#6495ed","cornsilk":"#fff8dc","crimson":"#dc143c","cyan":"#00ffff","darkblue":"#00008b","darkcyan":"#008b8b","darkgoldenrod":"#b8860b","darkgray":"#a9a9a9","darkgrey":"#a9a9a9","darkgreen":"#006400","darkkhaki":"#bdb76b","darkmagenta":"#8b008b","darkolivegreen":"#556b2f","darkorange":"#ff8c00","darkorchid":"#9932cc","darkred":"#8b0000","darksalmon":"#e9967a","darkseagreen":"#8fbc8f","darkslateblue":"#483d8b","darkslategray":"#2f4f4f","darkslategrey":"#2f4f4f","darkturquoise":"#00ced1","darkviolet":"#9400d3","deeppink":"#ff1493","deepskyblue":"#00bfff","dimgray":"#696969","dimgrey":"#696969","dodgerblue":"#1e90ff","firebrick":"#b22222","floralwhite":"#fffaf0","forestgreen":"#228b22","fuchsia":"#ff00ff","gainsboro":"#dcdcdc","ghostwhite":"#f8f8ff","gold":"#ffd700","goldenrod":"#daa520","gray":"#808080","grey":"#808080","green":"#008000","greenyellow":"#adff2f","honeydew":"#f0fff0","hotpink":"#ff69b4","indianred":"#cd5c5c","indigo":"#4b0082","ivory":"#fffff0","khaki":"#f0e68c","lavender":"#e6e6fa","lavenderblush":"#fff0f5","lawngreen":"#7cfc00","lemonchiffon":"#fffacd","lightblue":"#add8e6","lightcoral":"#f08080","lightcyan":"#e0ffff","lightgoldenrodyellow":"#fafad2","lightgray":"#d3d3d3","lightgrey":"#d3d3d3","lightgreen":"#90ee90","lightpink":"#ffb6c1","lightsalmon":"#ffa07a","lightseagreen":"#20b2aa","lightskyblue":"#87cefa","lightslategray":"#778899","lightslategrey":"#778899","lightsteelblue":"#b0c4de","lightyellow":"#ffffe0","lime":"#00ff00","limegreen":"#32cd32","linen":"#faf0e6","magenta":"#ff00ff","maroon":"#800000","mediumaquamarine":"#66cdaa","mediumblue":"#0000cd","mediumorchid":"#ba55d3","mediumpurple":"#9370d8","mediumseagreen":"#3cb371","mediumslateblue":"#7b68ee","mediumspringgreen":"#00fa9a","mediumturquoise":"#48d1cc","mediumvioletred":"#c71585","midnightblue":"#191970","mintcream":"#f5fffa","mistyrose":"#ffe4e1","moccasin":"#ffe4b5","navajowhite":"#ffdead","navy":"#000080","oldlace":"#fdf5e6","olive":"#808000","olivedrab":"#6b8e23","orange":"#ffa500","orangered":"#ff4500","orchid":"#da70d6","palegoldenrod":"#eee8aa","palegreen":"#98fb98","paleturquoise":"#afeeee","palevioletred":"#d87093","papayawhip":"#ffefd5","peachpuff":"#ffdab9","peru":"#cd853f","pink":"#ffc0cb","plum":"#dda0dd","powderblue":"#b0e0e6","purple":"#800080","red":"#ff0000","rosybrown":"#bc8f8f","royalblue":"#4169e1","saddlebrown":"#8b4513","salmon":"#fa8072","sandybrown":"#f4a460","seagreen":"#2e8b57","seashell":"#fff5ee","sienna":"#a0522d","silver":"#c0c0c0","skyblue":"#87ceeb","slateblue":"#6a5acd","slategray":"#708090","slategrey":"#708090","snow":"#fffafa","springgreen":"#00ff7f","steelblue":"#4682b4","tan":"#d2b48c","teal":"#008080","thistle":"#d8bfd8","tomato":"#ff6347","turquoise":"#40e0d0","violet":"#ee82ee","wheat":"#f5deb3","white":"#ffffff","whitesmoke":"#f5f5f5","yellow":"#ffff00","yellowgreen":"#9acd32"};})(require("./tree"));(function(tree){tree.Alpha=function(val){this.value=val;};tree.Alpha.prototype={toCSS:function(){return"alpha(opacity="+(this.value.toCSS?this.value.toCSS():this.value)+")";},eval:function(env){if(this.value.eval){this.value=this.value.eval(env);}return this;}};})(require("../tree"));(function(tree){tree.Anonymous=function(string){this.value=string.value||string;};tree.Anonymous.prototype={toCSS:function(){return this.value;},eval:function(){return this;},compare:function(x){if(!x.toCSS){return -1;}var left=this.toCSS(),right=x.toCSS();if(left===right){return 0;}return left<right?-1:1;}};})(require("../tree"));(function(tree){tree.Assignment=function(key,val){this.key=key;this.value=val;};tree.Assignment.prototype={toCSS:function(){return this.key+"="+(this.value.toCSS?this.value.toCSS():this.value);},eval:function(env){if(this.value.eval){return new (tree.Assignment)(this.key,this.value.eval(env));}return this;}};})(require("../tree"));(function(tree){tree.Call=function(name,args,index,filename){this.name=name;this.args=args;this.index=index;this.filename=filename;};tree.Call.prototype={eval:function(env){var args=this.args.map(function(a){return a.eval(env);}),result;if(this.name in tree.functions){try{result=tree.functions[this.name].apply(tree.functions,args);if(result!=null){return result;}}catch(e){throw {type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.filename};}}return new (tree.Anonymous)(this.name+"("+args.map(function(a){return a.toCSS(env);}).join(", ")+")");},toCSS:function(env){return this.eval(env).toCSS();}};})(require("../tree"));(function(tree){tree.Color=function(rgb,a){if(Array.isArray(rgb)){this.rgb=rgb;}else{if(rgb.length==6){this.rgb=rgb.match(/.{2}/g).map(function(c){return parseInt(c,16);});}else{this.rgb=rgb.split("").map(function(c){return parseInt(c+c,16);});}}this.alpha=typeof(a)==="number"?a:1;};tree.Color.prototype={eval:function(){return this;},toCSS:function(){if(this.alpha<1){return"rgba("+this.rgb.map(function(c){return Math.round(c);}).concat(this.alpha).join(", ")+")";}else{return"#"+this.rgb.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?"0"+i:i;}).join("");}},operate:function(op,other){var result=[];if(!(other instanceof tree.Color)){other=other.toColor();}for(var c=0;c<3;c++){result[c]=tree.operate(op,this.rgb[c],other.rgb[c]);}return new (tree.Color)(result,this.alpha+other.alpha);},toHSL:function(){var r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,l=(max+min)/2,d=max-min;if(max===min){h=s=0;}else{s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}return{h:h*360,s:s,l:l,a:a};},toARGB:function(){var argb=[Math.round(this.alpha*255)].concat(this.rgb);return"#"+argb.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?"0"+i:i;}).join("");},compare:function(x){if(!x.rgb){return -1;}return(x.rgb[0]===this.rgb[0]&&x.rgb[1]===this.rgb[1]&&x.rgb[2]===this.rgb[2]&&x.alpha===this.alpha)?0:-1;}};})(require("../tree"));(function(tree){tree.Comment=function(value,silent){this.value=value;this.silent=!!silent;};tree.Comment.prototype={toCSS:function(env){return env.compress?"":this.value;},eval:function(){return this;}};})(require("../tree"));(function(tree){tree.Condition=function(op,l,r,i,negate){this.op=op.trim();this.lvalue=l;this.rvalue=r;this.index=i;this.negate=negate;};tree.Condition.prototype.eval=function(env){var a=this.lvalue.eval(env),b=this.rvalue.eval(env);var i=this.index,result;var result=(function(op){switch(op){case"and":return a&&b;case"or":return a||b;default:if(a.compare){result=a.compare(b);}else{if(b.compare){result=b.compare(a);}else{throw {type:"Type",message:"Unable to perform comparison",index:i};}}switch(result){case -1:return op==="<"||op==="=<";case 0:return op==="="||op===">="||op==="=<";case 1:return op===">"||op===">=";}}})(this.op);return this.negate?!result:result;};})(require("../tree"));(function(tree){tree.Dimension=function(value,unit){this.value=parseFloat(value);this.unit=unit||null;};tree.Dimension.prototype={eval:function(){return this;},toColor:function(){return new (tree.Color)([this.value,this.value,this.value]);},toCSS:function(){var css=this.value+this.unit;return css;},operate:function(op,other){return new (tree.Dimension)(tree.operate(op,this.value,other.value),this.unit||other.unit);},compare:function(other){if(other instanceof tree.Dimension){if(other.value>this.value){return -1;}else{if(other.value<this.value){return 1;}else{if(other.unit&&this.unit!==other.unit){return -1;}return 0;}}}else{return -1;}}};})(require("../tree"));(function(tree){tree.Directive=function(name,value){this.name=name;if(Array.isArray(value)){this.ruleset=new (tree.Ruleset)([],value);this.ruleset.allowImports=true;}else{this.value=value;}};tree.Directive.prototype={toCSS:function(ctx,env){if(this.ruleset){this.ruleset.root=true;return this.name+(env.compress?"{":" {\n  ")+this.ruleset.toCSS(ctx,env).trim().replace(/\n/g,"\n  ")+(env.compress?"}":"\n}\n");}else{return this.name+" "+this.value.toCSS()+";\n";}},eval:function(env){var evaldDirective=this;if(this.ruleset){env.frames.unshift(this);evaldDirective=new (tree.Directive)(this.name);evaldDirective.ruleset=this.ruleset.eval(env);env.frames.shift();}return evaldDirective;},variable:function(name){return tree.Ruleset.prototype.variable.call(this.ruleset,name);},find:function(){return tree.Ruleset.prototype.find.apply(this.ruleset,arguments);},rulesets:function(){return tree.Ruleset.prototype.rulesets.apply(this.ruleset);}};})(require("../tree"));(function(tree){tree.Element=function(combinator,value,index){this.combinator=combinator instanceof tree.Combinator?combinator:new (tree.Combinator)(combinator);if(typeof(value)==="string"){this.value=value.trim();}else{if(value){this.value=value;}else{this.value="";}}this.index=index;};tree.Element.prototype.eval=function(env){return new (tree.Element)(this.combinator,this.value.eval?this.value.eval(env):this.value,this.index);};tree.Element.prototype.toCSS=function(env){var value=(this.value.toCSS?this.value.toCSS(env):this.value);if(value==""&&this.combinator.value.charAt(0)=="&"){return"";}else{return this.combinator.toCSS(env||{})+value;}};tree.Combinator=function(value){if(value===" "){this.value=" ";}else{this.value=value?value.trim():"";}};tree.Combinator.prototype.toCSS=function(env){return{"":""," ":" ",":":" :","+":env.compress?"+":" + ","~":env.compress?"~":" ~ ",">":env.compress?">":" > ","|":env.compress?"|":" | "}[this.value];};})(require("../tree"));(function(tree){tree.Expression=function(value){this.value=value;};tree.Expression.prototype={eval:function(env){if(this.value.length>1){return new (tree.Expression)(this.value.map(function(e){return e.eval(env);}));}else{if(this.value.length===1){return this.value[0].eval(env);}else{return this;}}},toCSS:function(env){return this.value.map(function(e){return e.toCSS?e.toCSS(env):"";}).join(" ");}};})(require("../tree"));(function(tree){tree.Import=function(path,imports,features,once,index,rootpath){var that=this;this.once=once;this.index=index;this._path=path;this.features=features&&new (tree.Value)(features);this.rootpath=rootpath;if(path instanceof tree.Quoted){this.path=/(\.[a-z]*$)|([\?;].*)$/.test(path.value)?path.value:path.value+".less";}else{this.path=path.value.value||path.value;}this.css=/css([\?;].*)?$/.test(this.path);if(!this.css){imports.push(this.path,function(e,root,imported){if(e){e.index=index;}if(imported&&that.once){that.skip=imported;}that.root=root||new (tree.Ruleset)([],[]);});}};tree.Import.prototype={toCSS:function(env){var features=this.features?" "+this.features.toCSS(env):"";if(this.css){if(typeof this._path.value==="string"&&!/^(?:[a-z-]+:|\/)/.test(this._path.value)){this._path.value=this.rootpath+this._path.value;}return"@import "+this._path.toCSS()+features+";\n";}else{return"";}},eval:function(env){var ruleset,features=this.features&&this.features.eval(env);if(this.skip){return[];}if(this.css){return this;}else{ruleset=new (tree.Ruleset)([],this.root.rules.slice(0));ruleset.evalImports(env);return this.features?new (tree.Media)(ruleset.rules,this.features.value):ruleset.rules;}}};})(require("../tree"));(function(tree){tree.JavaScript=function(string,index,escaped){this.escaped=escaped;this.expression=string;this.index=index;};tree.JavaScript.prototype={eval:function(env){var result,that=this,context={};var expression=this.expression.replace(/@\{([\w-]+)\}/g,function(_,name){return tree.jsify(new (tree.Variable)("@"+name,that.index).eval(env));});try{expression=new (Function)("return ("+expression+")");}catch(e){throw {message:"JavaScript evaluation error: `"+expression+"`",index:this.index};}for(var k in env.frames[0].variables()){context[k.slice(1)]={value:env.frames[0].variables()[k].value,toJS:function(){return this.value.eval(env).toCSS();}};}try{result=expression.call(context);}catch(e){throw {message:"JavaScript evaluation error: '"+e.name+": "+e.message+"'",index:this.index};}if(typeof(result)==="string"){return new (tree.Quoted)('"'+result+'"',result,this.escaped,this.index);}else{if(Array.isArray(result)){return new (tree.Anonymous)(result.join(", "));}else{return new (tree.Anonymous)(result);}}}};})(require("../tree"));(function(tree){tree.Keyword=function(value){this.value=value;};tree.Keyword.prototype={eval:function(){return this;},toCSS:function(){return this.value;},compare:function(other){if(other instanceof tree.Keyword){return other.value===this.value?0:1;}else{return -1;}}};tree.True=new (tree.Keyword)("true");tree.False=new (tree.Keyword)("false");})(require("../tree"));(function(tree){tree.Media=function(value,features){var selectors=this.emptySelectors();this.features=new (tree.Value)(features);this.ruleset=new (tree.Ruleset)(selectors,value);this.ruleset.allowImports=true;};tree.Media.prototype={toCSS:function(ctx,env){var features=this.features.toCSS(env);this.ruleset.root=(ctx.length===0||ctx[0].multiMedia);return"@media "+features+(env.compress?"{":" {\n  ")+this.ruleset.toCSS(ctx,env).trim().replace(/\n/g,"\n  ")+(env.compress?"}":"\n}\n");},eval:function(env){if(!env.mediaBlocks){env.mediaBlocks=[];env.mediaPath=[];}var media=new (tree.Media)([],[]);if(this.debugInfo){this.ruleset.debugInfo=this.debugInfo;media.debugInfo=this.debugInfo;}media.features=this.features.eval(env);env.mediaPath.push(media);env.mediaBlocks.push(media);env.frames.unshift(this.ruleset);media.ruleset=this.ruleset.eval(env);env.frames.shift();env.mediaPath.pop();return env.mediaPath.length===0?media.evalTop(env):media.evalNested(env);},variable:function(name){return tree.Ruleset.prototype.variable.call(this.ruleset,name);},find:function(){return tree.Ruleset.prototype.find.apply(this.ruleset,arguments);},rulesets:function(){return tree.Ruleset.prototype.rulesets.apply(this.ruleset);},emptySelectors:function(){var el=new (tree.Element)("","&",0);return[new (tree.Selector)([el])];},evalTop:function(env){var result=this;if(env.mediaBlocks.length>1){var selectors=this.emptySelectors();result=new (tree.Ruleset)(selectors,env.mediaBlocks);result.multiMedia=true;}delete env.mediaBlocks;delete env.mediaPath;return result;},evalNested:function(env){var i,value,path=env.mediaPath.concat([this]);for(i=0;i<path.length;i++){value=path[i].features instanceof tree.Value?path[i].features.value:path[i].features;path[i]=Array.isArray(value)?value:[value];}this.features=new (tree.Value)(this.permute(path).map(function(path){path=path.map(function(fragment){return fragment.toCSS?fragment:new (tree.Anonymous)(fragment);});for(i=path.length-1;i>0;i--){path.splice(i,0,new (tree.Anonymous)("and"));}return new (tree.Expression)(path);}));return new (tree.Ruleset)([],[]);},permute:function(arr){if(arr.length===0){return[];}else{if(arr.length===1){return arr[0];}else{var result=[];var rest=this.permute(arr.slice(1));for(var i=0;i<rest.length;i++){for(var j=0;j<arr[0].length;j++){result.push([arr[0][j]].concat(rest[i]));}}return result;}}},bubbleSelectors:function(selectors){this.ruleset=new (tree.Ruleset)(selectors.slice(0),[this.ruleset]);}};})(require("../tree"));(function(tree){tree.mixin={};tree.mixin.Call=function(elements,args,index,filename,important){this.selector=new (tree.Selector)(elements);this.arguments=args;this.index=index;this.filename=filename;this.important=important;};tree.mixin.Call.prototype={eval:function(env){var mixins,mixin,args,rules=[],match=false,i,m,f,isRecursive,isOneFound;args=this.arguments&&this.arguments.map(function(a){return{name:a.name,value:a.value.eval(env)};});for(i=0;i<env.frames.length;i++){if((mixins=env.frames[i].find(this.selector)).length>0){isOneFound=true;for(m=0;m<mixins.length;m++){mixin=mixins[m];isRecursive=false;for(f=0;f<env.frames.length;f++){if((!(mixin instanceof tree.mixin.Definition))&&mixin===(env.frames[f].originalRuleset||env.frames[f])){isRecursive=true;break;}}if(isRecursive){continue;}if(mixin.matchArgs(args,env)){if(!mixin.matchCondition||mixin.matchCondition(args,env)){try{Array.prototype.push.apply(rules,mixin.eval(env,args,this.important).rules);}catch(e){throw {message:e.message,index:this.index,filename:this.filename,stack:e.stack};}}match=true;}}if(match){return rules;}}}if(isOneFound){throw {type:"Runtime",message:"No matching definition was found for `"+this.selector.toCSS().trim()+"("+(args?args.map(function(a){var argValue="";if(a.name){argValue+=a.name+":";}if(a.value.toCSS){argValue+=a.value.toCSS();}else{argValue+="???";}return argValue;}).join(", "):"")+")`",index:this.index,filename:this.filename};}else{throw {type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.filename};}}};tree.mixin.Definition=function(name,params,rules,condition,variadic){this.name=name;this.selectors=[new (tree.Selector)([new (tree.Element)(null,name)])];this.params=params;this.condition=condition;this.variadic=variadic;this.arity=params.length;this.rules=rules;this._lookups={};this.required=params.reduce(function(count,p){if(!p.name||(p.name&&!p.value)){return count+1;}else{return count;}},0);this.parent=tree.Ruleset.prototype;this.frames=[];};tree.mixin.Definition.prototype={toCSS:function(){return"";},variable:function(name){return this.parent.variable.call(this,name);},variables:function(){return this.parent.variables.call(this);},find:function(){return this.parent.find.apply(this,arguments);},rulesets:function(){return this.parent.rulesets.apply(this);},evalParams:function(env,mixinEnv,args,evaldArguments){var frame=new (tree.Ruleset)(null,[]),varargs,arg,params=this.params.slice(0),i,j,val,name,isNamedFound,argIndex;if(args){args=args.slice(0);for(i=0;i<args.length;i++){arg=args[i];if(name=(arg&&arg.name)){isNamedFound=false;for(j=0;j<params.length;j++){if(!evaldArguments[j]&&name===params[j].name){evaldArguments[j]=arg.value.eval(env);frame.rules.unshift(new (tree.Rule)(name,arg.value.eval(env)));isNamedFound=true;break;}}if(isNamedFound){args.splice(i,1);i--;continue;}else{throw {type:"Runtime",message:"Named argument for "+this.name+" "+args[i].name+" not found"};}}}}argIndex=0;for(i=0;i<params.length;i++){if(evaldArguments[i]){continue;}arg=args&&args[argIndex];if(name=params[i].name){if(params[i].variadic&&args){varargs=[];for(j=argIndex;j<args.length;j++){varargs.push(args[j].value.eval(env));}frame.rules.unshift(new (tree.Rule)(name,new (tree.Expression)(varargs).eval(env)));}else{val=arg&&arg.value;if(val){val=val.eval(env);}else{if(params[i].value){val=params[i].value.eval(mixinEnv);}else{throw {type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+args.length+" for "+this.arity+")"};}}frame.rules.unshift(new (tree.Rule)(name,val));evaldArguments[i]=val;}}if(params[i].variadic&&args){for(j=argIndex;j<args.length;j++){evaldArguments[j]=args[j].value.eval(env);}}argIndex++;}return frame;},eval:function(env,args,important){var _arguments=[],mixinFrames=this.frames.concat(env.frames),frame=this.evalParams(env,{frames:mixinFrames},args,_arguments),context,rules,start,ruleset;frame.rules.unshift(new (tree.Rule)("@arguments",new (tree.Expression)(_arguments).eval(env)));rules=important?this.parent.makeImportant.apply(this).rules:this.rules.slice(0);ruleset=new (tree.Ruleset)(null,rules).eval({frames:[this,frame].concat(mixinFrames)});ruleset.originalRuleset=this;return ruleset;},matchCondition:function(args,env){if(this.condition&&!this.condition.eval({frames:[this.evalParams(env,{frames:this.frames.concat(env.frames)},args,[])].concat(env.frames)})){return false;}return true;},matchArgs:function(args,env){var argsLength=(args&&args.length)||0,len,frame;if(!this.variadic){if(argsLength<this.required){return false;}if(argsLength>this.params.length){return false;}if((this.required>0)&&(argsLength>this.params.length)){return false;}}len=Math.min(argsLength,this.arity);for(var i=0;i<len;i++){if(!this.params[i].name&&!this.params[i].variadic){if(args[i].value.eval(env).toCSS()!=this.params[i].value.eval(env).toCSS()){return false;}}}return true;}};})(require("../tree"));(function(tree){tree.Operation=function(op,operands){this.op=op.trim();this.operands=operands;};tree.Operation.prototype.eval=function(env){var a=this.operands[0].eval(env),b=this.operands[1].eval(env),temp;if(a instanceof tree.Dimension&&b instanceof tree.Color){if(this.op==="*"||this.op==="+"){temp=b,b=a,a=temp;}else{throw {name:"OperationError",message:"Can't substract or divide a color from a number"};}}if(!a.operate){throw {name:"OperationError",message:"Operation on an invalid type"};}return a.operate(this.op,b);};tree.operate=function(op,a,b){switch(op){case"+":return a+b;case"-":return a-b;case"*":return a*b;case"/":return a/b;}};})(require("../tree"));(function(tree){tree.Paren=function(node){this.value=node;};tree.Paren.prototype={toCSS:function(env){return"("+this.value.toCSS(env)+")";},eval:function(env){return new (tree.Paren)(this.value.eval(env));}};})(require("../tree"));(function(tree){tree.Quoted=function(str,content,escaped,i){this.escaped=escaped;this.value=content||"";this.quote=str.charAt(0);this.index=i;};tree.Quoted.prototype={toCSS:function(){if(this.escaped){return this.value;}else{return this.quote+this.value+this.quote;}},eval:function(env){var that=this;var value=this.value.replace(/`([^`]+)`/g,function(_,exp){return new (tree.JavaScript)(exp,that.index,true).eval(env).value;}).replace(/@\{([\w-]+)\}/g,function(_,name){var v=new (tree.Variable)("@"+name,that.index).eval(env);return(v instanceof tree.Quoted)?v.value:v.toCSS();});return new (tree.Quoted)(this.quote+value+this.quote,value,this.escaped,this.index);},compare:function(x){if(!x.toCSS){return -1;}var left=this.toCSS(),right=x.toCSS();if(left===right){return 0;}return left<right?-1:1;}};})(require("../tree"));(function(tree){tree.Ratio=function(value){this.value=value;};tree.Ratio.prototype={toCSS:function(env){return this.value;},eval:function(){return this;}};})(require("../tree"));(function(tree){tree.Rule=function(name,value,important,index,inline){this.name=name;this.value=(value instanceof tree.Value)?value:new (tree.Value)([value]);this.important=important?" "+important.trim():"";this.index=index;this.inline=inline||false;if(name.charAt(0)==="@"){this.variable=true;}else{this.variable=false;}};tree.Rule.prototype.toCSS=function(env){if(this.variable){return"";}else{return this.name+(env.compress?":":": ")+this.value.toCSS(env)+this.important+(this.inline?"":";");}};tree.Rule.prototype.eval=function(context){return new (tree.Rule)(this.name,this.value.eval(context),this.important,this.index,this.inline);};tree.Rule.prototype.makeImportant=function(){return new (tree.Rule)(this.name,this.value,"!important",this.index,this.inline);};tree.Shorthand=function(a,b){this.a=a;this.b=b;};tree.Shorthand.prototype={toCSS:function(env){return this.a.toCSS(env)+"/"+this.b.toCSS(env);},eval:function(){return this;}};})(require("../tree"));(function(tree){tree.Ruleset=function(selectors,rules,strictImports){this.selectors=selectors;this.rules=rules;this._lookups={};this.strictImports=strictImports;};tree.Ruleset.prototype={eval:function(env){var selectors=this.selectors&&this.selectors.map(function(s){return s.eval(env);});var ruleset=new (tree.Ruleset)(selectors,this.rules.slice(0),this.strictImports);var rules;ruleset.originalRuleset=this;ruleset.root=this.root;ruleset.allowImports=this.allowImports;if(this.debugInfo){ruleset.debugInfo=this.debugInfo;}env.frames.unshift(ruleset);if(ruleset.root||ruleset.allowImports||!ruleset.strictImports){ruleset.evalImports(env);}for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.mixin.Definition){ruleset.rules[i].frames=env.frames.slice(0);}}var mediaBlockCount=(env.mediaBlocks&&env.mediaBlocks.length)||0;for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.mixin.Call){rules=ruleset.rules[i].eval(env);ruleset.rules.splice.apply(ruleset.rules,[i,1].concat(rules));i+=rules.length-1;ruleset.resetCache();}}for(var i=0,rule;i<ruleset.rules.length;i++){rule=ruleset.rules[i];if(!(rule instanceof tree.mixin.Definition)){ruleset.rules[i]=rule.eval?rule.eval(env):rule;}}env.frames.shift();if(env.mediaBlocks){for(var i=mediaBlockCount;i<env.mediaBlocks.length;i++){env.mediaBlocks[i].bubbleSelectors(selectors);}}return ruleset;},evalImports:function(env){var i,rules;for(i=0;i<this.rules.length;i++){if(this.rules[i] instanceof tree.Import){rules=this.rules[i].eval(env);if(typeof rules.length==="number"){this.rules.splice.apply(this.rules,[i,1].concat(rules));i+=rules.length-1;}else{this.rules.splice(i,1,rules);}this.resetCache();}}},makeImportant:function(){return new tree.Ruleset(this.selectors,this.rules.map(function(r){if(r.makeImportant){return r.makeImportant();}else{return r;}}),this.strictImports);},matchArgs:function(args){return !args||args.length===0;},resetCache:function(){this._rulesets=null;this._variables=null;this._lookups={};},variables:function(){if(this._variables){return this._variables;}else{return this._variables=this.rules.reduce(function(hash,r){if(r instanceof tree.Rule&&r.variable===true){hash[r.name]=r;}return hash;},{});}},variable:function(name){return this.variables()[name];},rulesets:function(){if(this._rulesets){return this._rulesets;}else{return this._rulesets=this.rules.filter(function(r){return(r instanceof tree.Ruleset)||(r instanceof tree.mixin.Definition);});}},find:function(selector,self){self=self||this;var rules=[],rule,match,key=selector.toCSS();if(key in this._lookups){return this._lookups[key];}this.rulesets().forEach(function(rule){if(rule!==self){for(var j=0;j<rule.selectors.length;j++){if(match=selector.match(rule.selectors[j])){if(selector.elements.length>rule.selectors[j].elements.length){Array.prototype.push.apply(rules,rule.find(new (tree.Selector)(selector.elements.slice(1)),self));}else{rules.push(rule);}break;}}}});return this._lookups[key]=rules;},toCSS:function(context,env){var css=[],rules=[],_rules=[],rulesets=[],paths=[],selector,debugInfo,rule;if(!this.root){this.joinSelectors(paths,context,this.selectors);}for(var i=0;i<this.rules.length;i++){rule=this.rules[i];if(rule.rules||(rule instanceof tree.Media)){rulesets.push(rule.toCSS(paths,env));}else{if(rule instanceof tree.Directive){var cssValue=rule.toCSS(paths,env);if(rule.name==="@charset"){if(env.charset){if(rule.debugInfo){rulesets.push(tree.debugInfo(env,rule));rulesets.push(new tree.Comment("/* "+cssValue.replace(/\n/g,"")+" */\n").toCSS(env));}continue;}env.charset=true;}rulesets.push(cssValue);}else{if(rule instanceof tree.Comment){if(!rule.silent){if(this.root){rulesets.push(rule.toCSS(env));}else{rules.push(rule.toCSS(env));}}}else{if(rule.toCSS&&!rule.variable){rules.push(rule.toCSS(env));}else{if(rule.value&&!rule.variable){rules.push(rule.value.toString());}}}}}}rulesets=rulesets.join("");if(this.root){css.push(rules.join(env.compress?"":"\n"));}else{if(rules.length>0){debugInfo=tree.debugInfo(env,this);selector=paths.map(function(p){return p.map(function(s){return s.toCSS(env);}).join("").trim();}).join(env.compress?",":",\n");for(var i=rules.length-1;i>=0;i--){if(_rules.indexOf(rules[i])===-1){_rules.unshift(rules[i]);}}rules=_rules;css.push(debugInfo+selector+(env.compress?"{":" {\n  ")+rules.join(env.compress?"":"\n  ")+(env.compress?"}":"\n}\n"));}}css.push(rulesets);return css.join("")+(env.compress?"\n":"");},joinSelectors:function(paths,context,selectors){for(var s=0;s<selectors.length;s++){this.joinSelector(paths,context,selectors[s]);}},joinSelector:function(paths,context,selector){var i,j,k,hasParentSelector,newSelectors,el,sel,parentSel,newSelectorPath,afterParentJoin,newJoinedSelector,newJoinedSelectorEmpty,lastSelector,currentElements,selectorsMultiplied;for(i=0;i<selector.elements.length;i++){el=selector.elements[i];if(el.value==="&"){hasParentSelector=true;}}if(!hasParentSelector){if(context.length>0){for(i=0;i<context.length;i++){paths.push(context[i].concat(selector));}}else{paths.push([selector]);}return;}currentElements=[];newSelectors=[[]];for(i=0;i<selector.elements.length;i++){el=selector.elements[i];if(el.value!=="&"){currentElements.push(el);}else{selectorsMultiplied=[];if(currentElements.length>0){this.mergeElementsOnToSelectors(currentElements,newSelectors);}for(j=0;j<newSelectors.length;j++){sel=newSelectors[j];if(context.length==0){if(sel.length>0){sel[0].elements=sel[0].elements.slice(0);sel[0].elements.push(new (tree.Element)(el.combinator,"",0));}selectorsMultiplied.push(sel);}else{for(k=0;k<context.length;k++){parentSel=context[k];newSelectorPath=[];afterParentJoin=[];newJoinedSelectorEmpty=true;if(sel.length>0){newSelectorPath=sel.slice(0);lastSelector=newSelectorPath.pop();newJoinedSelector=new (tree.Selector)(lastSelector.elements.slice(0));newJoinedSelectorEmpty=false;}else{newJoinedSelector=new (tree.Selector)([]);}if(parentSel.length>1){afterParentJoin=afterParentJoin.concat(parentSel.slice(1));}if(parentSel.length>0){newJoinedSelectorEmpty=false;newJoinedSelector.elements.push(new (tree.Element)(el.combinator,parentSel[0].elements[0].value,0));newJoinedSelector.elements=newJoinedSelector.elements.concat(parentSel[0].elements.slice(1));}if(!newJoinedSelectorEmpty){newSelectorPath.push(newJoinedSelector);}newSelectorPath=newSelectorPath.concat(afterParentJoin);selectorsMultiplied.push(newSelectorPath);}}}newSelectors=selectorsMultiplied;currentElements=[];}}if(currentElements.length>0){this.mergeElementsOnToSelectors(currentElements,newSelectors);}for(i=0;i<newSelectors.length;i++){paths.push(newSelectors[i]);}},mergeElementsOnToSelectors:function(elements,selectors){var i,sel;if(selectors.length==0){selectors.push([new (tree.Selector)(elements)]);return;}for(i=0;i<selectors.length;i++){sel=selectors[i];if(sel.length>0){sel[sel.length-1]=new (tree.Selector)(sel[sel.length-1].elements.concat(elements));}else{sel.push(new (tree.Selector)(elements));}}}};})(require("../tree"));(function(tree){tree.Selector=function(elements){this.elements=elements;};tree.Selector.prototype.match=function(other){var elements=this.elements,len=elements.length,oelements,olen,max,i;oelements=other.elements.slice((other.elements.length&&other.elements[0].value==="&")?1:0);olen=oelements.length;max=Math.min(len,olen);if(olen===0||len<olen){return false;}else{for(i=0;i<max;i++){if(elements[i].value!==oelements[i].value){return false;}}}return true;};tree.Selector.prototype.eval=function(env){return new (tree.Selector)(this.elements.map(function(e){return e.eval(env);}));};tree.Selector.prototype.toCSS=function(env){if(this._css){return this._css;}if(this.elements[0].combinator.value===""){this._css=" ";}else{this._css="";}this._css+=this.elements.map(function(e){if(typeof(e)==="string"){return" "+e.trim();}else{return e.toCSS(env);}}).join("");return this._css;};})(require("../tree"));(function(tree){tree.UnicodeDescriptor=function(value){this.value=value;};tree.UnicodeDescriptor.prototype={toCSS:function(env){return this.value;},eval:function(){return this;}};})(require("../tree"));(function(tree){tree.URL=function(val,rootpath){this.value=val;this.rootpath=rootpath;};tree.URL.prototype={toCSS:function(){return"url("+this.value.toCSS()+")";},eval:function(ctx){var val=this.value.eval(ctx),rootpath;if(typeof val.value==="string"&&!/^(?:[a-z-]+:|\/)/.test(val.value)){rootpath=this.rootpath;if(!val.quote){rootpath=rootpath.replace(/[\(\)'"\s]/g,function(match){return"\\"+match;});}val.value=rootpath+val.value;}return new (tree.URL)(val,this.rootpath);}};})(require("../tree"));(function(tree){tree.Value=function(value){this.value=value;this.is="value";};tree.Value.prototype={eval:function(env){if(this.value.length===1){return this.value[0].eval(env);}else{return new (tree.Value)(this.value.map(function(v){return v.eval(env);}));}},toCSS:function(env){return this.value.map(function(e){return e.toCSS(env);}).join(env.compress?",":", ");}};})(require("../tree"));(function(tree){tree.Variable=function(name,index,file){this.name=name,this.index=index,this.file=file;};tree.Variable.prototype={eval:function(env){var variable,v,name=this.name;if(name.indexOf("@@")==0){name="@"+new (tree.Variable)(name.slice(1)).eval(env).value;}if(this.evaluating){throw {type:"Name",message:"Recursive variable definition for "+name,filename:this.file,index:this.index};}this.evaluating=true;if(variable=tree.find(env.frames,function(frame){if(v=frame.variable(name)){return v.value.eval(env);}})){this.evaluating=false;return variable;}else{throw {type:"Name",message:"variable "+name+" is undefined",filename:this.file,index:this.index};}}};})(require("../tree"));(function(a){a.debugInfo=function(c,b){var d="";if(c.dumpLineNumbers&&!c.compress){switch(c.dumpLineNumbers){case"comments":d=a.debugInfo.asComment(b);break;case"mediaquery":d=a.debugInfo.asMediaQuery(b);break;case"all":d=a.debugInfo.asComment(b)+a.debugInfo.asMediaQuery(b);break;}}return d;};a.debugInfo.asComment=function(b){return"/* line "+b.debugInfo.lineNumber+", "+b.debugInfo.fileName+" */\n";};a.debugInfo.asMediaQuery=function(b){return"@media -sass-debug-info{filename{font-family:"+("file://"+b.debugInfo.fileName).replace(/[\/:.]/g,"\\$&")+"}line{font-family:\\00003"+b.debugInfo.lineNumber+"}}\n";};a.find=function(d,b){for(var c=0,e;c<d.length;c++){if(e=b.call(d,d[c])){return e;}}return null;};a.jsify=function(b){if(Array.isArray(b.value)&&(b.value.length>1)){return"["+b.value.map(function(c){return c.toCSS(false);}).join(", ")+"]";}else{return b.toCSS(false);}};})(require("./tree"));var name;function loadStyleSheet(h,a,f,g){var c=Math.max(name.lastIndexOf("/"),name.lastIndexOf("\\")),i=name.slice(0,c+1)+h.href,b=h.contents||{},d=readFile(i);b[i]=d;var e=new less.Parser({paths:[h.href.replace(/[\w\.-]+$/,"")],contents:b});e.parse(d,function(j,k){if(j){return error(j,i);}try{a(j,k,d,h,{local:false,lastModified:0,remaining:g},i);}catch(j){error(j,i);}});}function writeFile(b,a){var c=new java.io.FileWriter(b);var d=new java.io.BufferedWriter(c);d.write(a);d.close();}(function(a){var g,b=false,d;for(d=0;d<a.length;d++){switch(a[d]){case"-x":b=true;break;default:if(!name){name=a[d];}else{if(!g){g=a[d];}else{print("unrecognised parameters");print("input_file [output_file] [-x]");}}}}if(!name){print("No files present in the fileset; Check your pattern match in build.xml");quit(1);}path=name.split("/");path.pop();path=path.join("/");var f=readFile(name);if(!f){print("lesscss: couldn't open file "+name);quit(1);}var j;try{var h=new less.Parser();h.parse(f,function(i,k){if(i){error(i,name);quit(1);}else{j=k.toCSS({compress:b||false});if(g){writeFile(g,j);print("Written to "+g);}else{print(j);}quit(0);}});}catch(c){error(c,name);quit(1);}print("done");}(arguments));function error(b,d){var a="Error : "+d+"\n";d=b.filename||d;if(b.message){a+=b.message+"\n";}var c=function(g,h,f){if(g.extract[h]){a+=String(parseInt(g.line)+(h-1))+":"+g.extract[h]+"\n";}};if(b.stack){a+=b.stack;}else{if(b.extract){a+="on line "+b.line+", column "+(b.column+1)+":\n";c(b,0);c(b,1);c(b,2);}}print(a);}