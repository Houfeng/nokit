/*csd*/function require(a){var c=a.split("/");var b=c.length==1?less.modules[c[0]]:less[c[1]];if(!b){throw {message:"Cannot find module '"+a+"'"};}return b;}if(typeof(window)==="undefined"){less={};}else{less=window.less={};}tree=less.tree={};less.mode="rhino";(function(){console=function(){var e=java.lang.System.out;var d=java.lang.System.err;function c(f,g){return function(){var j=java.lang.reflect.Array.newInstance(java.lang.Object,arguments.length-1);var n=arguments[0];var l=0;for(var o=1;o<arguments.length;o++){var h=arguments[o];if(l!=-1){l=n.indexOf("%",l);}if(l>=0&&l<n.length){var k=n.charAt(l+1);if(k==="d"&&typeof h==="number"){h=new java.lang.Integer(new java.lang.Double(h).intValue());}l++;}j[o-1]=h;}try{f.println(g+java.lang.String.format(n,j));}catch(m){d.println(m);}};}return{log:c(e,""),info:c(e,"INFO: "),error:c(d,"ERROR: "),warn:c(d,"WARN: ")};}();less.modules={};less.modules.path={join:function(){var d=[];for(i in arguments){d=d.concat(arguments[i].split(/\/|\\/));}var e=[];for(i in d){var c=d[i];if(c===".."&&e.length>0){e.pop();}else{if(c===""&&e.length>0){}else{if(c!=="."){if(c.slice(-1)==="\\"||c.slice(-1)==="/"){c=c.slice(0,-1);}e.push(c);}}}}return e.join("/");},dirname:function(c){var d=c.split("/");d.pop();return d.join("/");},basename:function(f,d){var c=f.split("/").pop();if(d){var e=c.lastIndexOf(d);if(c.length===e+d.length){c=c.substr(0,e);}}return c;},extname:function(d){var c=d.lastIndexOf(".");return c>0?d.substring(c):"";}};less.modules.fs={readFileSync:function(g){var f=new java.io.File(g);var h=new java.io.FileInputStream(f);var d=[];var e;while((e=h.read())!=-1){d.push(e);}h.close();return{length:d.length,toString:function(c){if(c==="base64"){return a(d);}else{if(c){return java.lang.String["(byte[],java.lang.String)"](d,c);}else{return java.lang.String["(byte[])"](d);}}}};}};less.encoder={encodeBase64:function(c){return b(c);}};function a(c){return javax.xml.bind.DatatypeConverter.printBase64Binary(c);}function b(c){return a(new java.lang.String(c).getBytes());}})();var less,tree;if(less===undefined){less=exports;tree=require("./tree");less.mode="node";}less.Parser=function Parser(env){var input,i,j,temp,memo,furthest,chunks,current,parser,rootFilename=env&&env.filename;if(!(env instanceof tree.parseEnv)){env=new tree.parseEnv(env);}var imports=this.imports={paths:env.paths||[],queue:[],files:env.files,contents:env.contents,mime:env.mime,error:null,push:function(path,currentFileInfo,importOptions,callback){var parserImports=this;this.queue.push(path);var fileParsedFunc=function(e,root,fullPath){parserImports.queue.splice(parserImports.queue.indexOf(path),1);var importedPreviously=fullPath in parserImports.files||fullPath===rootFilename;parserImports.files[fullPath]=root;if(e&&!parserImports.error){parserImports.error=e;}callback(e,root,importedPreviously,fullPath);};if(less.Parser.importer){less.Parser.importer(path,currentFileInfo,fileParsedFunc,env);}else{less.Parser.fileLoader(path,currentFileInfo,function(e,contents,fullPath,newFileInfo){if(e){fileParsedFunc(e);return;}var newEnv=new tree.parseEnv(env);newEnv.currentFileInfo=newFileInfo;newEnv.processImports=false;newEnv.contents[fullPath]=contents;if(currentFileInfo.reference||importOptions.reference){newFileInfo.reference=true;}if(importOptions.inline){fileParsedFunc(null,contents,fullPath);}else{new (less.Parser)(newEnv).parse(contents,function(e,root){fileParsedFunc(e,root,fullPath);});}},env);}}};function save(){temp=chunks[j],memo=i,current=i;}function restore(){chunks[j]=temp,i=memo,current=i;}function sync(){if(i>current){chunks[j]=chunks[j].slice(i-current);current=i;}}function isWhitespace(c){var code=c.charCodeAt(0);return code===32||code===10||code===9;}function $(tok){var match,length;if(tok instanceof Function){return tok.call(parser.parsers);}else{if(typeof(tok)==="string"){match=input.charAt(i)===tok?tok:null;length=1;sync();}else{sync();if(match=tok.exec(chunks[j])){length=match[0].length;}else{return null;}}}if(match){skipWhitespace(length);if(typeof(match)==="string"){return match;}else{return match.length===1?match[0]:match;}}}function skipWhitespace(length){var oldi=i,oldj=j,endIndex=i+chunks[j].length,mem=i+=length;while(i<endIndex){if(!isWhitespace(input.charAt(i))){break;}i++;}chunks[j]=chunks[j].slice(length+(i-mem));current=i;if(chunks[j].length===0&&j<chunks.length-1){j++;}return oldi!==i||oldj!==j;}function expect(arg,msg){var result=$(arg);if(!result){error(msg||(typeof(arg)==="string"?"expected '"+arg+"' got '"+input.charAt(i)+"'":"unexpected token"));}else{return result;}}function error(msg,type){var e=new Error(msg);e.index=i;e.type=type||"Syntax";throw e;}function peek(tok){if(typeof(tok)==="string"){return input.charAt(i)===tok;}else{return tok.test(chunks[j]);}}function getInput(e,env){if(e.filename&&env.currentFileInfo.filename&&(e.filename!==env.currentFileInfo.filename)){return parser.imports.contents[e.filename];}else{return input;}}function getLocation(index,inputStream){var n=index+1,line=null,column=-1;while(--n>=0&&inputStream.charAt(n)!=="\n"){column++;}if(typeof index==="number"){line=(inputStream.slice(0,index).match(/\n/g)||"").length;}return{line:line,column:column};}function getDebugInfo(index,inputStream,env){var filename=env.currentFileInfo.filename;if(less.mode!=="browser"&&less.mode!=="rhino"){filename=require("path").resolve(filename);}return{lineNumber:getLocation(index,inputStream).line+1,fileName:filename};}function LessError(e,env){var input=getInput(e,env),loc=getLocation(e.index,input),line=loc.line,col=loc.column,callLine=e.call&&getLocation(e.call,input).line,lines=input.split("\n");this.type=e.type||"Syntax";this.message=e.message;this.filename=e.filename||env.currentFileInfo.filename;this.index=e.index;this.line=typeof(line)==="number"?line+1:null;this.callLine=callLine+1;this.callExtract=lines[callLine];this.stack=e.stack;this.column=col;this.extract=[lines[line-1],lines[line],lines[line+1]];}LessError.prototype=new Error();LessError.prototype.constructor=LessError;this.env=env=env||{};this.optimization=("optimization" in this.env)?this.env.optimization:1;return parser={imports:imports,parse:function(str,callback){var root,line,lines,error=null;i=j=current=furthest=0;input=str.replace(/\r\n/g,"\n");input=input.replace(/^\uFEFF/,"");parser.imports.contents[env.currentFileInfo.filename]=input;chunks=(function(chunks){var j=0,skip=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,comment=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,string=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,level=0,match,chunk=chunks[0],inParam;for(var i=0,c,cc;i<input.length;){skip.lastIndex=i;if(match=skip.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);}}c=input.charAt(i);comment.lastIndex=string.lastIndex=i;if(match=string.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);continue;}}if(!inParam&&c==="/"){cc=input.charAt(i+1);if(cc==="/"||cc==="*"){if(match=comment.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);continue;}}}}switch(c){case"{":if(!inParam){level++;chunk.push(c);break;}case"}":if(!inParam){level--;chunk.push(c);chunks[++j]=chunk=[];break;}case"(":if(!inParam){inParam=true;chunk.push(c);break;}case")":if(inParam){inParam=false;chunk.push(c);break;}default:chunk.push(c);}i++;}if(level!==0){error=new (LessError)({index:i-1,type:"Parse",message:(level>0)?"missing closing `}`":"missing opening `{`",filename:env.currentFileInfo.filename},env);}return chunks.map(function(c){return c.join("");});})([[]]);if(error){return callback(new (LessError)(error,env));}try{root=new (tree.Ruleset)([],$(this.parsers.primary));root.root=true;root.firstRoot=true;}catch(e){return callback(new (LessError)(e,env));}root.toCSS=(function(evaluate){return function(options,variables){options=options||{};var evaldRoot,css,evalEnv=new tree.evalEnv(options);if(typeof(variables)==="object"&&!Array.isArray(variables)){variables=Object.keys(variables).map(function(k){var value=variables[k];if(!(value instanceof tree.Value)){if(!(value instanceof tree.Expression)){value=new (tree.Expression)([value]);}value=new (tree.Value)([value]);}return new (tree.Rule)("@"+k,value,false,null,0);});evalEnv.frames=[new (tree.Ruleset)(null,variables)];}try{var preEvalVisitors=[],visitors=[new (tree.joinSelectorVisitor)(),new (tree.processExtendsVisitor)(),new (tree.toCSSVisitor)({compress:Boolean(options.compress)})],i,root=this;if(options.plugins){for(i=0;i<options.plugins.length;i++){if(options.plugins[i].isPreEvalVisitor){preEvalVisitors.push(options.plugins[i]);}else{if(options.plugins[i].isPreVisitor){visitors.splice(0,0,options.plugins[i]);}else{visitors.push(options.plugins[i]);}}}}for(i=0;i<preEvalVisitors.length;i++){preEvalVisitors[i].run(root);}evaldRoot=evaluate.call(root,evalEnv);for(i=0;i<visitors.length;i++){visitors[i].run(evaldRoot);}if(options.sourceMap){evaldRoot=new tree.sourceMapOutput({writeSourceMap:options.writeSourceMap,rootNode:evaldRoot,contentsMap:parser.imports.contents,sourceMapFilename:options.sourceMapFilename,sourceMapURL:options.sourceMapURL,outputFilename:options.sourceMapOutputFilename,sourceMapBasepath:options.sourceMapBasepath,sourceMapRootpath:options.sourceMapRootpath,outputSourceFiles:options.outputSourceFiles,sourceMapGenerator:options.sourceMapGenerator});}css=evaldRoot.toCSS({compress:Boolean(options.compress),dumpLineNumbers:env.dumpLineNumbers,strictUnits:Boolean(options.strictUnits)});}catch(e){throw new (LessError)(e,env);}if(options.cleancss&&less.mode==="node"){var CleanCSS=require("clean-css"),cleancssOptions=options.cleancssOptions||{};if(cleancssOptions.keepSpecialComments===undefined){cleancssOptions.keepSpecialComments="*";}cleancssOptions.processImport=false;cleancssOptions.noRebase=true;if(cleancssOptions.noAdvanced===undefined){cleancssOptions.noAdvanced=true;}return new CleanCSS(cleancssOptions).minify(css);}else{if(options.compress){return css.replace(/(^(\s)+)|((\s)+$)/g,"");}else{return css;}}};})(root.eval);if(i<input.length-1){i=furthest;var loc=getLocation(i,input);lines=input.split("\n");line=loc.line+1;error={type:"Parse",message:"Unrecognised input",index:i,filename:env.currentFileInfo.filename,line:line,column:loc.column,extract:[lines[line-2],lines[line-1],lines[line]]};}var finish=function(e){e=error||e||parser.imports.error;if(e){if(!(e instanceof LessError)){e=new (LessError)(e,env);}return callback(e);}else{return callback(null,root);}};if(env.processImports!==false){new tree.importVisitor(this.imports,finish).run(root);}else{return finish();}},parsers:{primary:function(){var node,root=[];while((node=$(this.extendRule)||$(this.mixin.definition)||$(this.rule)||$(this.ruleset)||$(this.mixin.call)||$(this.comment)||$(this.directive))||$(/^[\s\n]+/)||$(/^;+/)){node&&root.push(node);}return root;},comment:function(){var comment;if(input.charAt(i)!=="/"){return;}if(input.charAt(i+1)==="/"){return new (tree.Comment)($(/^\/\/.*/),true,i,env.currentFileInfo);}else{if(comment=$(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/)){return new (tree.Comment)(comment,false,i,env.currentFileInfo);}}},comments:function(){var comment,comments=[];while(comment=$(this.comment)){comments.push(comment);}return comments;},entities:{quoted:function(){var str,j=i,e,index=i;if(input.charAt(j)==="~"){j++,e=true;}if(input.charAt(j)!=='"'&&input.charAt(j)!=="'"){return;}e&&$("~");if(str=$(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/)){return new (tree.Quoted)(str[0],str[1]||str[2],e,index,env.currentFileInfo);}},keyword:function(){var k;if(k=$(/^[_A-Za-z-][_A-Za-z0-9-]*/)){var color=tree.Color.fromKeyword(k);if(color){return color;}return new (tree.Keyword)(k);}},call:function(){var name,nameLC,args,alpha_ret,index=i;if(!(name=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(chunks[j]))){return;}name=name[1];nameLC=name.toLowerCase();if(nameLC==="url"){return null;}else{i+=name.length;}if(nameLC==="alpha"){alpha_ret=$(this.alpha);if(typeof alpha_ret!=="undefined"){return alpha_ret;}}$("(");args=$(this.entities.arguments);if(!$(")")){return;}if(name){return new (tree.Call)(name,args,index,env.currentFileInfo);}},arguments:function(){var args=[],arg;while(arg=$(this.entities.assignment)||$(this.expression)){args.push(arg);if(!$(",")){break;}}return args;},literal:function(){return $(this.entities.dimension)||$(this.entities.color)||$(this.entities.quoted)||$(this.entities.unicodeDescriptor);},assignment:function(){var key,value;if((key=$(/^\w+(?=\s?=)/i))&&$("=")&&(value=$(this.entity))){return new (tree.Assignment)(key,value);}},url:function(){var value;if(input.charAt(i)!=="u"||!$(/^url\(/)){return;}value=$(this.entities.quoted)||$(this.entities.variable)||$(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"";expect(")");return new (tree.URL)((value.value!=null||value instanceof tree.Variable)?value:new (tree.Anonymous)(value),env.currentFileInfo);},variable:function(){var name,index=i;if(input.charAt(i)==="@"&&(name=$(/^@@?[\w-]+/))){return new (tree.Variable)(name,index,env.currentFileInfo);}},variableCurly:function(){var curly,index=i;if(input.charAt(i)==="@"&&(curly=$(/^@\{([\w-]+)\}/))){return new (tree.Variable)("@"+curly[1],index,env.currentFileInfo);}},color:function(){var rgb;if(input.charAt(i)==="#"&&(rgb=$(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))){return new (tree.Color)(rgb[1]);}},dimension:function(){var value,c=input.charCodeAt(i);if((c>57||c<43)||c===47||c==44){return;}if(value=$(/^([+-]?\d*\.?\d+)(%|[a-z]+)?/)){return new (tree.Dimension)(value[1],value[2]);}},unicodeDescriptor:function(){var ud;if(ud=$(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/)){return new (tree.UnicodeDescriptor)(ud[0]);}},javascript:function(){var str,j=i,e;if(input.charAt(j)==="~"){j++;e=true;}if(input.charAt(j)!=="`"){return;}if(env.javascriptEnabled!==undefined&&!env.javascriptEnabled){error("You are using JavaScript, which has been disabled.");}if(e){$("~");}if(str=$(/^`([^`]*)`/)){return new (tree.JavaScript)(str[1],i,e);}}},variable:function(){var name;if(input.charAt(i)==="@"&&(name=$(/^(@[\w-]+)\s*:/))){return name[1];}},extend:function(isRule){var elements,e,index=i,option,extendList=[];if(!$(isRule?/^&:extend\(/:/^:extend\(/)){return;}do{option=null;elements=[];while(true){option=$(/^(all)(?=\s*(\)|,))/);if(option){break;}e=$(this.element);if(!e){break;}elements.push(e);}option=option&&option[1];extendList.push(new (tree.Extend)(new (tree.Selector)(elements),option,index));}while($(","));expect(/^\)/);if(isRule){expect(/^;/);}return extendList;},extendRule:function(){return this.extend(true);},mixin:{call:function(){var elements=[],e,c,args,index=i,s=input.charAt(i),important=false;if(s!=="."&&s!=="#"){return;}save();while(e=$(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)){elements.push(new (tree.Element)(c,e,i,env.currentFileInfo));c=$(">");}if($("(")){args=this.mixin.args.call(this,true).args;expect(")");}args=args||[];if($(this.important)){important=true;}if(elements.length>0&&($(";")||peek("}"))){return new (tree.mixin.Call)(elements,args,index,env.currentFileInfo,important);}restore();},args:function(isCall){var expressions=[],argsSemiColon=[],isSemiColonSeperated,argsComma=[],expressionContainsNamed,name,nameLoop,value,arg,returner={args:null,variadic:false};while(true){if(isCall){arg=$(this.expression);}else{$(this.comments);if(input.charAt(i)==="."&&$(/^\.{3}/)){returner.variadic=true;if($(";")&&!isSemiColonSeperated){isSemiColonSeperated=true;}(isSemiColonSeperated?argsSemiColon:argsComma).push({variadic:true});break;}arg=$(this.entities.variable)||$(this.entities.literal)||$(this.entities.keyword);}if(!arg){break;}nameLoop=null;if(arg.throwAwayComments){arg.throwAwayComments();}value=arg;var val=null;if(isCall){if(arg.value.length==1){val=arg.value[0];}}else{val=arg;}if(val&&val instanceof tree.Variable){if($(":")){if(expressions.length>0){if(isSemiColonSeperated){error("Cannot mix ; and , as delimiter types");}expressionContainsNamed=true;}value=expect(this.expression);nameLoop=(name=val.name);}else{if(!isCall&&$(/^\.{3}/)){returner.variadic=true;if($(";")&&!isSemiColonSeperated){isSemiColonSeperated=true;}(isSemiColonSeperated?argsSemiColon:argsComma).push({name:arg.name,variadic:true});break;}else{if(!isCall){name=nameLoop=val.name;value=null;}}}}if(value){expressions.push(value);}argsComma.push({name:nameLoop,value:value});if($(",")){continue;}if($(";")||isSemiColonSeperated){if(expressionContainsNamed){error("Cannot mix ; and , as delimiter types");}isSemiColonSeperated=true;if(expressions.length>1){value=new (tree.Value)(expressions);}argsSemiColon.push({name:name,value:value});name=null;expressions=[];expressionContainsNamed=false;}}returner.args=isSemiColonSeperated?argsSemiColon:argsComma;return returner;},definition:function(){var name,params=[],match,ruleset,cond,variadic=false;if((input.charAt(i)!=="."&&input.charAt(i)!=="#")||peek(/^[^{]*\}/)){return;}save();if(match=$(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){name=match[1];var argInfo=this.mixin.args.call(this,false);params=argInfo.args;variadic=argInfo.variadic;if(!$(")")){furthest=i;restore();}$(this.comments);if($(/^when/)){cond=expect(this.conditions,"expected condition");}ruleset=$(this.block);if(ruleset){return new (tree.mixin.Definition)(name,params,ruleset,cond,variadic);}else{restore();}}}},entity:function(){return $(this.entities.literal)||$(this.entities.variable)||$(this.entities.url)||$(this.entities.call)||$(this.entities.keyword)||$(this.entities.javascript)||$(this.comment);},end:function(){return $(";")||peek("}");},alpha:function(){var value;if(!$(/^\(opacity=/i)){return;}if(value=$(/^\d+/)||$(this.entities.variable)){expect(")");return new (tree.Alpha)(value);}},element:function(){var e,c,v;c=$(this.combinator);e=$(/^(?:\d+\.\d+|\d+)%/)||$(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||$("*")||$("&")||$(this.attribute)||$(/^\([^()@]+\)/)||$(/^[\.#](?=@)/)||$(this.entities.variableCurly);if(!e){if($("(")){if((v=($(this.selector)))&&$(")")){e=new (tree.Paren)(v);}}}if(e){return new (tree.Element)(c,e,i,env.currentFileInfo);}},combinator:function(){var c=input.charAt(i);if(c===">"||c==="+"||c==="~"||c==="|"){i++;while(input.charAt(i).match(/\s/)){i++;}return new (tree.Combinator)(c);}else{if(input.charAt(i-1).match(/\s/)){return new (tree.Combinator)(" ");}else{return new (tree.Combinator)(null);}}},lessSelector:function(){return this.selector(true);},selector:function(isLess){var e,elements=[],c,extend,extendList=[],when,condition;while((isLess&&(extend=$(this.extend)))||(isLess&&(when=$(/^when/)))||(e=$(this.element))){if(when){condition=expect(this.conditions,"expected condition");}else{if(condition){error("CSS guard can only be used at the end of selector");}else{if(extend){extendList.push.apply(extendList,extend);}else{if(extendList.length){error("Extend can only be used at the end of selector");}c=input.charAt(i);elements.push(e);e=null;}}}if(c==="{"||c==="}"||c===";"||c===","||c===")"){break;}}if(elements.length>0){return new (tree.Selector)(elements,extendList,condition,i,env.currentFileInfo);}if(extendList.length){error("Extend must be used to extend a selector, it cannot be used on its own");}},attribute:function(){var key,val,op;if(!$("[")){return;}if(!(key=$(this.entities.variableCurly))){key=expect(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/);}if((op=$(/^[|~*$^]?=/))){val=$(this.entities.quoted)||$(/^[0-9]+%/)||$(/^[\w-]+/)||$(this.entities.variableCurly);}expect("]");return new (tree.Attribute)(key,op,val);},block:function(){var content;if($("{")&&(content=$(this.primary))&&$("}")){return content;}},ruleset:function(){var selectors=[],s,rules,debugInfo;save();if(env.dumpLineNumbers){debugInfo=getDebugInfo(i,input,env);}while(s=$(this.lessSelector)){selectors.push(s);$(this.comments);if(!$(",")){break;}if(s.condition){error("Guards are only currently allowed on a single selector.");}$(this.comments);}if(selectors.length>0&&(rules=$(this.block))){var ruleset=new (tree.Ruleset)(selectors,rules,env.strictImports);if(env.dumpLineNumbers){ruleset.debugInfo=debugInfo;}return ruleset;}else{furthest=i;restore();}},rule:function(tryAnonymous){var name,value,c=input.charAt(i),important,merge=false;save();if(c==="."||c==="#"||c==="&"){return;}if(name=$(this.variable)||$(this.ruleProperty)){value=!tryAnonymous&&(env.compress||(name.charAt(0)==="@"))?($(this.value)||$(this.anonymousValue)):($(this.anonymousValue)||$(this.value));important=$(this.important);if(name[name.length-1]==="+"){merge=true;name=name.substr(0,name.length-1);}if(value&&$(this.end)){return new (tree.Rule)(name,value,important,merge,memo,env.currentFileInfo);}else{furthest=i;restore();if(value&&!tryAnonymous){return this.rule(true);}}}},anonymousValue:function(){var match;if(match=/^([^@+\/'"*`(;{}-]*);/.exec(chunks[j])){i+=match[0].length-1;return new (tree.Anonymous)(match[1]);}},"import":function(){var path,features,index=i;save();var dir=$(/^@import?\s+/);var options=(dir?$(this.importOptions):null)||{};if(dir&&(path=$(this.entities.quoted)||$(this.entities.url))){features=$(this.mediaFeatures);if($(";")){features=features&&new (tree.Value)(features);return new (tree.Import)(path,features,options,index,env.currentFileInfo);}}restore();},importOptions:function(){var o,options={},optionName,value;if(!$("(")){return null;}do{if(o=$(this.importOption)){optionName=o;value=true;switch(optionName){case"css":optionName="less";value=false;break;case"once":optionName="multiple";value=false;break;}options[optionName]=value;if(!$(",")){break;}}}while(o);expect(")");return options;},importOption:function(){var opt=$(/^(less|css|multiple|once|inline|reference)/);if(opt){return opt[1];}},mediaFeature:function(){var e,p,nodes=[];do{if(e=($(this.entities.keyword)||$(this.entities.variable))){nodes.push(e);}else{if($("(")){p=$(this.property);e=$(this.value);if($(")")){if(p&&e){nodes.push(new (tree.Paren)(new (tree.Rule)(p,e,null,null,i,env.currentFileInfo,true)));}else{if(e){nodes.push(new (tree.Paren)(e));}else{return null;}}}else{return null;}}}}while(e);if(nodes.length>0){return new (tree.Expression)(nodes);}},mediaFeatures:function(){var e,features=[];do{if(e=$(this.mediaFeature)){features.push(e);if(!$(",")){break;}}else{if(e=$(this.entities.variable)){features.push(e);if(!$(",")){break;}}}}while(e);return features.length>0?features:null;},media:function(){var features,rules,media,debugInfo;if(env.dumpLineNumbers){debugInfo=getDebugInfo(i,input,env);}if($(/^@media/)){features=$(this.mediaFeatures);if(rules=$(this.block)){media=new (tree.Media)(rules,features,i,env.currentFileInfo);if(env.dumpLineNumbers){media.debugInfo=debugInfo;}return media;}}},directive:function(){var name,value,rules,nonVendorSpecificName,hasBlock,hasIdentifier,hasExpression,identifier;if(input.charAt(i)!=="@"){return;}if(value=$(this["import"])||$(this.media)){return value;}save();name=$(/^@[a-z-]+/);if(!name){return;}nonVendorSpecificName=name;if(name.charAt(1)=="-"&&name.indexOf("-",2)>0){nonVendorSpecificName="@"+name.slice(name.indexOf("-",2)+1);}switch(nonVendorSpecificName){case"@font-face":hasBlock=true;break;case"@viewport":case"@top-left":case"@top-left-corner":case"@top-center":case"@top-right":case"@top-right-corner":case"@bottom-left":case"@bottom-left-corner":case"@bottom-center":case"@bottom-right":case"@bottom-right-corner":case"@left-top":case"@left-middle":case"@left-bottom":case"@right-top":case"@right-middle":case"@right-bottom":hasBlock=true;break;case"@host":case"@page":case"@document":case"@supports":case"@keyframes":hasBlock=true;hasIdentifier=true;break;case"@namespace":hasExpression=true;break;}if(hasIdentifier){identifier=($(/^[^{]+/)||"").trim();if(identifier){name+=" "+identifier;}}if(hasBlock){if(rules=$(this.block)){return new (tree.Directive)(name,rules,i,env.currentFileInfo);}}else{if((value=hasExpression?$(this.expression):$(this.entity))&&$(";")){var directive=new (tree.Directive)(name,value,i,env.currentFileInfo);if(env.dumpLineNumbers){directive.debugInfo=getDebugInfo(i,input,env);}return directive;}}restore();},value:function(){var e,expressions=[];while(e=$(this.expression)){expressions.push(e);if(!$(",")){break;}}if(expressions.length>0){return new (tree.Value)(expressions);}},important:function(){if(input.charAt(i)==="!"){return $(/^! *important/);}},sub:function(){var a,e;if($("(")){if(a=$(this.addition)){e=new (tree.Expression)([a]);expect(")");e.parens=true;return e;}}},multiplication:function(){var m,a,op,operation,isSpaced;if(m=$(this.operand)){isSpaced=isWhitespace(input.charAt(i-1));while(!peek(/^\/[*\/]/)&&(op=($("/")||$("*")))){if(a=$(this.operand)){m.parensInOp=true;a.parensInOp=true;operation=new (tree.Operation)(op,[operation||m,a],isSpaced);isSpaced=isWhitespace(input.charAt(i-1));}else{break;}}return operation||m;}},addition:function(){var m,a,op,operation,isSpaced;if(m=$(this.multiplication)){isSpaced=isWhitespace(input.charAt(i-1));while((op=$(/^[-+]\s+/)||(!isSpaced&&($("+")||$("-"))))&&(a=$(this.multiplication))){m.parensInOp=true;a.parensInOp=true;operation=new (tree.Operation)(op,[operation||m,a],isSpaced);isSpaced=isWhitespace(input.charAt(i-1));}return operation||m;}},conditions:function(){var a,b,index=i,condition;if(a=$(this.condition)){while(peek(/^,\s*(not\s*)?\(/)&&$(",")&&(b=$(this.condition))){condition=new (tree.Condition)("or",condition||a,b,index);}return condition||a;}},condition:function(){var a,b,c,op,index=i,negate=false;if($(/^not/)){negate=true;}expect("(");if(a=$(this.addition)||$(this.entities.keyword)||$(this.entities.quoted)){if(op=$(/^(?:>=|<=|=<|[<=>])/)){if(b=$(this.addition)||$(this.entities.keyword)||$(this.entities.quoted)){c=new (tree.Condition)(op,a,b,index,negate);}else{error("expected expression");}}else{c=new (tree.Condition)("=",a,new (tree.Keyword)("true"),index,negate);}expect(")");return $(/^and/)?new (tree.Condition)("and",c,$(this.condition)):c;}},operand:function(){var negate,p=input.charAt(i+1);if(input.charAt(i)==="-"&&(p==="@"||p==="(")){negate=$("-");}var o=$(this.sub)||$(this.entities.dimension)||$(this.entities.color)||$(this.entities.variable)||$(this.entities.call);if(negate){o.parensInOp=true;o=new (tree.Negative)(o);}return o;},expression:function(){var e,delim,entities=[];while(e=$(this.addition)||$(this.entity)){entities.push(e);if(!peek(/^\/[\/*]/)&&(delim=$("/"))){entities.push(new (tree.Anonymous)(delim));}}if(entities.length>0){return new (tree.Expression)(entities);}},property:function(){var name;if(name=$(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/)){return name[1];}},ruleProperty:function(){var name;if(name=$(/^(\*?-?[_a-zA-Z0-9-]+)\s*(\+?)\s*:/)){return name[1]+(name[2]||"");}}}};};(function(tree){tree.functions={rgb:function(r,g,b){return this.rgba(r,g,b,1);},rgba:function(r,g,b,a){var rgb=[r,g,b].map(function(c){return scaled(c,255);});a=number(a);return new (tree.Color)(rgb,a);},hsl:function(h,s,l){return this.hsla(h,s,l,1);},hsla:function(h,s,l,a){function hue(h){h=h<0?h+1:(h>1?h-1:h);if(h*6<1){return m1+(m2-m1)*h*6;}else{if(h*2<1){return m2;}else{if(h*3<2){return m1+(m2-m1)*(2/3-h)*6;}else{return m1;}}}}h=(number(h)%360)/360;s=clamp(number(s));l=clamp(number(l));a=clamp(number(a));var m2=l<=0.5?l*(s+1):l+s-l*s;var m1=l*2-m2;return this.rgba(hue(h+1/3)*255,hue(h)*255,hue(h-1/3)*255,a);},hsv:function(h,s,v){return this.hsva(h,s,v,1);},hsva:function(h,s,v,a){h=((number(h)%360)/360)*360;s=number(s);v=number(v);a=number(a);var i,f;i=Math.floor((h/60)%6);f=(h/60)-i;var vs=[v,v*(1-s),v*(1-f*s),v*(1-(1-f)*s)];var perm=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return this.rgba(vs[perm[i][0]]*255,vs[perm[i][1]]*255,vs[perm[i][2]]*255,a);},hue:function(color){return new (tree.Dimension)(Math.round(color.toHSL().h));},saturation:function(color){return new (tree.Dimension)(Math.round(color.toHSL().s*100),"%");},lightness:function(color){return new (tree.Dimension)(Math.round(color.toHSL().l*100),"%");},hsvhue:function(color){return new (tree.Dimension)(Math.round(color.toHSV().h));},hsvsaturation:function(color){return new (tree.Dimension)(Math.round(color.toHSV().s*100),"%");},hsvvalue:function(color){return new (tree.Dimension)(Math.round(color.toHSV().v*100),"%");},red:function(color){return new (tree.Dimension)(color.rgb[0]);},green:function(color){return new (tree.Dimension)(color.rgb[1]);},blue:function(color){return new (tree.Dimension)(color.rgb[2]);},alpha:function(color){return new (tree.Dimension)(color.toHSL().a);},luma:function(color){return new (tree.Dimension)(Math.round(color.luma()*color.alpha*100),"%");},saturate:function(color,amount){if(!color.rgb){return null;}var hsl=color.toHSL();hsl.s+=amount.value/100;hsl.s=clamp(hsl.s);return hsla(hsl);},desaturate:function(color,amount){var hsl=color.toHSL();hsl.s-=amount.value/100;hsl.s=clamp(hsl.s);return hsla(hsl);},lighten:function(color,amount){var hsl=color.toHSL();hsl.l+=amount.value/100;hsl.l=clamp(hsl.l);return hsla(hsl);},darken:function(color,amount){var hsl=color.toHSL();hsl.l-=amount.value/100;hsl.l=clamp(hsl.l);return hsla(hsl);},fadein:function(color,amount){var hsl=color.toHSL();hsl.a+=amount.value/100;hsl.a=clamp(hsl.a);return hsla(hsl);},fadeout:function(color,amount){var hsl=color.toHSL();hsl.a-=amount.value/100;hsl.a=clamp(hsl.a);return hsla(hsl);},fade:function(color,amount){var hsl=color.toHSL();hsl.a=amount.value/100;hsl.a=clamp(hsl.a);return hsla(hsl);},spin:function(color,amount){var hsl=color.toHSL();var hue=(hsl.h+amount.value)%360;hsl.h=hue<0?360+hue:hue;return hsla(hsl);},mix:function(color1,color2,weight){if(!weight){weight=new (tree.Dimension)(50);}var p=weight.value/100;var w=p*2-1;var a=color1.toHSL().a-color2.toHSL().a;var w1=(((w*a==-1)?w:(w+a)/(1+w*a))+1)/2;var w2=1-w1;var rgb=[color1.rgb[0]*w1+color2.rgb[0]*w2,color1.rgb[1]*w1+color2.rgb[1]*w2,color1.rgb[2]*w1+color2.rgb[2]*w2];var alpha=color1.alpha*p+color2.alpha*(1-p);return new (tree.Color)(rgb,alpha);},greyscale:function(color){return this.desaturate(color,new (tree.Dimension)(100));},contrast:function(color,dark,light,threshold){if(!color.rgb){return null;}if(typeof light==="undefined"){light=this.rgba(255,255,255,1);}if(typeof dark==="undefined"){dark=this.rgba(0,0,0,1);}if(dark.luma()>light.luma()){var t=light;light=dark;dark=t;}if(typeof threshold==="undefined"){threshold=0.43;}else{threshold=number(threshold);}if((color.luma()*color.alpha)<threshold){return light;}else{return dark;}},e:function(str){return new (tree.Anonymous)(str instanceof tree.JavaScript?str.evaluated:str);},escape:function(str){return new (tree.Anonymous)(encodeURI(str.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"));},"%":function(quoted){var args=Array.prototype.slice.call(arguments,1),str=quoted.value;for(var i=0;i<args.length;i++){str=str.replace(/%[sda]/i,function(token){var value=token.match(/s/i)?args[i].value:args[i].toCSS();return token.match(/[A-Z]$/)?encodeURIComponent(value):value;});}str=str.replace(/%%/g,"%");return new (tree.Quoted)('"'+str+'"',str);},unit:function(val,unit){if(!(val instanceof tree.Dimension)){throw {type:"Argument",message:"the first argument to unit must be a number"+(val instanceof tree.Operation?". Have you forgotten parenthesis?":"")};}return new (tree.Dimension)(val.value,unit?unit.toCSS():"");},convert:function(val,unit){return val.convertTo(unit.value);},round:function(n,f){var fraction=typeof(f)==="undefined"?0:f.value;return this._math(function(num){return num.toFixed(fraction);},null,n);},pi:function(){return new (tree.Dimension)(Math.PI);},mod:function(a,b){return new (tree.Dimension)(a.value%b.value,a.unit);},pow:function(x,y){if(typeof x==="number"&&typeof y==="number"){x=new (tree.Dimension)(x);y=new (tree.Dimension)(y);}else{if(!(x instanceof tree.Dimension)||!(y instanceof tree.Dimension)){throw {type:"Argument",message:"arguments must be numbers"};}}return new (tree.Dimension)(Math.pow(x.value,y.value),x.unit);},_math:function(fn,unit,n){if(n instanceof tree.Dimension){return new (tree.Dimension)(fn(parseFloat(n.value)),unit==null?n.unit:unit);}else{if(typeof(n)==="number"){return fn(n);}else{throw {type:"Argument",message:"argument must be a number"};}}},_minmax:function(isMin,args){args=Array.prototype.slice.call(args);switch(args.length){case 0:throw {type:"Argument",message:"one or more arguments required"};case 1:return args[0];}var i,j,current,currentUnified,referenceUnified,unit,order=[],values={};for(i=0;i<args.length;i++){current=args[i];if(!(current instanceof tree.Dimension)){order.push(current);continue;}currentUnified=current.unify();unit=currentUnified.unit.toString();j=values[unit];if(j===undefined){values[unit]=order.length;order.push(current);continue;}referenceUnified=order[j].unify();if(isMin&&currentUnified.value<referenceUnified.value||!isMin&&currentUnified.value>referenceUnified.value){order[j]=current;}}if(order.length==1){return order[0];}args=order.map(function(a){return a.toCSS(this.env);}).join(this.env.compress?",":", ");return new (tree.Anonymous)((isMin?"min":"max")+"("+args+")");},min:function(){return this._minmax(true,arguments);},max:function(){return this._minmax(false,arguments);},argb:function(color){return new (tree.Anonymous)(color.toARGB());},percentage:function(n){return new (tree.Dimension)(n.value*100,"%");},color:function(n){if(n instanceof tree.Quoted){var colorCandidate=n.value,returnColor;returnColor=tree.Color.fromKeyword(colorCandidate);if(returnColor){return returnColor;}if(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/.test(colorCandidate)){return new (tree.Color)(colorCandidate.slice(1));}throw {type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"};}else{throw {type:"Argument",message:"argument must be a string"};}},iscolor:function(n){return this._isa(n,tree.Color);},isnumber:function(n){return this._isa(n,tree.Dimension);},isstring:function(n){return this._isa(n,tree.Quoted);},iskeyword:function(n){return this._isa(n,tree.Keyword);},isurl:function(n){return this._isa(n,tree.URL);},ispixel:function(n){return this.isunit(n,"px");},ispercentage:function(n){return this.isunit(n,"%");},isem:function(n){return this.isunit(n,"em");},isunit:function(n,unit){return(n instanceof tree.Dimension)&&n.unit.is(unit.value||unit)?tree.True:tree.False;},_isa:function(n,Type){return(n instanceof Type)?tree.True:tree.False;},tint:function(color,amount){return this.mix(this.rgb(255,255,255),color,amount);},shade:function(color,amount){return this.mix(this.rgb(0,0,0),color,amount);},extract:function(values,index){index=index.value-1;return Array.isArray(values.value)?values.value[index]:Array(values)[index];},length:function(values){var n=Array.isArray(values.value)?values.value.length:1;return new tree.Dimension(n);},"data-uri":function(mimetypeNode,filePathNode){if(typeof window!=="undefined"){return new tree.URL(filePathNode||mimetypeNode,this.currentFileInfo).eval(this.env);}var mimetype=mimetypeNode.value;var filePath=(filePathNode&&filePathNode.value);var fs=require("fs"),path=require("path"),useBase64=false;if(arguments.length<2){filePath=mimetype;}if(this.env.isPathRelative(filePath)){if(this.currentFileInfo.relativeUrls){filePath=path.join(this.currentFileInfo.currentDirectory,filePath);}else{filePath=path.join(this.currentFileInfo.entryPath,filePath);}}if(arguments.length<2){var mime;try{mime=require("mime");}catch(ex){mime=tree._mime;}mimetype=mime.lookup(filePath);var charset=mime.charsets.lookup(mimetype);useBase64=["US-ASCII","UTF-8"].indexOf(charset)<0;if(useBase64){mimetype+=";base64";}}else{useBase64=/;base64$/.test(mimetype);}var buf=fs.readFileSync(filePath);var DATA_URI_MAX_KB=32,fileSizeInKB=parseInt((buf.length/1024),10);if(fileSizeInKB>=DATA_URI_MAX_KB){if(this.env.ieCompat!==false){if(!this.env.silent){console.warn("Skipped data-uri embedding of %s because its size (%dKB) exceeds IE8-safe %dKB!",filePath,fileSizeInKB,DATA_URI_MAX_KB);}return new tree.URL(filePathNode||mimetypeNode,this.currentFileInfo).eval(this.env);}}buf=useBase64?buf.toString("base64"):encodeURIComponent(buf);var uri="'data:"+mimetype+","+buf+"'";return new (tree.URL)(new (tree.Anonymous)(uri));},"svg-gradient":function(direction){function throwArgumentDescriptor(){throw {type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position]"};}if(arguments.length<3){throwArgumentDescriptor();}var stops=Array.prototype.slice.call(arguments,1),gradientDirectionSvg,gradientType="linear",rectangleDimension='x="0" y="0" width="1" height="1"',useBase64=true,renderEnv={compress:false},returner,directionValue=direction.toCSS(renderEnv),i,color,position,positionValue,alpha;switch(directionValue){case"to bottom":gradientDirectionSvg='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":gradientDirectionSvg='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":gradientDirectionSvg='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":gradientDirectionSvg='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":gradientType="radial";gradientDirectionSvg='cx="50%" cy="50%" r="75%"';rectangleDimension='x="-50" y="-50" width="101" height="101"';break;default:throw {type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"};}returner='<?xml version="1.0" ?>'+'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none">'+"<"+gradientType+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+gradientDirectionSvg+">";for(i=0;i<stops.length;i+=1){if(stops[i].value){color=stops[i].value[0];position=stops[i].value[1];}else{color=stops[i];position=undefined;}if(!(color instanceof tree.Color)||(!((i===0||i+1===stops.length)&&position===undefined)&&!(position instanceof tree.Dimension))){throwArgumentDescriptor();}positionValue=position?position.toCSS(renderEnv):i===0?"0%":"100%";alpha=color.alpha;returner+='<stop offset="'+positionValue+'" stop-color="'+color.toRGB()+'"'+(alpha<1?' stop-opacity="'+alpha+'"':"")+"/>";}returner+="</"+gradientType+"Gradient>"+"<rect "+rectangleDimension+' fill="url(#gradient)" /></svg>';if(useBase64){try{returner=require("./encoder").encodeBase64(returner);}catch(e){useBase64=false;}}returner="'data:image/svg+xml"+(useBase64?";base64":"")+","+returner+"'";return new (tree.URL)(new (tree.Anonymous)(returner));}};tree._mime={_types:{".htm":"text/html",".html":"text/html",".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png"},lookup:function(filepath){var ext=require("path").extname(filepath),type=tree._mime._types[ext];if(type===undefined){throw new Error('Optional dependency "mime" is required for '+ext);}return type;},charsets:{lookup:function(type){return type&&(/^text\//).test(type)?"UTF-8":"";}}};var mathFunctions=[{name:"ceil"},{name:"floor"},{name:"sqrt"},{name:"abs"},{name:"tan",unit:""},{name:"sin",unit:""},{name:"cos",unit:""},{name:"atan",unit:"rad"},{name:"asin",unit:"rad"},{name:"acos",unit:"rad"}],createMathFunction=function(name,unit){return function(n){if(unit!=null){n=n.unify();}return this._math(Math[name],unit,n);};};for(var i=0;i<mathFunctions.length;i++){tree.functions[mathFunctions[i].name]=createMathFunction(mathFunctions[i].name,mathFunctions[i].unit);}function colorBlend(mode,color1,color2){var ab=color1.alpha,cb,as=color2.alpha,cs,ar,cr,r=[];ar=as+ab*(1-as);for(var i=0;i<3;i++){cb=color1.rgb[i]/255;cs=color2.rgb[i]/255;cr=mode(cb,cs);if(ar){cr=(as*cs+ab*(cb-as*(cb+cs-cr)))/ar;}r[i]=cr*255;}return new (tree.Color)(r,ar);}var colorBlendMode={multiply:function(cb,cs){return cb*cs;},screen:function(cb,cs){return cb+cs-cb*cs;},overlay:function(cb,cs){cb*=2;return(cb<=1)?colorBlendMode.multiply(cb,cs):colorBlendMode.screen(cb-1,cs);},softlight:function(cb,cs){var d=1,e=cb;if(cs>0.5){e=1;d=(cb>0.25)?Math.sqrt(cb):((16*cb-12)*cb+4)*cb;}return cb-(1-2*cs)*e*(d-cb);},hardlight:function(cb,cs){return colorBlendMode.overlay(cs,cb);},difference:function(cb,cs){return Math.abs(cb-cs);},exclusion:function(cb,cs){return cb+cs-2*cb*cs;},average:function(cb,cs){return(cb+cs)/2;},negation:function(cb,cs){return 1-Math.abs(cb+cs-1);}};function colorBlendInit(){for(var f in colorBlendMode){tree.functions[f]=colorBlend.bind(null,colorBlendMode[f]);}}colorBlendInit();function hsla(color){return tree.functions.hsla(color.h,color.s,color.l,color.a);}function scaled(n,size){if(n instanceof tree.Dimension&&n.unit.is("%")){return parseFloat(n.value*size/100);}else{return number(n);}}function number(n){if(n instanceof tree.Dimension){return parseFloat(n.unit.is("%")?n.value/100:n.value);}else{if(typeof(n)==="number"){return n;}else{throw {error:"RuntimeError",message:"color functions take numbers as parameters"};}}}function clamp(val){return Math.min(1,Math.max(0,val));}tree.functionCall=function(env,currentFileInfo){this.env=env;this.currentFileInfo=currentFileInfo;};tree.functionCall.prototype=tree.functions;})(require("./tree"));(function(a){a.colors={"aliceblue":"#f0f8ff","antiquewhite":"#faebd7","aqua":"#00ffff","aquamarine":"#7fffd4","azure":"#f0ffff","beige":"#f5f5dc","bisque":"#ffe4c4","black":"#000000","blanchedalmond":"#ffebcd","blue":"#0000ff","blueviolet":"#8a2be2","brown":"#a52a2a","burlywood":"#deb887","cadetblue":"#5f9ea0","chartreuse":"#7fff00","chocolate":"#d2691e","coral":"#ff7f50","cornflowerblue":"#6495ed","cornsilk":"#fff8dc","crimson":"#dc143c","cyan":"#00ffff","darkblue":"#00008b","darkcyan":"#008b8b","darkgoldenrod":"#b8860b","darkgray":"#a9a9a9","darkgrey":"#a9a9a9","darkgreen":"#006400","darkkhaki":"#bdb76b","darkmagenta":"#8b008b","darkolivegreen":"#556b2f","darkorange":"#ff8c00","darkorchid":"#9932cc","darkred":"#8b0000","darksalmon":"#e9967a","darkseagreen":"#8fbc8f","darkslateblue":"#483d8b","darkslategray":"#2f4f4f","darkslategrey":"#2f4f4f","darkturquoise":"#00ced1","darkviolet":"#9400d3","deeppink":"#ff1493","deepskyblue":"#00bfff","dimgray":"#696969","dimgrey":"#696969","dodgerblue":"#1e90ff","firebrick":"#b22222","floralwhite":"#fffaf0","forestgreen":"#228b22","fuchsia":"#ff00ff","gainsboro":"#dcdcdc","ghostwhite":"#f8f8ff","gold":"#ffd700","goldenrod":"#daa520","gray":"#808080","grey":"#808080","green":"#008000","greenyellow":"#adff2f","honeydew":"#f0fff0","hotpink":"#ff69b4","indianred":"#cd5c5c","indigo":"#4b0082","ivory":"#fffff0","khaki":"#f0e68c","lavender":"#e6e6fa","lavenderblush":"#fff0f5","lawngreen":"#7cfc00","lemonchiffon":"#fffacd","lightblue":"#add8e6","lightcoral":"#f08080","lightcyan":"#e0ffff","lightgoldenrodyellow":"#fafad2","lightgray":"#d3d3d3","lightgrey":"#d3d3d3","lightgreen":"#90ee90","lightpink":"#ffb6c1","lightsalmon":"#ffa07a","lightseagreen":"#20b2aa","lightskyblue":"#87cefa","lightslategray":"#778899","lightslategrey":"#778899","lightsteelblue":"#b0c4de","lightyellow":"#ffffe0","lime":"#00ff00","limegreen":"#32cd32","linen":"#faf0e6","magenta":"#ff00ff","maroon":"#800000","mediumaquamarine":"#66cdaa","mediumblue":"#0000cd","mediumorchid":"#ba55d3","mediumpurple":"#9370d8","mediumseagreen":"#3cb371","mediumslateblue":"#7b68ee","mediumspringgreen":"#00fa9a","mediumturquoise":"#48d1cc","mediumvioletred":"#c71585","midnightblue":"#191970","mintcream":"#f5fffa","mistyrose":"#ffe4e1","moccasin":"#ffe4b5","navajowhite":"#ffdead","navy":"#000080","oldlace":"#fdf5e6","olive":"#808000","olivedrab":"#6b8e23","orange":"#ffa500","orangered":"#ff4500","orchid":"#da70d6","palegoldenrod":"#eee8aa","palegreen":"#98fb98","paleturquoise":"#afeeee","palevioletred":"#d87093","papayawhip":"#ffefd5","peachpuff":"#ffdab9","peru":"#cd853f","pink":"#ffc0cb","plum":"#dda0dd","powderblue":"#b0e0e6","purple":"#800080","red":"#ff0000","rosybrown":"#bc8f8f","royalblue":"#4169e1","saddlebrown":"#8b4513","salmon":"#fa8072","sandybrown":"#f4a460","seagreen":"#2e8b57","seashell":"#fff5ee","sienna":"#a0522d","silver":"#c0c0c0","skyblue":"#87ceeb","slateblue":"#6a5acd","slategray":"#708090","slategrey":"#708090","snow":"#fffafa","springgreen":"#00ff7f","steelblue":"#4682b4","tan":"#d2b48c","teal":"#008080","thistle":"#d8bfd8","tomato":"#ff6347","turquoise":"#40e0d0","violet":"#ee82ee","wheat":"#f5deb3","white":"#ffffff","whitesmoke":"#f5f5f5","yellow":"#ffff00","yellowgreen":"#9acd32"};})(require("./tree"));(function(a){a.debugInfo=function(c,b,d){var e="";if(c.dumpLineNumbers&&!c.compress){switch(c.dumpLineNumbers){case"comments":e=a.debugInfo.asComment(b);break;case"mediaquery":e=a.debugInfo.asMediaQuery(b);break;case"all":e=a.debugInfo.asComment(b)+(d||"")+a.debugInfo.asMediaQuery(b);break;}}return e;};a.debugInfo.asComment=function(b){return"/* line "+b.debugInfo.lineNumber+", "+b.debugInfo.fileName+" */\n";};a.debugInfo.asMediaQuery=function(b){return"@media -sass-debug-info{filename{font-family:"+("file://"+b.debugInfo.fileName).replace(/([.:/\\])/g,function(c){if(c=="\\"){c="/";}return"\\"+c;})+"}line{font-family:\\00003"+b.debugInfo.lineNumber+"}}\n";};a.find=function(d,b){for(var c=0,e;c<d.length;c++){if(e=b.call(d,d[c])){return e;}}return null;};a.jsify=function(b){if(Array.isArray(b.value)&&(b.value.length>1)){return"["+b.value.map(function(c){return c.toCSS(false);}).join(", ")+"]";}else{return b.toCSS(false);}};a.toCSS=function(b){var c=[];this.genCSS(b,{add:function(d,e,f){c.push(d);},isEmpty:function(){return c.length===0;}});return c.join("");};a.outputRuleset=function(b,d,e){d.add((b.compress?"{":" {\n"));b.tabLevel=(b.tabLevel||0)+1;var f=b.compress?"":Array(b.tabLevel+1).join("  "),g=b.compress?"":Array(b.tabLevel).join("  ");for(var c=0;c<e.length;c++){d.add(f);e[c].genCSS(b,d);d.add(b.compress?"":"\n");}b.tabLevel--;d.add(g+"}");};})(require("./tree"));(function(tree){tree.Alpha=function(val){this.value=val;};tree.Alpha.prototype={type:"Alpha",accept:function(visitor){this.value=visitor.visit(this.value);},eval:function(env){if(this.value.eval){return new tree.Alpha(this.value.eval(env));}return this;},genCSS:function(env,output){output.add("alpha(opacity=");if(this.value.genCSS){this.value.genCSS(env,output);}else{output.add(this.value);}output.add(")");},toCSS:tree.toCSS};})(require("../tree"));(function(tree){tree.Anonymous=function(string,index,currentFileInfo,mapLines){this.value=string.value||string;this.index=index;this.mapLines=mapLines;this.currentFileInfo=currentFileInfo;};tree.Anonymous.prototype={type:"Anonymous",eval:function(){return this;},compare:function(x){if(!x.toCSS){return -1;}var left=this.toCSS(),right=x.toCSS();if(left===right){return 0;}return left<right?-1:1;},genCSS:function(env,output){output.add(this.value,this.currentFileInfo,this.index,this.mapLines);},toCSS:tree.toCSS};})(require("../tree"));(function(tree){tree.Assignment=function(key,val){this.key=key;this.value=val;};tree.Assignment.prototype={type:"Assignment",accept:function(visitor){this.value=visitor.visit(this.value);},eval:function(env){if(this.value.eval){return new (tree.Assignment)(this.key,this.value.eval(env));}return this;},genCSS:function(env,output){output.add(this.key+"=");if(this.value.genCSS){this.value.genCSS(env,output);}else{output.add(this.value);}},toCSS:tree.toCSS};})(require("../tree"));(function(tree){tree.Call=function(name,args,index,currentFileInfo){this.name=name;this.args=args;this.index=index;this.currentFileInfo=currentFileInfo;};tree.Call.prototype={type:"Call",accept:function(visitor){this.args=visitor.visit(this.args);},eval:function(env){var args=this.args.map(function(a){return a.eval(env);}),nameLC=this.name.toLowerCase(),result,func;if(nameLC in tree.functions){try{func=new tree.functionCall(env,this.currentFileInfo);result=func[nameLC].apply(func,args);if(result!=null){return result;}}catch(e){throw {type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.currentFileInfo.filename};}}return new tree.Call(this.name,args,this.index,this.currentFileInfo);},genCSS:function(env,output){output.add(this.name+"(",this.currentFileInfo,this.index);for(var i=0;i<this.args.length;i++){this.args[i].genCSS(env,output);if(i+1<this.args.length){output.add(", ");}}output.add(")");},toCSS:tree.toCSS};})(require("../tree"));(function(tree){tree.Color=function(rgb,a){if(Array.isArray(rgb)){this.rgb=rgb;}else{if(rgb.length==6){this.rgb=rgb.match(/.{2}/g).map(function(c){return parseInt(c,16);});}else{this.rgb=rgb.split("").map(function(c){return parseInt(c+c,16);});}}this.alpha=typeof(a)==="number"?a:1;};var transparentKeyword="transparent";tree.Color.prototype={type:"Color",eval:function(){return this;},luma:function(){return(0.2126*this.rgb[0]/255)+(0.7152*this.rgb[1]/255)+(0.0722*this.rgb[2]/255);},genCSS:function(env,output){output.add(this.toCSS(env));},toCSS:function(env,doNotCompress){var compress=env&&env.compress&&!doNotCompress;if(this.alpha<1){if(this.alpha===0&&this.isTransparentKeyword){return transparentKeyword;}return"rgba("+this.rgb.map(function(c){return Math.round(c);}).concat(this.alpha).join(","+(compress?"":" "))+")";}else{var color=this.toRGB();if(compress){var splitcolor=color.split("");if(splitcolor[1]===splitcolor[2]&&splitcolor[3]===splitcolor[4]&&splitcolor[5]===splitcolor[6]){color="#"+splitcolor[1]+splitcolor[3]+splitcolor[5];}}return color;}},operate:function(env,op,other){var rgb=[];var alpha=this.alpha*(1-other.alpha)+other.alpha;for(var c=0;c<3;c++){rgb[c]=tree.operate(env,op,this.rgb[c],other.rgb[c]);}return new (tree.Color)(rgb,alpha);},toRGB:function(){return"#"+this.rgb.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?"0"+i:i;}).join("");},toHSL:function(){var r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,l=(max+min)/2,d=max-min;if(max===min){h=s=0;}else{s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}return{h:h*360,s:s,l:l,a:a};},toHSV:function(){var r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,v=max;var d=max-min;if(max===0){s=0;}else{s=d/max;}if(max===min){h=0;}else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}return{h:h*360,s:s,v:v,a:a};},toARGB:function(){var argb=[Math.round(this.alpha*255)].concat(this.rgb);return"#"+argb.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?"0"+i:i;}).join("");},compare:function(x){if(!x.rgb){return -1;}return(x.rgb[0]===this.rgb[0]&&x.rgb[1]===this.rgb[1]&&x.rgb[2]===this.rgb[2]&&x.alpha===this.alpha)?0:-1;}};tree.Color.fromKeyword=function(keyword){if(tree.colors.hasOwnProperty(keyword)){return new (tree.Color)(tree.colors[keyword].slice(1));}if(keyword===transparentKeyword){var transparent=new (tree.Color)([0,0,0],0);transparent.isTransparentKeyword=true;return transparent;}};})(require("../tree"));(function(tree){tree.Comment=function(value,silent,index,currentFileInfo){this.value=value;this.silent=!!silent;this.currentFileInfo=currentFileInfo;};tree.Comment.prototype={type:"Comment",genCSS:function(env,output){if(this.debugInfo){output.add(tree.debugInfo(env,this),this.currentFileInfo,this.index);}output.add(this.value.trim());},toCSS:tree.toCSS,isSilent:function(env){var isReference=(this.currentFileInfo&&this.currentFileInfo.reference&&!this.isReferenced),isCompressed=env.compress&&!this.value.match(/^\/\*!/);return this.silent||isReference||isCompressed;},eval:function(){return this;},markReferenced:function(){this.isReferenced=true;}};})(require("../tree"));(function(tree){tree.Condition=function(op,l,r,i,negate){this.op=op.trim();this.lvalue=l;this.rvalue=r;this.index=i;this.negate=negate;};tree.Condition.prototype={type:"Condition",accept:function(visitor){this.lvalue=visitor.visit(this.lvalue);this.rvalue=visitor.visit(this.rvalue);},eval:function(env){var a=this.lvalue.eval(env),b=this.rvalue.eval(env);var i=this.index,result;result=(function(op){switch(op){case"and":return a&&b;case"or":return a||b;default:if(a.compare){result=a.compare(b);}else{if(b.compare){result=b.compare(a);}else{throw {type:"Type",message:"Unable to perform comparison",index:i};}}switch(result){case -1:return op==="<"||op==="=<"||op==="<=";case 0:return op==="="||op===">="||op==="=<"||op==="<=";case 1:return op===">"||op===">=";}}})(this.op);return this.negate?!result:result;}};})(require("../tree"));(function(tree){tree.Dimension=function(value,unit){this.value=parseFloat(value);this.unit=(unit&&unit instanceof tree.Unit)?unit:new (tree.Unit)(unit?[unit]:undefined);};tree.Dimension.prototype={type:"Dimension",accept:function(visitor){this.unit=visitor.visit(this.unit);},eval:function(env){return this;},toColor:function(){return new (tree.Color)([this.value,this.value,this.value]);},genCSS:function(env,output){if((env&&env.strictUnits)&&!this.unit.isSingular()){throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());}var value=this.value,strValue=String(value);if(value!==0&&value<1e-06&&value>-1e-06){strValue=value.toFixed(20).replace(/0+$/,"");}if(env&&env.compress){if(value===0&&this.unit.isLength()){output.add(strValue);return;}if(value>0&&value<1){strValue=(strValue).substr(1);}}output.add(strValue);this.unit.genCSS(env,output);},toCSS:tree.toCSS,operate:function(env,op,other){var value=tree.operate(env,op,this.value,other.value),unit=this.unit.clone();if(op==="+"||op==="-"){if(unit.numerator.length===0&&unit.denominator.length===0){unit.numerator=other.unit.numerator.slice(0);unit.denominator=other.unit.denominator.slice(0);}else{if(other.unit.numerator.length===0&&unit.denominator.length===0){}else{other=other.convertTo(this.unit.usedUnits());if(env.strictUnits&&other.unit.toString()!==unit.toString()){throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+unit.toString()+"' and '"+other.unit.toString()+"'.");}value=tree.operate(env,op,this.value,other.value);}}}else{if(op==="*"){unit.numerator=unit.numerator.concat(other.unit.numerator).sort();unit.denominator=unit.denominator.concat(other.unit.denominator).sort();unit.cancel();}else{if(op==="/"){unit.numerator=unit.numerator.concat(other.unit.denominator).sort();unit.denominator=unit.denominator.concat(other.unit.numerator).sort();unit.cancel();}}}return new (tree.Dimension)(value,unit);},compare:function(other){if(other instanceof tree.Dimension){var a=this.unify(),b=other.unify(),aValue=a.value,bValue=b.value;if(bValue>aValue){return -1;}else{if(bValue<aValue){return 1;}else{if(!b.unit.isEmpty()&&a.unit.compare(b.unit)!==0){return -1;}return 0;}}}else{return -1;}},unify:function(){return this.convertTo({length:"m",duration:"s",angle:"rad"});},convertTo:function(conversions){var value=this.value,unit=this.unit.clone(),i,groupName,group,targetUnit,derivedConversions={},applyUnit;if(typeof conversions==="string"){for(i in tree.UnitConversions){if(tree.UnitConversions[i].hasOwnProperty(conversions)){derivedConversions={};derivedConversions[i]=conversions;}}conversions=derivedConversions;}applyUnit=function(atomicUnit,denominator){if(group.hasOwnProperty(atomicUnit)){if(denominator){value=value/(group[atomicUnit]/group[targetUnit]);}else{value=value*(group[atomicUnit]/group[targetUnit]);}return targetUnit;}return atomicUnit;};for(groupName in conversions){if(conversions.hasOwnProperty(groupName)){targetUnit=conversions[groupName];group=tree.UnitConversions[groupName];unit.map(applyUnit);}}unit.cancel();return new (tree.Dimension)(value,unit);}};tree.UnitConversions={length:{"m":1,"cm":0.01,"mm":0.001,"in":0.0254,"pt":0.0254/72,"pc":0.0254/72*12},duration:{"s":1,"ms":0.001},angle:{"rad":1/(2*Math.PI),"deg":1/360,"grad":1/400,"turn":1}};tree.Unit=function(numerator,denominator,backupUnit){this.numerator=numerator?numerator.slice(0).sort():[];this.denominator=denominator?denominator.slice(0).sort():[];this.backupUnit=backupUnit;};tree.Unit.prototype={type:"Unit",clone:function(){return new tree.Unit(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit);},genCSS:function(env,output){if(this.numerator.length>=1){output.add(this.numerator[0]);}else{if(this.denominator.length>=1){output.add(this.denominator[0]);}else{if((!env||!env.strictUnits)&&this.backupUnit){output.add(this.backupUnit);}}}},toCSS:tree.toCSS,toString:function(){var i,returnStr=this.numerator.join("*");for(i=0;i<this.denominator.length;i++){returnStr+="/"+this.denominator[i];}return returnStr;},compare:function(other){return this.is(other.toString())?0:-1;},is:function(unitString){return this.toString()===unitString;},isLength:function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/));},isEmpty:function(){return this.numerator.length===0&&this.denominator.length===0;},isSingular:function(){return this.numerator.length<=1&&this.denominator.length===0;},map:function(callback){var i;for(i=0;i<this.numerator.length;i++){this.numerator[i]=callback(this.numerator[i],false);}for(i=0;i<this.denominator.length;i++){this.denominator[i]=callback(this.denominator[i],true);}},usedUnits:function(){var group,result={},mapUnit;mapUnit=function(atomicUnit){if(group.hasOwnProperty(atomicUnit)&&!result[groupName]){result[groupName]=atomicUnit;}return atomicUnit;};for(var groupName in tree.UnitConversions){if(tree.UnitConversions.hasOwnProperty(groupName)){group=tree.UnitConversions[groupName];this.map(mapUnit);}}return result;},cancel:function(){var counter={},atomicUnit,i,backup;for(i=0;i<this.numerator.length;i++){atomicUnit=this.numerator[i];if(!backup){backup=atomicUnit;}counter[atomicUnit]=(counter[atomicUnit]||0)+1;}for(i=0;i<this.denominator.length;i++){atomicUnit=this.denominator[i];if(!backup){backup=atomicUnit;}counter[atomicUnit]=(counter[atomicUnit]||0)-1;}this.numerator=[];this.denominator=[];for(atomicUnit in counter){if(counter.hasOwnProperty(atomicUnit)){var count=counter[atomicUnit];if(count>0){for(i=0;i<count;i++){this.numerator.push(atomicUnit);}}else{if(count<0){for(i=0;i<-count;i++){this.denominator.push(atomicUnit);}}}}}if(this.numerator.length===0&&this.denominator.length===0&&backup){this.backupUnit=backup;}this.numerator.sort();this.denominator.sort();}};})(require("../tree"));(function(tree){tree.Directive=function(name,value,index,currentFileInfo){this.name=name;if(Array.isArray(value)){this.rules=[new (tree.Ruleset)([],value)];this.rules[0].allowImports=true;}else{this.value=value;}this.currentFileInfo=currentFileInfo;};tree.Directive.prototype={type:"Directive",accept:function(visitor){this.rules=visitor.visit(this.rules);this.value=visitor.visit(this.value);},genCSS:function(env,output){output.add(this.name,this.currentFileInfo,this.index);if(this.rules){tree.outputRuleset(env,output,this.rules);}else{output.add(" ");this.value.genCSS(env,output);output.add(";");}},toCSS:tree.toCSS,eval:function(env){var evaldDirective=this;if(this.rules){env.frames.unshift(this);evaldDirective=new (tree.Directive)(this.name,null,this.index,this.currentFileInfo);evaldDirective.rules=[this.rules[0].eval(env)];evaldDirective.rules[0].root=true;env.frames.shift();}return evaldDirective;},variable:function(name){return tree.Ruleset.prototype.variable.call(this.rules[0],name);},find:function(){return tree.Ruleset.prototype.find.apply(this.rules[0],arguments);},rulesets:function(){return tree.Ruleset.prototype.rulesets.apply(this.rules[0]);},markReferenced:function(){var i,rules;this.isReferenced=true;if(this.rules){rules=this.rules[0].rules;for(i=0;i<rules.length;i++){if(rules[i].markReferenced){rules[i].markReferenced();}}}}};})(require("../tree"));(function(tree){tree.Element=function(combinator,value,index,currentFileInfo){this.combinator=combinator instanceof tree.Combinator?combinator:new (tree.Combinator)(combinator);if(typeof(value)==="string"){this.value=value.trim();}else{if(value){this.value=value;}else{this.value="";}}this.index=index;this.currentFileInfo=currentFileInfo;};tree.Element.prototype={type:"Element",accept:function(visitor){this.combinator=visitor.visit(this.combinator);this.value=visitor.visit(this.value);},eval:function(env){return new (tree.Element)(this.combinator,this.value.eval?this.value.eval(env):this.value,this.index,this.currentFileInfo);},genCSS:function(env,output){output.add(this.toCSS(env),this.currentFileInfo,this.index);},toCSS:function(env){var value=(this.value.toCSS?this.value.toCSS(env):this.value);if(value===""&&this.combinator.value.charAt(0)==="&"){return"";}else{return this.combinator.toCSS(env||{})+value;}}};tree.Attribute=function(key,op,value){this.key=key;this.op=op;this.value=value;};tree.Attribute.prototype={type:"Attribute",accept:function(visitor){this.value=visitor.visit(this.value);},eval:function(env){return new (tree.Attribute)(this.key.eval?this.key.eval(env):this.key,this.op,(this.value&&this.value.eval)?this.value.eval(env):this.value);},genCSS:function(env,output){output.add(this.toCSS(env));},toCSS:function(env){var value=this.key.toCSS?this.key.toCSS(env):this.key;if(this.op){value+=this.op;value+=(this.value.toCSS?this.value.toCSS(env):this.value);}return"["+value+"]";}};tree.Combinator=function(value){if(value===" "){this.value=" ";}else{this.value=value?value.trim():"";}};tree.Combinator.prototype={type:"Combinator",_outputMap:{"":""," ":" ",":":" :","+":" + ","~":" ~ ",">":" > ","|":"|"},_outputMapCompressed:{"":""," ":" ",":":" :","+":"+","~":"~",">":">","|":"|"},genCSS:function(env,output){output.add((env.compress?this._outputMapCompressed:this._outputMap)[this.value]);},toCSS:tree.toCSS};})(require("../tree"));(function(tree){tree.Expression=function(value){this.value=value;};tree.Expression.prototype={type:"Expression",accept:function(visitor){this.value=visitor.visit(this.value);},eval:function(env){var returnValue,inParenthesis=this.parens&&!this.parensInOp,doubleParen=false;if(inParenthesis){env.inParenthesis();}if(this.value.length>1){returnValue=new (tree.Expression)(this.value.map(function(e){return e.eval(env);}));}else{if(this.value.length===1){if(this.value[0].parens&&!this.value[0].parensInOp){doubleParen=true;}returnValue=this.value[0].eval(env);}else{returnValue=this;}}if(inParenthesis){env.outOfParenthesis();}if(this.parens&&this.parensInOp&&!(env.isMathOn())&&!doubleParen){returnValue=new (tree.Paren)(returnValue);}return returnValue;},genCSS:function(env,output){for(var i=0;i<this.value.length;i++){this.value[i].genCSS(env,output);if(i+1<this.value.length){output.add(" ");}}},toCSS:tree.toCSS,throwAwayComments:function(){this.value=this.value.filter(function(v){return !(v instanceof tree.Comment);});}};})(require("../tree"));(function(tree){tree.Extend=function Extend(selector,option,index){this.selector=selector;this.option=option;this.index=index;switch(option){case"all":this.allowBefore=true;this.allowAfter=true;break;default:this.allowBefore=false;this.allowAfter=false;break;}};tree.Extend.prototype={type:"Extend",accept:function(visitor){this.selector=visitor.visit(this.selector);},eval:function(env){return new (tree.Extend)(this.selector.eval(env),this.option,this.index);},clone:function(env){return new (tree.Extend)(this.selector,this.option,this.index);},findSelfSelectors:function(selectors){var selfElements=[],i,selectorElements;for(i=0;i<selectors.length;i++){selectorElements=selectors[i].elements;if(i>0&&selectorElements.length&&selectorElements[0].combinator.value===""){selectorElements[0].combinator.value=" ";}selfElements=selfElements.concat(selectors[i].elements);}this.selfSelectors=[{elements:selfElements}];}};})(require("../tree"));(function(tree){tree.Import=function(path,features,options,index,currentFileInfo){this.options=options;this.index=index;this.path=path;this.features=features;this.currentFileInfo=currentFileInfo;if(this.options.less!==undefined||this.options.inline){this.css=!this.options.less||this.options.inline;}else{var pathValue=this.getPath();if(pathValue&&/css([\?;].*)?$/.test(pathValue)){this.css=true;}}};tree.Import.prototype={type:"Import",accept:function(visitor){this.features=visitor.visit(this.features);this.path=visitor.visit(this.path);if(!this.options.inline){this.root=visitor.visit(this.root);}},genCSS:function(env,output){if(this.css){output.add("@import ",this.currentFileInfo,this.index);this.path.genCSS(env,output);if(this.features){output.add(" ");this.features.genCSS(env,output);}output.add(";");}},toCSS:tree.toCSS,getPath:function(){if(this.path instanceof tree.Quoted){var path=this.path.value;return(this.css!==undefined||/(\.[a-z]*$)|([\?;].*)$/.test(path))?path:path+".less";}else{if(this.path instanceof tree.URL){return this.path.value.value;}}return null;},evalForImport:function(env){return new (tree.Import)(this.path.eval(env),this.features,this.options,this.index,this.currentFileInfo);},evalPath:function(env){var path=this.path.eval(env);var rootpath=this.currentFileInfo&&this.currentFileInfo.rootpath;if(!(path instanceof tree.URL)){if(rootpath){var pathValue=path.value;if(pathValue&&env.isPathRelative(pathValue)){path.value=rootpath+pathValue;}}path.value=env.normalizePath(path.value);}return path;},eval:function(env){var ruleset,features=this.features&&this.features.eval(env);if(this.skip){return[];}if(this.options.inline){var contents=new (tree.Anonymous)(this.root,0,{filename:this.importedFilename},true);return this.features?new (tree.Media)([contents],this.features.value):[contents];}else{if(this.css){var newImport=new (tree.Import)(this.evalPath(env),features,this.options,this.index);if(!newImport.css&&this.error){throw this.error;}return newImport;}else{ruleset=new (tree.Ruleset)([],this.root.rules.slice(0));ruleset.evalImports(env);return this.features?new (tree.Media)(ruleset.rules,this.features.value):ruleset.rules;}}}};})(require("../tree"));(function(tree){tree.JavaScript=function(string,index,escaped){this.escaped=escaped;this.expression=string;this.index=index;};tree.JavaScript.prototype={type:"JavaScript",eval:function(env){var result,that=this,context={};var expression=this.expression.replace(/@\{([\w-]+)\}/g,function(_,name){return tree.jsify(new (tree.Variable)("@"+name,that.index).eval(env));});try{expression=new (Function)("return ("+expression+")");}catch(e){throw {message:"JavaScript evaluation error: "+e.message+" from `"+expression+"`",index:this.index};}for(var k in env.frames[0].variables()){context[k.slice(1)]={value:env.frames[0].variables()[k].value,toJS:function(){return this.value.eval(env).toCSS();}};}try{result=expression.call(context);}catch(e){throw {message:"JavaScript evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",index:this.index};}if(typeof(result)==="string"){return new (tree.Quoted)('"'+result+'"',result,this.escaped,this.index);}else{if(Array.isArray(result)){return new (tree.Anonymous)(result.join(", "));}else{return new (tree.Anonymous)(result);}}}};})(require("../tree"));(function(tree){tree.Keyword=function(value){this.value=value;};tree.Keyword.prototype={type:"Keyword",eval:function(){return this;},genCSS:function(env,output){output.add(this.value);},toCSS:tree.toCSS,compare:function(other){if(other instanceof tree.Keyword){return other.value===this.value?0:1;}else{return -1;}}};tree.True=new (tree.Keyword)("true");tree.False=new (tree.Keyword)("false");})(require("../tree"));(function(tree){tree.Media=function(value,features,index,currentFileInfo){this.index=index;this.currentFileInfo=currentFileInfo;var selectors=this.emptySelectors();this.features=new (tree.Value)(features);this.rules=[new (tree.Ruleset)(selectors,value)];this.rules[0].allowImports=true;};tree.Media.prototype={type:"Media",accept:function(visitor){this.features=visitor.visit(this.features);this.rules=visitor.visit(this.rules);},genCSS:function(env,output){output.add("@media ",this.currentFileInfo,this.index);this.features.genCSS(env,output);tree.outputRuleset(env,output,this.rules);},toCSS:tree.toCSS,eval:function(env){if(!env.mediaBlocks){env.mediaBlocks=[];env.mediaPath=[];}var media=new (tree.Media)([],[],this.index,this.currentFileInfo);if(this.debugInfo){this.rules[0].debugInfo=this.debugInfo;media.debugInfo=this.debugInfo;}var strictMathBypass=false;if(!env.strictMath){strictMathBypass=true;env.strictMath=true;}try{media.features=this.features.eval(env);}finally{if(strictMathBypass){env.strictMath=false;}}env.mediaPath.push(media);env.mediaBlocks.push(media);env.frames.unshift(this.rules[0]);media.rules=[this.rules[0].eval(env)];env.frames.shift();env.mediaPath.pop();return env.mediaPath.length===0?media.evalTop(env):media.evalNested(env);},variable:function(name){return tree.Ruleset.prototype.variable.call(this.rules[0],name);},find:function(){return tree.Ruleset.prototype.find.apply(this.rules[0],arguments);},rulesets:function(){return tree.Ruleset.prototype.rulesets.apply(this.rules[0]);},emptySelectors:function(){var el=new (tree.Element)("","&",this.index,this.currentFileInfo);return[new (tree.Selector)([el],null,null,this.index,this.currentFileInfo)];},markReferenced:function(){var i,rules=this.rules[0].rules;this.isReferenced=true;for(i=0;i<rules.length;i++){if(rules[i].markReferenced){rules[i].markReferenced();}}},evalTop:function(env){var result=this;if(env.mediaBlocks.length>1){var selectors=this.emptySelectors();result=new (tree.Ruleset)(selectors,env.mediaBlocks);result.multiMedia=true;}delete env.mediaBlocks;delete env.mediaPath;return result;},evalNested:function(env){var i,value,path=env.mediaPath.concat([this]);for(i=0;i<path.length;i++){value=path[i].features instanceof tree.Value?path[i].features.value:path[i].features;path[i]=Array.isArray(value)?value:[value];}this.features=new (tree.Value)(this.permute(path).map(function(path){path=path.map(function(fragment){return fragment.toCSS?fragment:new (tree.Anonymous)(fragment);});for(i=path.length-1;i>0;i--){path.splice(i,0,new (tree.Anonymous)("and"));}return new (tree.Expression)(path);}));return new (tree.Ruleset)([],[]);},permute:function(arr){if(arr.length===0){return[];}else{if(arr.length===1){return arr[0];}else{var result=[];var rest=this.permute(arr.slice(1));for(var i=0;i<rest.length;i++){for(var j=0;j<arr[0].length;j++){result.push([arr[0][j]].concat(rest[i]));}}return result;}}},bubbleSelectors:function(selectors){this.rules=[new (tree.Ruleset)(selectors.slice(0),[this.rules[0]])];}};})(require("../tree"));(function(tree){tree.mixin={};tree.mixin.Call=function(elements,args,index,currentFileInfo,important){this.selector=new (tree.Selector)(elements);this.arguments=args;this.index=index;this.currentFileInfo=currentFileInfo;this.important=important;};tree.mixin.Call.prototype={type:"MixinCall",accept:function(visitor){this.selector=visitor.visit(this.selector);this.arguments=visitor.visit(this.arguments);},eval:function(env){var mixins,mixin,args,rules=[],match=false,i,m,f,isRecursive,isOneFound,rule;args=this.arguments&&this.arguments.map(function(a){return{name:a.name,value:a.value.eval(env)};});for(i=0;i<env.frames.length;i++){if((mixins=env.frames[i].find(this.selector)).length>0){isOneFound=true;for(m=0;m<mixins.length;m++){mixin=mixins[m];isRecursive=false;for(f=0;f<env.frames.length;f++){if((!(mixin instanceof tree.mixin.Definition))&&mixin===(env.frames[f].originalRuleset||env.frames[f])){isRecursive=true;break;}}if(isRecursive){continue;}if(mixin.matchArgs(args,env)){if(!mixin.matchCondition||mixin.matchCondition(args,env)){try{if(!(mixin instanceof tree.mixin.Definition)){mixin=new tree.mixin.Definition("",[],mixin.rules,null,false);mixin.originalRuleset=mixins[m].originalRuleset||mixins[m];}Array.prototype.push.apply(rules,mixin.eval(env,args,this.important).rules);}catch(e){throw {message:e.message,index:this.index,filename:this.currentFileInfo.filename,stack:e.stack};}}match=true;}}if(match){if(!this.currentFileInfo||!this.currentFileInfo.reference){for(i=0;i<rules.length;i++){rule=rules[i];if(rule.markReferenced){rule.markReferenced();}}}return rules;}}}if(isOneFound){throw {type:"Runtime",message:"No matching definition was found for `"+this.selector.toCSS().trim()+"("+(args?args.map(function(a){var argValue="";if(a.name){argValue+=a.name+":";}if(a.value.toCSS){argValue+=a.value.toCSS();}else{argValue+="???";}return argValue;}).join(", "):"")+")`",index:this.index,filename:this.currentFileInfo.filename};}else{throw {type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename};}}};tree.mixin.Definition=function(name,params,rules,condition,variadic){this.name=name;this.selectors=[new (tree.Selector)([new (tree.Element)(null,name,this.index,this.currentFileInfo)])];this.params=params;this.condition=condition;this.variadic=variadic;this.arity=params.length;this.rules=rules;this._lookups={};this.required=params.reduce(function(count,p){if(!p.name||(p.name&&!p.value)){return count+1;}else{return count;}},0);this.parent=tree.Ruleset.prototype;this.frames=[];};tree.mixin.Definition.prototype={type:"MixinDefinition",accept:function(visitor){this.params=visitor.visit(this.params);this.rules=visitor.visit(this.rules);this.condition=visitor.visit(this.condition);},variable:function(name){return this.parent.variable.call(this,name);},variables:function(){return this.parent.variables.call(this);},find:function(){return this.parent.find.apply(this,arguments);},rulesets:function(){return this.parent.rulesets.apply(this);},evalParams:function(env,mixinEnv,args,evaldArguments){var frame=new (tree.Ruleset)(null,[]),varargs,arg,params=this.params.slice(0),i,j,val,name,isNamedFound,argIndex;mixinEnv=new tree.evalEnv(mixinEnv,[frame].concat(mixinEnv.frames));if(args){args=args.slice(0);for(i=0;i<args.length;i++){arg=args[i];if(name=(arg&&arg.name)){isNamedFound=false;for(j=0;j<params.length;j++){if(!evaldArguments[j]&&name===params[j].name){evaldArguments[j]=arg.value.eval(env);frame.rules.unshift(new (tree.Rule)(name,arg.value.eval(env)));isNamedFound=true;break;}}if(isNamedFound){args.splice(i,1);i--;continue;}else{throw {type:"Runtime",message:"Named argument for "+this.name+" "+args[i].name+" not found"};}}}}argIndex=0;for(i=0;i<params.length;i++){if(evaldArguments[i]){continue;}arg=args&&args[argIndex];if(name=params[i].name){if(params[i].variadic&&args){varargs=[];for(j=argIndex;j<args.length;j++){varargs.push(args[j].value.eval(env));}frame.rules.unshift(new (tree.Rule)(name,new (tree.Expression)(varargs).eval(env)));}else{val=arg&&arg.value;if(val){val=val.eval(env);}else{if(params[i].value){val=params[i].value.eval(mixinEnv);frame.resetCache();}else{throw {type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+args.length+" for "+this.arity+")"};}}frame.rules.unshift(new (tree.Rule)(name,val));evaldArguments[i]=val;}}if(params[i].variadic&&args){for(j=argIndex;j<args.length;j++){evaldArguments[j]=args[j].value.eval(env);}}argIndex++;}return frame;},eval:function(env,args,important){var _arguments=[],mixinFrames=this.frames.concat(env.frames),frame=this.evalParams(env,new (tree.evalEnv)(env,mixinFrames),args,_arguments),rules,ruleset;frame.rules.unshift(new (tree.Rule)("@arguments",new (tree.Expression)(_arguments).eval(env)));rules=this.rules.slice(0);ruleset=new (tree.Ruleset)(null,rules);ruleset.originalRuleset=this;ruleset=ruleset.eval(new (tree.evalEnv)(env,[this,frame].concat(mixinFrames)));if(important){ruleset=this.parent.makeImportant.apply(ruleset);}return ruleset;},matchCondition:function(args,env){if(this.condition&&!this.condition.eval(new (tree.evalEnv)(env,[this.evalParams(env,new (tree.evalEnv)(env,this.frames.concat(env.frames)),args,[])].concat(this.frames).concat(env.frames)))){return false;}return true;},matchArgs:function(args,env){var argsLength=(args&&args.length)||0,len;if(!this.variadic){if(argsLength<this.required){return false;}if(argsLength>this.params.length){return false;}}else{if(argsLength<(this.required-1)){return false;}}len=Math.min(argsLength,this.arity);for(var i=0;i<len;i++){if(!this.params[i].name&&!this.params[i].variadic){if(args[i].value.eval(env).toCSS()!=this.params[i].value.eval(env).toCSS()){return false;}}}return true;}};})(require("../tree"));(function(tree){tree.Negative=function(node){this.value=node;};tree.Negative.prototype={type:"Negative",accept:function(visitor){this.value=visitor.visit(this.value);},genCSS:function(env,output){output.add("-");this.value.genCSS(env,output);},toCSS:tree.toCSS,eval:function(env){if(env.isMathOn()){return(new (tree.Operation)("*",[new (tree.Dimension)(-1),this.value])).eval(env);}return new (tree.Negative)(this.value.eval(env));}};})(require("../tree"));(function(tree){tree.Operation=function(op,operands,isSpaced){this.op=op.trim();this.operands=operands;this.isSpaced=isSpaced;};tree.Operation.prototype={type:"Operation",accept:function(visitor){this.operands=visitor.visit(this.operands);},eval:function(env){var a=this.operands[0].eval(env),b=this.operands[1].eval(env);if(env.isMathOn()){if(a instanceof tree.Dimension&&b instanceof tree.Color){a=a.toColor();}if(b instanceof tree.Dimension&&a instanceof tree.Color){b=b.toColor();}if(!a.operate){throw {type:"Operation",message:"Operation on an invalid type"};}return a.operate(env,this.op,b);}else{return new (tree.Operation)(this.op,[a,b],this.isSpaced);}},genCSS:function(env,output){this.operands[0].genCSS(env,output);if(this.isSpaced){output.add(" ");}output.add(this.op);if(this.isSpaced){output.add(" ");}this.operands[1].genCSS(env,output);},toCSS:tree.toCSS};tree.operate=function(env,op,a,b){switch(op){case"+":return a+b;case"-":return a-b;case"*":return a*b;case"/":return a/b;}};})(require("../tree"));(function(tree){tree.Paren=function(node){this.value=node;};tree.Paren.prototype={type:"Paren",accept:function(visitor){this.value=visitor.visit(this.value);},genCSS:function(env,output){output.add("(");this.value.genCSS(env,output);output.add(")");},toCSS:tree.toCSS,eval:function(env){return new (tree.Paren)(this.value.eval(env));}};})(require("../tree"));(function(tree){tree.Quoted=function(str,content,escaped,index,currentFileInfo){this.escaped=escaped;this.value=content||"";this.quote=str.charAt(0);this.index=index;this.currentFileInfo=currentFileInfo;};tree.Quoted.prototype={type:"Quoted",genCSS:function(env,output){if(!this.escaped){output.add(this.quote,this.currentFileInfo,this.index);}output.add(this.value);if(!this.escaped){output.add(this.quote);}},toCSS:tree.toCSS,eval:function(env){var that=this;var value=this.value.replace(/`([^`]+)`/g,function(_,exp){return new (tree.JavaScript)(exp,that.index,true).eval(env).value;}).replace(/@\{([\w-]+)\}/g,function(_,name){var v=new (tree.Variable)("@"+name,that.index,that.currentFileInfo).eval(env,true);return(v instanceof tree.Quoted)?v.value:v.toCSS();});return new (tree.Quoted)(this.quote+value+this.quote,value,this.escaped,this.index,this.currentFileInfo);},compare:function(x){if(!x.toCSS){return -1;}var left=this.toCSS(),right=x.toCSS();if(left===right){return 0;}return left<right?-1:1;}};})(require("../tree"));(function(tree){tree.Rule=function(name,value,important,merge,index,currentFileInfo,inline){this.name=name;this.value=(value instanceof tree.Value)?value:new (tree.Value)([value]);this.important=important?" "+important.trim():"";this.merge=merge;this.index=index;this.currentFileInfo=currentFileInfo;this.inline=inline||false;this.variable=(name.charAt(0)==="@");};tree.Rule.prototype={type:"Rule",accept:function(visitor){this.value=visitor.visit(this.value);},genCSS:function(env,output){output.add(this.name+(env.compress?":":": "),this.currentFileInfo,this.index);try{this.value.genCSS(env,output);}catch(e){e.index=this.index;e.filename=this.currentFileInfo.filename;throw e;}output.add(this.important+((this.inline||(env.lastRule&&env.compress))?"":";"),this.currentFileInfo,this.index);},toCSS:tree.toCSS,eval:function(env){var strictMathBypass=false;if(this.name==="font"&&!env.strictMath){strictMathBypass=true;env.strictMath=true;}try{return new (tree.Rule)(this.name,this.value.eval(env),this.important,this.merge,this.index,this.currentFileInfo,this.inline);}catch(e){if(e.index===undefined){e.index=this.index;}throw e;}finally{if(strictMathBypass){env.strictMath=false;}}},makeImportant:function(){return new (tree.Rule)(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline);}};})(require("../tree"));(function(tree){tree.Ruleset=function(selectors,rules,strictImports){this.selectors=selectors;this.rules=rules;this._lookups={};this.strictImports=strictImports;};tree.Ruleset.prototype={type:"Ruleset",accept:function(visitor){if(this.paths){for(var i=0;i<this.paths.length;i++){this.paths[i]=visitor.visit(this.paths[i]);}}else{this.selectors=visitor.visit(this.selectors);}this.rules=visitor.visit(this.rules);},eval:function(env){var selectors=this.selectors&&this.selectors.map(function(s){return s.eval(env);});var ruleset=new (tree.Ruleset)(selectors,this.rules.slice(0),this.strictImports);var rules;var rule;var i;ruleset.originalRuleset=this;ruleset.root=this.root;ruleset.firstRoot=this.firstRoot;ruleset.allowImports=this.allowImports;if(this.debugInfo){ruleset.debugInfo=this.debugInfo;}env.frames.unshift(ruleset);if(!env.selectors){env.selectors=[];}env.selectors.unshift(this.selectors);if(ruleset.root||ruleset.allowImports||!ruleset.strictImports){ruleset.evalImports(env);}for(i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.mixin.Definition){ruleset.rules[i].frames=env.frames.slice(0);}}var mediaBlockCount=(env.mediaBlocks&&env.mediaBlocks.length)||0;for(i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.mixin.Call){rules=ruleset.rules[i].eval(env).filter(function(r){if((r instanceof tree.Rule)&&r.variable){return !(ruleset.variable(r.name));}return true;});ruleset.rules.splice.apply(ruleset.rules,[i,1].concat(rules));i+=rules.length-1;ruleset.resetCache();}}for(i=0;i<ruleset.rules.length;i++){rule=ruleset.rules[i];if(!(rule instanceof tree.mixin.Definition)){ruleset.rules[i]=rule.eval?rule.eval(env):rule;}}env.frames.shift();env.selectors.shift();if(env.mediaBlocks){for(i=mediaBlockCount;i<env.mediaBlocks.length;i++){env.mediaBlocks[i].bubbleSelectors(selectors);}}return ruleset;},evalImports:function(env){var i,rules;for(i=0;i<this.rules.length;i++){if(this.rules[i] instanceof tree.Import){rules=this.rules[i].eval(env);if(typeof rules.length==="number"){this.rules.splice.apply(this.rules,[i,1].concat(rules));i+=rules.length-1;}else{this.rules.splice(i,1,rules);}this.resetCache();}}},makeImportant:function(){return new tree.Ruleset(this.selectors,this.rules.map(function(r){if(r.makeImportant){return r.makeImportant();}else{return r;}}),this.strictImports);},matchArgs:function(args){return !args||args.length===0;},matchCondition:function(args,env){var lastSelector=this.selectors[this.selectors.length-1];if(lastSelector.condition&&!lastSelector.condition.eval(new (tree.evalEnv)(env,env.frames))){return false;}return true;},resetCache:function(){this._rulesets=null;this._variables=null;this._lookups={};},variables:function(){if(this._variables){return this._variables;}else{return this._variables=this.rules.reduce(function(hash,r){if(r instanceof tree.Rule&&r.variable===true){hash[r.name]=r;}return hash;},{});}},variable:function(name){return this.variables()[name];},rulesets:function(){return this.rules.filter(function(r){return(r instanceof tree.Ruleset)||(r instanceof tree.mixin.Definition);});},find:function(selector,self){self=self||this;var rules=[],match,key=selector.toCSS();if(key in this._lookups){return this._lookups[key];}this.rulesets().forEach(function(rule){if(rule!==self){for(var j=0;j<rule.selectors.length;j++){if(match=selector.match(rule.selectors[j])){if(selector.elements.length>match){Array.prototype.push.apply(rules,rule.find(new (tree.Selector)(selector.elements.slice(match)),self));}else{rules.push(rule);}break;}}}});return this._lookups[key]=rules;},genCSS:function(env,output){var i,j,ruleNodes=[],rulesetNodes=[],debugInfo,rule,firstRuleset=true,path;env.tabLevel=(env.tabLevel||0);if(!this.root){env.tabLevel++;}var tabRuleStr=env.compress?"":Array(env.tabLevel+1).join("  "),tabSetStr=env.compress?"":Array(env.tabLevel).join("  ");for(i=0;i<this.rules.length;i++){rule=this.rules[i];if(rule.rules||(rule instanceof tree.Media)||rule instanceof tree.Directive||(this.root&&rule instanceof tree.Comment)){rulesetNodes.push(rule);}else{ruleNodes.push(rule);}}if(!this.root){debugInfo=tree.debugInfo(env,this,tabSetStr);if(debugInfo){output.add(debugInfo);output.add(tabSetStr);}for(i=0;i<this.paths.length;i++){path=this.paths[i];env.firstSelector=true;for(j=0;j<path.length;j++){path[j].genCSS(env,output);env.firstSelector=false;}if(i+1<this.paths.length){output.add(env.compress?",":(",\n"+tabSetStr));}}output.add((env.compress?"{":" {\n")+tabRuleStr);}for(i=0;i<ruleNodes.length;i++){rule=ruleNodes[i];if(i+1===ruleNodes.length&&(!this.root||rulesetNodes.length===0||this.firstRoot)){env.lastRule=true;}if(rule.genCSS){rule.genCSS(env,output);}else{if(rule.value){output.add(rule.value.toString());}}if(!env.lastRule){output.add(env.compress?"":("\n"+tabRuleStr));}else{env.lastRule=false;}}if(!this.root){output.add((env.compress?"}":"\n"+tabSetStr+"}"));env.tabLevel--;}for(i=0;i<rulesetNodes.length;i++){if(ruleNodes.length&&firstRuleset){output.add((env.compress?"":"\n")+(this.root?tabRuleStr:tabSetStr));}if(!firstRuleset){output.add((env.compress?"":"\n")+(this.root?tabRuleStr:tabSetStr));}firstRuleset=false;rulesetNodes[i].genCSS(env,output);}if(!output.isEmpty()&&!env.compress&&this.firstRoot){output.add("\n");}},toCSS:tree.toCSS,markReferenced:function(){for(var s=0;s<this.selectors.length;s++){this.selectors[s].markReferenced();}},joinSelectors:function(paths,context,selectors){for(var s=0;s<selectors.length;s++){this.joinSelector(paths,context,selectors[s]);}},joinSelector:function(paths,context,selector){var i,j,k,hasParentSelector,newSelectors,el,sel,parentSel,newSelectorPath,afterParentJoin,newJoinedSelector,newJoinedSelectorEmpty,lastSelector,currentElements,selectorsMultiplied;for(i=0;i<selector.elements.length;i++){el=selector.elements[i];if(el.value==="&"){hasParentSelector=true;}}if(!hasParentSelector){if(context.length>0){for(i=0;i<context.length;i++){paths.push(context[i].concat(selector));}}else{paths.push([selector]);}return;}currentElements=[];newSelectors=[[]];for(i=0;i<selector.elements.length;i++){el=selector.elements[i];if(el.value!=="&"){currentElements.push(el);}else{selectorsMultiplied=[];if(currentElements.length>0){this.mergeElementsOnToSelectors(currentElements,newSelectors);}for(j=0;j<newSelectors.length;j++){sel=newSelectors[j];if(context.length===0){if(sel.length>0){sel[0].elements=sel[0].elements.slice(0);sel[0].elements.push(new (tree.Element)(el.combinator,"",0,el.index,el.currentFileInfo));}selectorsMultiplied.push(sel);}else{for(k=0;k<context.length;k++){parentSel=context[k];newSelectorPath=[];afterParentJoin=[];newJoinedSelectorEmpty=true;if(sel.length>0){newSelectorPath=sel.slice(0);lastSelector=newSelectorPath.pop();newJoinedSelector=selector.createDerived(lastSelector.elements.slice(0));newJoinedSelectorEmpty=false;}else{newJoinedSelector=selector.createDerived([]);}if(parentSel.length>1){afterParentJoin=afterParentJoin.concat(parentSel.slice(1));}if(parentSel.length>0){newJoinedSelectorEmpty=false;newJoinedSelector.elements.push(new (tree.Element)(el.combinator,parentSel[0].elements[0].value,el.index,el.currentFileInfo));newJoinedSelector.elements=newJoinedSelector.elements.concat(parentSel[0].elements.slice(1));}if(!newJoinedSelectorEmpty){newSelectorPath.push(newJoinedSelector);}newSelectorPath=newSelectorPath.concat(afterParentJoin);selectorsMultiplied.push(newSelectorPath);}}}newSelectors=selectorsMultiplied;currentElements=[];}}if(currentElements.length>0){this.mergeElementsOnToSelectors(currentElements,newSelectors);}for(i=0;i<newSelectors.length;i++){if(newSelectors[i].length>0){paths.push(newSelectors[i]);}}},mergeElementsOnToSelectors:function(elements,selectors){var i,sel;if(selectors.length===0){selectors.push([new (tree.Selector)(elements)]);return;}for(i=0;i<selectors.length;i++){sel=selectors[i];if(sel.length>0){sel[sel.length-1]=sel[sel.length-1].createDerived(sel[sel.length-1].elements.concat(elements));}else{sel.push(new (tree.Selector)(elements));}}}};})(require("../tree"));(function(tree){tree.Selector=function(elements,extendList,condition,index,currentFileInfo,isReferenced){this.elements=elements;this.extendList=extendList||[];this.condition=condition;this.currentFileInfo=currentFileInfo||{};this.isReferenced=isReferenced;if(!condition){this.evaldCondition=true;}};tree.Selector.prototype={type:"Selector",accept:function(visitor){this.elements=visitor.visit(this.elements);this.extendList=visitor.visit(this.extendList);this.condition=visitor.visit(this.condition);},createDerived:function(elements,extendList,evaldCondition){evaldCondition=evaldCondition!=null?evaldCondition:this.evaldCondition;var newSelector=new (tree.Selector)(elements,extendList||this.extendList,this.condition,this.index,this.currentFileInfo,this.isReferenced);newSelector.evaldCondition=evaldCondition;return newSelector;},match:function(other){var elements=this.elements,len=elements.length,oelements,olen,max,i;oelements=other.elements.slice((other.elements.length&&other.elements[0].value==="&")?1:0);olen=oelements.length;max=Math.min(len,olen);if(olen===0||len<olen){return 0;}else{for(i=0;i<max;i++){if(elements[i].value!==oelements[i].value){return 0;}}}return max;},eval:function(env){var evaldCondition=this.condition&&this.condition.eval(env);return this.createDerived(this.elements.map(function(e){return e.eval(env);}),this.extendList.map(function(extend){return extend.eval(env);}),evaldCondition);},genCSS:function(env,output){var i,element;if((!env||!env.firstSelector)&&this.elements[0].combinator.value===""){output.add(" ",this.currentFileInfo,this.index);}if(!this._css){for(i=0;i<this.elements.length;i++){element=this.elements[i];element.genCSS(env,output);}}},toCSS:tree.toCSS,markReferenced:function(){this.isReferenced=true;},getIsReferenced:function(){return !this.currentFileInfo.reference||this.isReferenced;},getIsOutput:function(){return this.evaldCondition;}};})(require("../tree"));(function(tree){tree.UnicodeDescriptor=function(value){this.value=value;};tree.UnicodeDescriptor.prototype={type:"UnicodeDescriptor",genCSS:function(env,output){output.add(this.value);},toCSS:tree.toCSS,eval:function(){return this;}};})(require("../tree"));(function(tree){tree.URL=function(val,currentFileInfo){this.value=val;this.currentFileInfo=currentFileInfo;};tree.URL.prototype={type:"Url",accept:function(visitor){this.value=visitor.visit(this.value);},genCSS:function(env,output){output.add("url(");this.value.genCSS(env,output);output.add(")");},toCSS:tree.toCSS,eval:function(ctx){var val=this.value.eval(ctx),rootpath;rootpath=this.currentFileInfo&&this.currentFileInfo.rootpath;if(rootpath&&typeof val.value==="string"&&ctx.isPathRelative(val.value)){if(!val.quote){rootpath=rootpath.replace(/[\(\)'"\s]/g,function(match){return"\\"+match;});}val.value=rootpath+val.value;}val.value=ctx.normalizePath(val.value);return new (tree.URL)(val,null);}};})(require("../tree"));(function(tree){tree.Value=function(value){this.value=value;};tree.Value.prototype={type:"Value",accept:function(visitor){this.value=visitor.visit(this.value);},eval:function(env){if(this.value.length===1){return this.value[0].eval(env);}else{return new (tree.Value)(this.value.map(function(v){return v.eval(env);}));}},genCSS:function(env,output){var i;for(i=0;i<this.value.length;i++){this.value[i].genCSS(env,output);if(i+1<this.value.length){output.add((env&&env.compress)?",":", ");}}},toCSS:tree.toCSS};})(require("../tree"));(function(tree){tree.Variable=function(name,index,currentFileInfo){this.name=name;this.index=index;this.currentFileInfo=currentFileInfo;};tree.Variable.prototype={type:"Variable",eval:function(env){var variable,v,name=this.name;if(name.indexOf("@@")===0){name="@"+new (tree.Variable)(name.slice(1)).eval(env).value;}if(this.evaluating){throw {type:"Name",message:"Recursive variable definition for "+name,filename:this.currentFileInfo.file,index:this.index};}this.evaluating=true;if(variable=tree.find(env.frames,function(frame){if(v=frame.variable(name)){return v.value.eval(env);}})){this.evaluating=false;return variable;}else{throw {type:"Name",message:"variable "+name+" is undefined",filename:this.currentFileInfo.filename,index:this.index};}}};})(require("../tree"));(function(d){var c=["paths","optimization","files","contents","relativeUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","processImports","syncImport","javascriptEnabled","mime","useFileCache","currentFileInfo"];d.parseEnv=function(g){a(g,this,c);if(!this.contents){this.contents={};}if(!this.files){this.files={};}if(!this.currentFileInfo){var f=(g&&g.filename)||"input";var e=f.replace(/[^\/\\]*$/,"");if(g){g.filename=null;}this.currentFileInfo={filename:f,relativeUrls:this.relativeUrls,rootpath:(g&&g.rootpath)||"",currentDirectory:e,entryPath:e,rootFilename:f};}};var b=["silent","verbose","compress","yuicompress","ieCompat","strictMath","strictUnits","cleancss","sourceMap","importMultiple"];d.evalEnv=function(f,e){a(f,this,b);this.frames=e||[];};d.evalEnv.prototype.inParenthesis=function(){if(!this.parensStack){this.parensStack=[];}this.parensStack.push(true);};d.evalEnv.prototype.outOfParenthesis=function(){this.parensStack.pop();};d.evalEnv.prototype.isMathOn=function(){return this.strictMath?(this.parensStack&&this.parensStack.length):true;};d.evalEnv.prototype.isPathRelative=function(e){return !/^(?:[a-z-]+:|\/)/.test(e);};d.evalEnv.prototype.normalizePath=function(e){var g=e.split("/").reverse(),f;e=[];while(g.length!==0){f=g.pop();switch(f){case".":break;case"..":if((e.length===0)||(e[e.length-1]==="..")){e.push(f);}else{e.pop();}break;default:e.push(f);break;}}return e.join("/");};var a=function(g,e,h){if(!g){return;}for(var f=0;f<h.length;f++){if(g.hasOwnProperty(h[f])){e[h[f]]=g[h[f]];}}};})(require("./tree"));(function(a){a.visitor=function(b){this._implementation=b;};a.visitor.prototype={visit:function(e){if(e instanceof Array){return this.visitArray(e);}if(!e||!e.type){return e;}var c="visit"+e.type,b=this._implementation[c],f,d;if(b){f={visitDeeper:true};d=b.call(this._implementation,e,f);if(this._implementation.isReplacing){e=d;}}if((!f||f.visitDeeper)&&e&&e.accept){e.accept(this);}c=c+"Out";if(this._implementation[c]){this._implementation[c](e);}return e;},visitArray:function(e){var c,d=[];for(c=0;c<e.length;c++){var b=this.visit(e[c]);if(b instanceof Array){b=this.flatten(b);d=d.concat(b);}else{d.push(b);}}if(this._implementation.isReplacing){return d;}return e;},doAccept:function(b){b.accept(this);},flatten:function(b,c){return b.reduce(this.flattenReduce.bind(this),c||[]);},flattenReduce:function(c,b){if(b instanceof Array){c=this.flatten(b,c);}else{c.push(b);}return c;}};})(require("./tree"));(function(a){a.importVisitor=function(d,c,b){this._visitor=new a.visitor(this);this._importer=d;this._finish=c;this.env=b||new a.evalEnv();this.importCount=0;};a.importVisitor.prototype={isReplacing:true,run:function(d){var c;try{this._visitor.visit(d);}catch(b){c=b;}this.isFinished=true;if(this.importCount===0){this._finish(c);}},visitImport:function(f,j){var g=this,d,h=f.options.inline;if(!f.css||h){try{d=f.evalForImport(this.env);}catch(b){if(!b.filename){b.index=f.index;b.filename=f.currentFileInfo.filename;}f.css=true;f.error=b;}if(d&&(!d.css||h)){f=d;this.importCount++;var c=new a.evalEnv(this.env,this.env.frames.slice(0));if(f.options.multiple){c.importMultiple=true;}this._importer.push(f.getPath(),f.currentFileInfo,f.options,function(k,n,m,l){if(k&&!k.filename){k.index=f.index;k.filename=f.currentFileInfo.filename;}if(m&&!c.importMultiple){f.skip=m;}var o=function(p){g.importCount--;if(g.importCount===0&&g.isFinished){g._finish(p);}};if(n){f.root=n;f.importedFilename=l;if(!h&&!f.skip){new (a.importVisitor)(g._importer,o,c).run(n);return;}}o();});}}j.visitDeeper=false;return f;},visitRule:function(b,c){c.visitDeeper=false;return b;},visitDirective:function(b,c){this.env.frames.unshift(b);return b;},visitDirectiveOut:function(b){this.env.frames.shift();},visitMixinDefinition:function(b,c){this.env.frames.unshift(b);return b;},visitMixinDefinitionOut:function(b){this.env.frames.shift();},visitRuleset:function(b,c){this.env.frames.unshift(b);return b;},visitRulesetOut:function(b){this.env.frames.shift();},visitMedia:function(b,c){this.env.frames.unshift(b.ruleset);return b;},visitMediaOut:function(b){this.env.frames.shift();}};})(require("./tree"));(function(a){a.joinSelectorVisitor=function(){this.contexts=[[]];this._visitor=new a.visitor(this);};a.joinSelectorVisitor.prototype={run:function(b){return this._visitor.visit(b);},visitRule:function(b,c){c.visitDeeper=false;},visitMixinDefinition:function(b,c){c.visitDeeper=false;},visitRuleset:function(d,e){var b=this.contexts[this.contexts.length-1];var c=[];this.contexts.push(c);if(!d.root){d.selectors=d.selectors.filter(function(f){return f.getIsOutput();});if(d.selectors.length===0){d.rules.length=0;}d.joinSelectors(c,b,d.selectors);d.paths=c;}},visitRulesetOut:function(b){this.contexts.length=this.contexts.length-1;},visitMedia:function(c,d){var b=this.contexts[this.contexts.length-1];c.rules[0].root=(b.length===0||b[0].multiMedia);}};})(require("./tree"));(function(a){a.toCSSVisitor=function(b){this._visitor=new a.visitor(this);this._env=b;};a.toCSSVisitor.prototype={isReplacing:true,run:function(b){return this._visitor.visit(b);},visitRule:function(b,c){if(b.variable){return[];}return b;},visitMixinDefinition:function(b,c){return[];},visitExtend:function(b,c){return[];},visitComment:function(b,c){if(b.isSilent(this._env)){return[];}return b;},visitMedia:function(b,c){b.accept(this._visitor);c.visitDeeper=false;if(!b.rules.length){return[];}return b;},visitDirective:function(c,d){if(c.currentFileInfo.reference&&!c.isReferenced){return[];}if(c.name==="@charset"){if(this.charset){if(c.debugInfo){var b=new a.Comment("/* "+c.toCSS(this._env).replace(/\n/g,"")+" */\n");b.debugInfo=c.debugInfo;return this._visitor.visit(b);}return[];}this.charset=true;}return c;},checkPropertiesInRoot:function(d){var c;for(var b=0;b<d.length;b++){c=d[b];if(c instanceof a.Rule&&!c.variable){throw {message:"properties must be inside selector blocks, they cannot be in the root.",index:c.index,filename:c.currentFileInfo?c.currentFileInfo.filename:null};}}},visitRuleset:function(d,f){var c,e=[];if(d.firstRoot){this.checkPropertiesInRoot(d.rules);}if(!d.root){d.paths=d.paths.filter(function(h){var g;if(h[0].elements[0].combinator.value===" "){h[0].elements[0].combinator=new (a.Combinator)("");}for(g=0;g<h.length;g++){if(h[g].getIsReferenced()&&h[g].getIsOutput()){return true;}}return false;});for(var b=0;b<d.rules.length;b++){c=d.rules[b];if(c.rules){e.push(this._visitor.visit(c));d.rules.splice(b,1);b--;continue;}}if(d.rules.length>0){d.accept(this._visitor);}f.visitDeeper=false;this._mergeRules(d.rules);this._removeDuplicateRules(d.rules);if(d.rules.length>0&&d.paths.length>0){e.splice(0,0,d);}}else{d.accept(this._visitor);f.visitDeeper=false;if(d.firstRoot||d.rules.length>0){e.splice(0,0,d);}}if(e.length===1){return e[0];}return e;},_removeDuplicateRules:function(g){var d={},f,c,b;for(b=g.length-1;b>=0;b--){c=g[b];if(c instanceof a.Rule){if(!d[c.name]){d[c.name]=c;}else{f=d[c.name];if(f instanceof a.Rule){f=d[c.name]=[d[c.name].toCSS(this._env)];}var e=c.toCSS(this._env);if(f.indexOf(e)!==-1){g.splice(b,1);}else{f.push(e);}}}}},_mergeRules:function(g){var b={},e,f,d;for(var c=0;c<g.length;c++){f=g[c];if((f instanceof a.Rule)&&f.merge){d=[f.name,f.important?"!":""].join(",");if(!b[d]){e=b[d]=[];}else{g.splice(c--,1);}e.push(f);}}Object.keys(b).map(function(h){e=b[h];if(e.length>1){f=e[0];f.value=new (a.Value)(e.map(function(j){return j.value;}));}});}};})(require("./tree"));(function(a){a.extendFinderVisitor=function(){this._visitor=new a.visitor(this);this.contexts=[];this.allExtendsStack=[[]];};a.extendFinderVisitor.prototype={run:function(b){b=this._visitor.visit(b);b.allExtends=this.allExtendsStack[0];return b;},visitRule:function(b,c){c.visitDeeper=false;},visitMixinDefinition:function(b,c){c.visitDeeper=false;},visitRuleset:function(g,l){if(g.root){return;}var e,f,c,b=[],d;for(e=0;e<g.rules.length;e++){if(g.rules[e] instanceof a.Extend){b.push(g.rules[e]);g.extendOnEveryPath=true;}}for(e=0;e<g.paths.length;e++){var k=g.paths[e],h=k[k.length-1];d=h.extendList.slice(0).concat(b).map(function(j){return j.clone();});for(f=0;f<d.length;f++){this.foundExtends=true;c=d[f];c.findSelfSelectors(k);c.ruleset=g;if(f===0){c.firstExtendOnThisSelectorPath=true;}this.allExtendsStack[this.allExtendsStack.length-1].push(c);}}this.contexts.push(g.selectors);},visitRulesetOut:function(b){if(!b.root){this.contexts.length=this.contexts.length-1;}},visitMedia:function(b,c){b.allExtends=[];this.allExtendsStack.push(b.allExtends);},visitMediaOut:function(b){this.allExtendsStack.length=this.allExtendsStack.length-1;},visitDirective:function(b,c){b.allExtends=[];this.allExtendsStack.push(b.allExtends);},visitDirectiveOut:function(b){this.allExtendsStack.length=this.allExtendsStack.length-1;}};a.processExtendsVisitor=function(){this._visitor=new a.visitor(this);};a.processExtendsVisitor.prototype={run:function(c){var b=new a.extendFinderVisitor();b.run(c);if(!b.foundExtends){return c;}c.allExtends=c.allExtends.concat(this.doExtendChaining(c.allExtends,c.allExtends));this.allExtendsStack=[c.allExtends];return this._visitor.visit(c);},doExtendChaining:function(f,g,k){var d,s,l,h=[],n,j=this,p,c,r,m;k=k||0;for(d=0;d<f.length;d++){for(s=0;s<g.length;s++){c=f[d];r=g[s];if(this.inInheritanceChain(r,c)){continue;}p=[r.selfSelectors[0]];l=j.findMatch(c,p);if(l.length){c.selfSelectors.forEach(function(e){n=j.extendSelector(l,p,e);m=new (a.Extend)(r.selector,r.option,0);m.selfSelectors=n;n[n.length-1].extendList=[m];h.push(m);m.ruleset=r.ruleset;m.parents=[r,c];if(r.firstExtendOnThisSelectorPath){m.firstExtendOnThisSelectorPath=true;r.ruleset.paths.push(n);}});}}}if(h.length){this.extendChainCount++;if(k>100){var o="{unable to calculate}";var q="{unable to calculate}";try{o=h[0].selfSelectors[0].toCSS();q=h[0].selector.toCSS();}catch(b){}throw {message:"extend circular reference detected. One of the circular extends is currently:"+o+":extend("+q+")"};}return h.concat(j.doExtendChaining(h,g,k+1));}else{return h;}},inInheritanceChain:function(c,b){if(c===b){return true;}if(b.parents){if(this.inInheritanceChain(c,b.parents[0])){return true;}if(this.inInheritanceChain(c,b.parents[1])){return true;}}return false;},visitRule:function(b,c){c.visitDeeper=false;},visitMixinDefinition:function(b,c){c.visitDeeper=false;},visitSelector:function(b,c){c.visitDeeper=false;},visitRuleset:function(g,k){if(g.root){return;}var e,f,c,b=this.allExtendsStack[this.allExtendsStack.length-1],j=[],d=this,h;for(c=0;c<b.length;c++){for(f=0;f<g.paths.length;f++){h=g.paths[f];if(g.extendOnEveryPath||h[h.length-1].extendList.length){continue;}e=this.findMatch(b[c],h);if(e.length){b[c].selfSelectors.forEach(function(l){j.push(d.extendSelector(e,h,l));});}}}g.paths=g.paths.concat(j);},findMatch:function(b,h){var g,e,d,f,o,j,c=this,l=b.selector.elements,n=[],m,k=[];for(g=0;g<h.length;g++){e=h[g];for(d=0;d<e.elements.length;d++){f=e.elements[d];if(b.allowBefore||(g===0&&d===0)){n.push({pathIndex:g,index:d,matched:0,initialCombinator:f.combinator});}for(j=0;j<n.length;j++){m=n[j];o=f.combinator.value;if(o===""&&d===0){o=" ";}if(!c.isElementValuesEqual(l[m.matched].value,f.value)||(m.matched>0&&l[m.matched].combinator.value!==o)){m=null;}else{m.matched++;}if(m){m.finished=m.matched===l.length;if(m.finished&&(!b.allowAfter&&(d+1<e.elements.length||g+1<h.length))){m=null;}}if(m){if(m.finished){m.length=l.length;m.endPathIndex=g;m.endPathElementIndex=d+1;n.length=0;k.push(m);}}else{n.splice(j,1);j--;}}}}return k;},isElementValuesEqual:function(b,c){if(typeof b==="string"||typeof c==="string"){return b===c;}if(b instanceof a.Attribute){if(b.op!==c.op||b.key!==c.key){return false;}if(!b.value||!c.value){if(b.value||c.value){return false;}return true;}b=b.value.value||b.value;c=c.value.value||c.value;return b===c;}b=b.value;c=c.value;if(b instanceof a.Selector){if(!(c instanceof a.Selector)||b.elements.length!==c.elements.length){return false;}for(var d=0;d<b.elements.length;d++){if(b.elements[d].combinator.value!==c.elements[d].combinator.value){if(d!==0||(b.elements[d].combinator.value||" ")!==(c.elements[d].combinator.value||" ")){return false;}}if(!this.isElementValuesEqual(b.elements[d].value,c.elements[d].value)){return false;}}return true;}return false;},extendSelector:function(f,m,k){var c=0,b=0,j=[],g,l,d,e,h;for(g=0;g<f.length;g++){e=f[g];l=m[e.pathIndex];d=new a.Element(e.initialCombinator,k.elements[0].value,k.elements[0].index,k.elements[0].currentFileInfo);if(e.pathIndex>c&&b>0){j[j.length-1].elements=j[j.length-1].elements.concat(m[c].elements.slice(b));b=0;c++;}h=l.elements.slice(b,e.index).concat([d]).concat(k.elements.slice(1));if(c===e.pathIndex&&g>0){j[j.length-1].elements=j[j.length-1].elements.concat(h);}else{j=j.concat(m.slice(c,e.pathIndex));j.push(new a.Selector(h));}c=e.endPathIndex;b=e.endPathElementIndex;if(b>=m[c].elements.length){b=0;c++;}}if(c<m.length&&b>0){j[j.length-1].elements=j[j.length-1].elements.concat(m[c].elements.slice(b));c++;}j=j.concat(m.slice(c,m.length));return j;},visitRulesetOut:function(b){},visitMedia:function(b,d){var c=b.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);c=c.concat(this.doExtendChaining(c,b.allExtends));this.allExtendsStack.push(c);},visitMediaOut:function(b){this.allExtendsStack.length=this.allExtendsStack.length-1;},visitDirective:function(b,d){var c=b.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);c=c.concat(this.doExtendChaining(c,b.allExtends));this.allExtendsStack.push(c);},visitDirectiveOut:function(b){this.allExtendsStack.length=this.allExtendsStack.length-1;}};})(require("./tree"));(function(a){a.sourceMapOutput=function(b){this._css=[];this._rootNode=b.rootNode;this._writeSourceMap=b.writeSourceMap;this._contentsMap=b.contentsMap;this._sourceMapFilename=b.sourceMapFilename;this._outputFilename=b.outputFilename;this._sourceMapURL=b.sourceMapURL;this._sourceMapBasepath=b.sourceMapBasepath;this._sourceMapRootpath=b.sourceMapRootpath;this._outputSourceFiles=b.outputSourceFiles;this._sourceMapGeneratorConstructor=b.sourceMapGenerator||require("source-map").SourceMapGenerator;if(this._sourceMapRootpath&&this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)!=="/"){this._sourceMapRootpath+="/";}this._lineNumber=0;this._column=0;};a.sourceMapOutput.prototype.normalizeFilename=function(b){if(this._sourceMapBasepath&&b.indexOf(this._sourceMapBasepath)===0){b=b.substring(this._sourceMapBasepath.length);if(b.charAt(0)==="\\"||b.charAt(0)==="/"){b=b.substring(1);}}return(this._sourceMapRootpath||"")+b.replace(/\\/g,"/");};a.sourceMapOutput.prototype.add=function(b,d,f,j){if(!b){return;}var h,l,c,k,e;if(d){var g=this._contentsMap[d.filename].substring(0,f);l=g.split("\n");k=l[l.length-1];}h=b.split("\n");c=h[h.length-1];if(d){if(!j){this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:l.length,column:k.length},source:this.normalizeFilename(d.filename)});}else{for(e=0;e<h.length;e++){this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+e+1,column:e===0?this._column:0},original:{line:l.length+e,column:e===0?k.length:0},source:this.normalizeFilename(d.filename)});}}}if(h.length===1){this._column+=c.length;}else{this._lineNumber+=h.length-1;this._column=c.length;}this._css.push(b);};a.sourceMapOutput.prototype.isEmpty=function(){return this._css.length===0;};a.sourceMapOutput.prototype.toCSS=function(b){this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null});if(this._outputSourceFiles){for(var c in this._contentsMap){this._sourceMapGenerator.setSourceContent(this.normalizeFilename(c),this._contentsMap[c]);}}this._rootNode.genCSS(b,this);if(this._css.length>0){var e,d=JSON.stringify(this._sourceMapGenerator.toJSON());if(this._sourceMapURL){e=this._sourceMapURL;}else{if(this._sourceMapFilename){e=this.normalizeFilename(this._sourceMapFilename);}}if(this._writeSourceMap){this._writeSourceMap(d);}else{e="data:application/json,"+encodeURIComponent(d);}if(e){this._css.push("/*# sourceMappingURL="+e+" */");}}return this._css.join("");};})(require("./tree"));if(typeof initRhinoTest==="function"){initRhinoTest();}function formatError(a,f){f=f||{};var e="";var d=a.extract;var b=[];var g=function(h){return h;};if(a.stack&&!a.type){return g(a.stack,"red");}if(!a.hasOwnProperty("index")||!d){return a.stack||a.message;}if(typeof(d[0])==="string"){b.push(g((a.line-1)+" "+d[0],"grey"));}if(typeof(d[1])==="string"){var c=a.line+" ";if(d[1]){c+=d[1].slice(0,a.column)+g(g(g(d[1][a.column],"bold")+d[1].slice(a.column+1),"red"),"inverse");}b.push(c);}if(typeof(d[2])==="string"){b.push(g((a.line+1)+" "+d[2],"grey"));}b=b.join("\n")+g("","reset")+"\n";e+=g(a.type+"Error: "+a.message,"red");a.filename&&(e+=g(" in ","red")+a.filename+g(" on line "+a.line+", column "+(a.column+1)+":","grey"));e+="\n"+b;if(a.callLine){e+=g("from ","red")+(a.filename||"")+"/n";e+=g(a.callLine,"grey")+" "+a.callExtract+"/n";}return e;}function writeError(a,b){b=b||{};if(b.silent){return;}print(formatError(a,b));}function loadStyleSheet(h,a,f,g){var c=Math.max(name.lastIndexOf("/"),name.lastIndexOf("\\")),j=name.slice(0,c+1)+h.href,b=h.contents||{},d=readFile(j);d=d.replace(/^\xEF\xBB\xBF/,"");b[j]=d;var e=new less.Parser({paths:[h.href.replace(/[\w\.-]+$/,"")],contents:b});e.parse(d,function(k,l){if(k){return writeError(k);}try{a(k,l,d,h,{local:false,lastModified:0,remaining:g},j);}catch(k){writeError(k);}});}less.Parser.fileLoader=function(g,b,a,f){var h=g;if(b&&b.currentDirectory&&!/^\//.test(g)){h=less.modules.path.join(b.currentDirectory,g);}var m=less.modules.path.dirname(h);var l={currentDirectory:m+"/",filename:h};if(b){l.entryPath=b.entryPath;l.rootpath=b.rootpath;l.rootFilename=b.rootFilename;l.relativeUrls=b.relativeUrls;}else{l.entryPath=m;l.rootpath=less.rootpath||m;l.rootFilename=h;l.relativeUrls=f.relativeUrls;}var k=g.lastIndexOf("/");if(l.relativeUrls&&!/^(?:[a-z-]+:|\/)/.test(g)&&k!=-1){var n=g.slice(0,k+1);l.rootpath=l.rootpath+n;}l.currentDirectory=m;l.filename=h;var c=null;try{c=readFile(h);}catch(d){a({type:"File",message:"'"+less.modules.path.basename(h)+"' wasn't found"});return;}try{a(null,c,h,l,{lastModified:0});}catch(d){a(d,null,h);}};function writeFile(b,a){var c=new java.io.FileWriter(b);var d=new java.io.BufferedWriter(c);d.write(a);d.close();}(function(a){var k={depends:false,compress:false,cleancss:false,max_line_len:-1,optimization:1,silent:false,verbose:false,lint:false,paths:[],color:true,strictImports:false,rootpath:"",relativeUrls:false,ieCompat:true,strictMath:false,strictUnits:false};var d=true,f;var b=function(e,q){if(!q){print(e+" option requires a parameter");d=false;return false;}return true;};var c=function(e){var q=/^((on|t|true|y|yes)|(off|f|false|n|no))$/i.exec(e);if(!q){print(" unable to parse "+e+" as a boolean. use one of on/t/true/y/yes/off/f/false/n/no");d=false;return false;}return Boolean(q[2]);};var p="";a=a.filter(function(e){var q;if(q=e.match(/^-I(.+)$/)){k.paths.push(q[1]);return false;}if(q=e.match(/^--?([a-z][0-9a-z-]*)(?:=(.*))?$/i)){e=q[1];}else{return e;}switch(e){case"v":case"version":console.log("lessc "+less.version.join(".")+" (LESS Compiler) [JavaScript]");d=false;break;case"verbose":k.verbose=true;break;case"s":case"silent":k.silent=true;break;case"l":case"lint":k.lint=true;break;case"strict-imports":k.strictImports=true;break;case"h":case"help":d=false;break;case"x":case"compress":k.compress=true;break;case"M":case"depends":k.depends=true;break;case"yui-compress":p+="yui-compress option has been removed. assuming clean-css.";k.cleancss=true;break;case"clean-css":k.cleancss=true;break;case"max-line-len":if(b(e,q[2])){k.maxLineLen=parseInt(q[2],10);if(k.maxLineLen<=0){k.maxLineLen=-1;}}break;case"no-color":k.color=false;break;case"no-ie-compat":k.ieCompat=false;break;case"no-js":k.javascriptEnabled=false;break;case"include-path":if(b(e,q[2])){k.paths=q[2].split(os.type().match(/Windows/)?";":":").map(function(r){if(r){return r;}});}break;case"O0":k.optimization=0;break;case"O1":k.optimization=1;break;case"O2":k.optimization=2;break;case"line-numbers":if(b(e,q[2])){k.dumpLineNumbers=q[2];}break;case"source-map":if(!q[2]){k.sourceMap=true;}else{k.sourceMap=q[2];}break;case"source-map-rootpath":if(b(e,q[2])){k.sourceMapRootpath=q[2];}break;case"source-map-inline":k.outputSourceFiles=true;break;case"rp":case"rootpath":if(b(e,q[2])){k.rootpath=q[2].replace(/\\/g,"/");}break;case"ru":case"relative-urls":k.relativeUrls=true;break;case"sm":case"strict-math":if(b(e,q[2])){k.strictMath=c(q[2]);}break;case"su":case"strict-units":if(b(e,q[2])){k.strictUnits=c(q[2]);}break;default:console.log("invalid option "+e);d=false;}});if(!d){return;}var j=a[0];if(j&&j!="-"){}var l=a[1];var m=a[1];if(l){k.sourceMapOutputFilename=l;if(p){console.log(p);}}k.sourceMapBasepath="";if(k.sourceMap===true){if(!l){console.log("the sourcemap option only has an optional filename if the css filename is given");return;}k.sourceMapFullFilename=k.sourceMapOutputFilename+".map";k.sourceMap=less.modules.path.basename(k.sourceMapFullFilename);}if(!j){console.log("lessc: no inout files");console.log("");f=1;return;}if(k.depends){if(!m){console.log("option --depends requires an output path to be specified");return;}console.log(m+": ");}if(!j){console.log("No files present in the fileset");quit(1);}var h=readFile(j,"utf-8");if(!h){console.log("lesscss: couldn't open file "+j);quit(1);}k.filename=j;var o;try{var n=new less.Parser(k);n.parse(h,function(q,r){if(q){writeError(q,k);quit(1);}else{o=r.toCSS(k);if(l){writeFile(l,o);console.log("Written to "+l);}else{print(o);}quit(0);}});}catch(g){writeError(g,k);quit(1);}console.log("done");}(arguments));