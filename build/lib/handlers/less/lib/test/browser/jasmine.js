/*csd*/var isCommonJS=typeof window=="undefined"&&typeof exports=="object";var jasmine={};if(isCommonJS){exports.jasmine=jasmine;}jasmine.unimplementedMethod_=function(){throw new Error("unimplemented method");};jasmine.undefined=jasmine.___undefined___;jasmine.VERBOSE=false;jasmine.DEFAULT_UPDATE_INTERVAL=250;jasmine.MAX_PRETTY_PRINT_DEPTH=40;jasmine.DEFAULT_TIMEOUT_INTERVAL=5000;jasmine.CATCH_EXCEPTIONS=true;jasmine.getGlobal=function(){function a(){return this;}return a();};jasmine.bindOriginal_=function(a,b){var c=a[b];if(c.apply){return function(){return c.apply(a,arguments);};}else{return jasmine.getGlobal()[b];}};jasmine.setTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"setTimeout");jasmine.clearTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"clearTimeout");jasmine.setInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"setInterval");jasmine.clearInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"clearInterval");jasmine.MessageResult=function(a){this.type="log";this.values=a;this.trace=new Error();};jasmine.MessageResult.prototype.toString=function(){var b="";for(var a=0;a<this.values.length;a++){if(a>0){b+=" ";}if(jasmine.isString_(this.values[a])){b+=this.values[a];}else{b+=jasmine.pp(this.values[a]);}}return b;};jasmine.ExpectationResult=function(a){this.type="expect";this.matcherName=a.matcherName;this.passed_=a.passed;this.expected=a.expected;this.actual=a.actual;this.message=this.passed_?"Passed.":a.message;var b=(a.trace||new Error(this.message));this.trace=this.passed_?"":b;};jasmine.ExpectationResult.prototype.toString=function(){return this.message;};jasmine.ExpectationResult.prototype.passed=function(){return this.passed_;};jasmine.getEnv=function(){var a=jasmine.currentEnv_=jasmine.currentEnv_||new jasmine.Env();return a;};jasmine.isArray_=function(a){return jasmine.isA_("Array",a);};jasmine.isString_=function(a){return jasmine.isA_("String",a);};jasmine.isNumber_=function(a){return jasmine.isA_("Number",a);};jasmine.isA_=function(a,b){return Object.prototype.toString.apply(b)==="[object "+a+"]";};jasmine.pp=function(b){var a=new jasmine.StringPrettyPrinter();a.format(b);return a.string;};jasmine.isDomNode=function(a){return a.nodeType>0;};jasmine.any=function(a){return new jasmine.Matchers.Any(a);};jasmine.objectContaining=function(a){return new jasmine.Matchers.ObjectContaining(a);};jasmine.Spy=function(a){this.identity=a||"unknown";this.isSpy=true;this.plan=function(){};this.mostRecentCall={};this.argsForCall=[];this.calls=[];};jasmine.Spy.prototype.andCallThrough=function(){this.plan=this.originalValue;return this;};jasmine.Spy.prototype.andReturn=function(a){this.plan=function(){return a;};return this;};jasmine.Spy.prototype.andThrow=function(a){this.plan=function(){throw a;};return this;};jasmine.Spy.prototype.andCallFake=function(a){this.plan=a;return this;};jasmine.Spy.prototype.reset=function(){this.wasCalled=false;this.callCount=0;this.argsForCall=[];this.calls=[];this.mostRecentCall={};};jasmine.createSpy=function(a){var d=function(){d.wasCalled=true;d.callCount++;var e=jasmine.util.argsToArray(arguments);d.mostRecentCall.object=this;d.mostRecentCall.args=e;d.argsForCall.push(e);d.calls.push({object:this,args:e});return d.plan.apply(this,arguments);};var c=new jasmine.Spy(a);for(var b in c){d[b]=c[b];}d.reset();return d;};jasmine.isSpy=function(a){return a&&a.isSpy;};jasmine.createSpyObj=function(a,c){if(!jasmine.isArray_(c)||c.length===0){throw new Error("createSpyObj requires a non-empty array of method names to create spies for");}var d={};for(var b=0;b<c.length;b++){d[c[b]]=jasmine.createSpy(a+"."+c[b]);}return d;};jasmine.log=function(){var a=jasmine.getEnv().currentSpec;a.log.apply(a,arguments);};var spyOn=function(b,a){return jasmine.getEnv().currentSpec.spyOn(b,a);};if(isCommonJS){exports.spyOn=spyOn;}var it=function(a,b){return jasmine.getEnv().it(a,b);};if(isCommonJS){exports.it=it;}var xit=function(a,b){return jasmine.getEnv().xit(a,b);};if(isCommonJS){exports.xit=xit;}var expect=function(a){return jasmine.getEnv().currentSpec.expect(a);};if(isCommonJS){exports.expect=expect;}var runs=function(a){jasmine.getEnv().currentSpec.runs(a);};if(isCommonJS){exports.runs=runs;}var waits=function(a){jasmine.getEnv().currentSpec.waits(a);};if(isCommonJS){exports.waits=waits;}var waitsFor=function(a,c,b){jasmine.getEnv().currentSpec.waitsFor.apply(jasmine.getEnv().currentSpec,arguments);};if(isCommonJS){exports.waitsFor=waitsFor;}var beforeEach=function(a){jasmine.getEnv().beforeEach(a);};if(isCommonJS){exports.beforeEach=beforeEach;}var afterEach=function(a){jasmine.getEnv().afterEach(a);};if(isCommonJS){exports.afterEach=afterEach;}var describe=function(a,b){return jasmine.getEnv().describe(a,b);};if(isCommonJS){exports.describe=describe;}var xdescribe=function(a,b){return jasmine.getEnv().xdescribe(a,b);};if(isCommonJS){exports.xdescribe=xdescribe;}jasmine.XmlHttpRequest=(typeof XMLHttpRequest=="undefined")?function(){function a(d){try{return d();}catch(c){}return null;}var b=a(function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0");})||a(function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0");})||a(function(){return new ActiveXObject("Msxml2.XMLHTTP");})||a(function(){return new ActiveXObject("Microsoft.XMLHTTP");});if(!b){throw new Error("This browser does not support XMLHttpRequest.");}return b;}:XMLHttpRequest;jasmine.util={};jasmine.util.inherit=function(a,b){var c=function(){};c.prototype=b.prototype;a.prototype=new c();};jasmine.util.formatException=function(a){var c;if(a.line){c=a.line;}else{if(a.lineNumber){c=a.lineNumber;}}var b;if(a.sourceURL){b=a.sourceURL;}else{if(a.fileName){b=a.fileName;}}var d=(a.name&&a.message)?(a.name+": "+a.message):a.toString();if(b&&c){d+=" in "+b+" (line "+c+")";}return d;};jasmine.util.htmlEscape=function(a){if(!a){return a;}return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");};jasmine.util.argsToArray=function(a){var b=[];for(var c=0;c<a.length;c++){b.push(a[c]);}return b;};jasmine.util.extend=function(a,c){for(var b in c){a[b]=c[b];}return a;};jasmine.Env=function(){this.currentSpec=null;this.currentSuite=null;this.currentRunner_=new jasmine.Runner(this);this.reporter=new jasmine.MultiReporter();this.updateInterval=jasmine.DEFAULT_UPDATE_INTERVAL;this.defaultTimeoutInterval=jasmine.DEFAULT_TIMEOUT_INTERVAL;this.lastUpdate=0;this.specFilter=function(){return true;};this.nextSpecId_=0;this.nextSuiteId_=0;this.equalityTesters_=[];this.matchersClass=function(){jasmine.Matchers.apply(this,arguments);};jasmine.util.inherit(this.matchersClass,jasmine.Matchers);jasmine.Matchers.wrapInto_(jasmine.Matchers.prototype,this.matchersClass);};jasmine.Env.prototype.setTimeout=jasmine.setTimeout;jasmine.Env.prototype.clearTimeout=jasmine.clearTimeout;jasmine.Env.prototype.setInterval=jasmine.setInterval;jasmine.Env.prototype.clearInterval=jasmine.clearInterval;jasmine.Env.prototype.version=function(){if(jasmine.version_){return jasmine.version_;}else{throw new Error("Version not set");}};jasmine.Env.prototype.versionString=function(){if(!jasmine.version_){return"version unknown";}var a=this.version();var b=a.major+"."+a.minor+"."+a.build;if(a.release_candidate){b+=".rc"+a.release_candidate;}b+=" revision "+a.revision;return b;};jasmine.Env.prototype.nextSpecId=function(){return this.nextSpecId_++;};jasmine.Env.prototype.nextSuiteId=function(){return this.nextSuiteId_++;};jasmine.Env.prototype.addReporter=function(a){this.reporter.addReporter(a);};jasmine.Env.prototype.execute=function(){this.currentRunner_.execute();};jasmine.Env.prototype.describe=function(b,f){var g=new jasmine.Suite(this,b,f,this.currentSuite);var d=this.currentSuite;if(d){d.add(g);}else{this.currentRunner_.add(g);}this.currentSuite=g;var a=null;try{f.call(g);}catch(c){a=c;}if(a){this.it("encountered a declaration exception",function(){throw a;});}this.currentSuite=d;return g;};jasmine.Env.prototype.beforeEach=function(a){if(this.currentSuite){this.currentSuite.beforeEach(a);}else{this.currentRunner_.beforeEach(a);}};jasmine.Env.prototype.currentRunner=function(){return this.currentRunner_;};jasmine.Env.prototype.afterEach=function(a){if(this.currentSuite){this.currentSuite.afterEach(a);}else{this.currentRunner_.afterEach(a);}};jasmine.Env.prototype.xdescribe=function(a,b){return{execute:function(){}};};jasmine.Env.prototype.it=function(a,b){var c=new jasmine.Spec(this,this.currentSuite,a);this.currentSuite.add(c);this.currentSpec=c;if(b){c.runs(b);}return c;};jasmine.Env.prototype.xit=function(a,b){return{id:this.nextSpecId(),runs:function(){}};};jasmine.Env.prototype.compareRegExps_=function(c,d,e,f){if(c.source!=d.source){f.push("expected pattern /"+d.source+"/ is not equal to the pattern /"+c.source+"/");}if(c.ignoreCase!=d.ignoreCase){f.push("expected modifier i was"+(d.ignoreCase?" ":" not ")+"set and does not equal the origin modifier");}if(c.global!=d.global){f.push("expected modifier g was"+(d.global?" ":" not ")+"set and does not equal the origin modifier");}if(c.multiline!=d.multiline){f.push("expected modifier m was"+(d.multiline?" ":" not ")+"set and does not equal the origin modifier");}if(c.sticky!=d.sticky){f.push("expected modifier y was"+(d.sticky?" ":" not ")+"set and does not equal the origin modifier");}return(f.length===0);};jasmine.Env.prototype.compareObjects_=function(c,d,f,g){if(c.__Jasmine_been_here_before__===d&&d.__Jasmine_been_here_before__===c){return true;}c.__Jasmine_been_here_before__=d;d.__Jasmine_been_here_before__=c;var e=function(b,a){return b!==null&&b[a]!==jasmine.undefined;};for(var h in d){if(!e(c,h)&&e(d,h)){f.push("expected has key '"+h+"', but missing from actual.");}}for(h in c){if(!e(d,h)&&e(c,h)){f.push("expected missing key '"+h+"', but present in actual.");}}for(h in d){if(h=="__Jasmine_been_here_before__"){continue;}if(!this.equals_(c[h],d[h],f,g)){g.push("'"+h+"' was '"+(d[h]?jasmine.util.htmlEscape(d[h].toString()):d[h])+"' in expected, but was '"+(c[h]?jasmine.util.htmlEscape(c[h].toString()):c[h])+"' in actual.");}}if(jasmine.isArray_(c)&&jasmine.isArray_(d)&&c.length!=d.length){g.push("arrays were not the same length");}delete c.__Jasmine_been_here_before__;delete d.__Jasmine_been_here_before__;return(f.length===0&&g.length===0);};jasmine.Env.prototype.equals_=function(c,d,g,h){g=g||[];h=h||[];for(var f=0;f<this.equalityTesters_.length;f++){var e=this.equalityTesters_[f];var j=e(c,d,this,g,h);if(j!==jasmine.undefined){return j;}}if(c===d){return true;}if(c===jasmine.undefined||c===null||d===jasmine.undefined||d===null){return(c==jasmine.undefined&&d==jasmine.undefined);}if(jasmine.isDomNode(c)&&jasmine.isDomNode(d)){return c===d;}if(c instanceof Date&&d instanceof Date){return c.getTime()==d.getTime();}if(c.jasmineMatches){return c.jasmineMatches(d);}if(d.jasmineMatches){return d.jasmineMatches(c);}if(c instanceof jasmine.Matchers.ObjectContaining){return c.matches(d);}if(d instanceof jasmine.Matchers.ObjectContaining){return d.matches(c);}if(jasmine.isString_(c)&&jasmine.isString_(d)){return(c==d);}if(jasmine.isNumber_(c)&&jasmine.isNumber_(d)){return(c==d);}if(c instanceof RegExp&&d instanceof RegExp){return this.compareRegExps_(c,d,g,h);}if(typeof c==="object"&&typeof d==="object"){return this.compareObjects_(c,d,g,h);}return(c===d);};jasmine.Env.prototype.contains_=function(a,c){if(jasmine.isArray_(a)){for(var b=0;b<a.length;b++){if(this.equals_(a[b],c)){return true;}}return false;}return a.indexOf(c)>=0;};jasmine.Env.prototype.addEqualityTester=function(a){this.equalityTesters_.push(a);};jasmine.Reporter=function(){};jasmine.Reporter.prototype.reportRunnerStarting=function(a){};jasmine.Reporter.prototype.reportRunnerResults=function(a){};jasmine.Reporter.prototype.reportSuiteResults=function(a){};jasmine.Reporter.prototype.reportSpecStarting=function(a){};jasmine.Reporter.prototype.reportSpecResults=function(a){};jasmine.Reporter.prototype.log=function(a){};jasmine.Block=function(a,b,c){this.env=a;this.func=b;this.spec=c;};jasmine.Block.prototype.execute=function(b){if(!jasmine.CATCH_EXCEPTIONS){this.func.apply(this.spec);}else{try{this.func.apply(this.spec);}catch(a){this.spec.fail(a);}}b();};jasmine.JsApiReporter=function(){this.started=false;this.finished=false;this.suites_=[];this.results_={};};jasmine.JsApiReporter.prototype.reportRunnerStarting=function(b){this.started=true;var d=b.topLevelSuites();for(var a=0;a<d.length;a++){var c=d[a];this.suites_.push(this.summarize_(c));}};jasmine.JsApiReporter.prototype.suites=function(){return this.suites_;};jasmine.JsApiReporter.prototype.summarize_=function(d){var c=d instanceof jasmine.Suite;var e={id:d.id,name:d.description,type:c?"suite":"spec",children:[]};if(c){var a=d.children();for(var b=0;b<a.length;b++){e.children.push(this.summarize_(a[b]));}}return e;};jasmine.JsApiReporter.prototype.results=function(){return this.results_;};jasmine.JsApiReporter.prototype.resultsForSpec=function(a){return this.results_[a];};jasmine.JsApiReporter.prototype.reportRunnerResults=function(a){this.finished=true;};jasmine.JsApiReporter.prototype.reportSuiteResults=function(a){};jasmine.JsApiReporter.prototype.reportSpecResults=function(a){this.results_[a.id]={messages:a.results().getItems(),result:a.results().failedCount>0?"failed":"passed"};};jasmine.JsApiReporter.prototype.log=function(a){};jasmine.JsApiReporter.prototype.resultsForSpecs=function(d){var b={};for(var a=0;a<d.length;a++){var c=d[a];b[c]=this.summarizeResult_(this.results_[c]);}return b;};jasmine.JsApiReporter.prototype.summarizeResult_=function(c){var e=[];var b=c.messages.length;for(var a=0;a<b;a++){var d=c.messages[a];e.push({text:d.type=="log"?d.toString():jasmine.undefined,passed:d.passed?d.passed():true,type:d.type,message:d.message,trace:{stack:d.passed&&!d.passed()?d.trace.stack:jasmine.undefined}});}return{result:c.result,messages:e};};jasmine.Matchers=function(b,a,d,c){this.env=b;this.actual=a;this.spec=d;this.isNot=c||false;this.reportWasCalled_=false;};jasmine.Matchers.pp=function(a){throw new Error("jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!");};jasmine.Matchers.prototype.report=function(c,b,a){throw new Error("As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs");};jasmine.Matchers.wrapInto_=function(d,a){for(var b in d){if(b=="report"){continue;}var c=d[b];a.prototype[b]=jasmine.Matchers.matcherFn_(b,c);}};jasmine.Matchers.matcherFn_=function(b,a){return function(){var f=jasmine.util.argsToArray(arguments);var h=a.apply(this,arguments);if(this.isNot){h=!h;}if(this.reportWasCalled_){return h;}var g;if(!h){if(this.message){g=this.message.apply(this,arguments);if(jasmine.isArray_(g)){g=g[this.isNot?1:0];}}else{var c=b.replace(/[A-Z]/g,function(i){return" "+i.toLowerCase();});g="Expected "+jasmine.pp(this.actual)+(this.isNot?" not ":" ")+c;if(f.length>0){for(var e=0;e<f.length;e++){if(e>0){g+=",";}g+=" "+jasmine.pp(f[e]);}}g+=".";}}var d=new jasmine.ExpectationResult({matcherName:b,passed:h,expected:f.length>1?f:f[0],actual:this.actual,message:g});this.spec.addMatcherResult(d);return jasmine.undefined;};};jasmine.Matchers.prototype.toBe=function(a){return this.actual===a;};jasmine.Matchers.prototype.toNotBe=function(a){return this.actual!==a;};jasmine.Matchers.prototype.toEqual=function(a){return this.env.equals_(this.actual,a);};jasmine.Matchers.prototype.toNotEqual=function(a){return !this.env.equals_(this.actual,a);};jasmine.Matchers.prototype.toMatch=function(a){return new RegExp(a).test(this.actual);};jasmine.Matchers.prototype.toNotMatch=function(a){return !(new RegExp(a).test(this.actual));};jasmine.Matchers.prototype.toBeDefined=function(){return(this.actual!==jasmine.undefined);};jasmine.Matchers.prototype.toBeUndefined=function(){return(this.actual===jasmine.undefined);};jasmine.Matchers.prototype.toBeNull=function(){return(this.actual===null);};jasmine.Matchers.prototype.toBeNaN=function(){this.message=function(){return["Expected "+jasmine.pp(this.actual)+" to be NaN."];};return(this.actual!==this.actual);};jasmine.Matchers.prototype.toBeTruthy=function(){return !!this.actual;};jasmine.Matchers.prototype.toBeFalsy=function(){return !this.actual;};jasmine.Matchers.prototype.toHaveBeenCalled=function(){if(arguments.length>0){throw new Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith");}if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");}this.message=function(){return["Expected spy "+this.actual.identity+" to have been called.","Expected spy "+this.actual.identity+" not to have been called."];};return this.actual.wasCalled;};jasmine.Matchers.prototype.wasCalled=jasmine.Matchers.prototype.toHaveBeenCalled;jasmine.Matchers.prototype.wasNotCalled=function(){if(arguments.length>0){throw new Error("wasNotCalled does not take arguments");}if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");}this.message=function(){return["Expected spy "+this.actual.identity+" to not have been called.","Expected spy "+this.actual.identity+" to have been called."];};return !this.actual.wasCalled;};jasmine.Matchers.prototype.toHaveBeenCalledWith=function(){var a=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");}this.message=function(){var b="Expected spy "+this.actual.identity+" not to have been called with "+jasmine.pp(a)+" but it was.";var c="";if(this.actual.callCount===0){c="Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(a)+" but it was never called.";}else{c="Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(a)+" but actual calls were "+jasmine.pp(this.actual.argsForCall).replace(/^\[ | \]$/g,"");}return[c,b];};return this.env.contains_(this.actual.argsForCall,a);};jasmine.Matchers.prototype.wasCalledWith=jasmine.Matchers.prototype.toHaveBeenCalledWith;jasmine.Matchers.prototype.wasNotCalledWith=function(){var a=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");}this.message=function(){return["Expected spy not to have been called with "+jasmine.pp(a)+" but it was","Expected spy to have been called with "+jasmine.pp(a)+" but it was"];};return !this.env.contains_(this.actual.argsForCall,a);};jasmine.Matchers.prototype.toContain=function(a){return this.env.contains_(this.actual,a);};jasmine.Matchers.prototype.toNotContain=function(a){return !this.env.contains_(this.actual,a);};jasmine.Matchers.prototype.toBeLessThan=function(a){return this.actual<a;};jasmine.Matchers.prototype.toBeGreaterThan=function(a){return this.actual>a;};jasmine.Matchers.prototype.toBeCloseTo=function(a,b){if(!(b===0)){b=b||2;}return Math.abs(a-this.actual)<(Math.pow(10,-b)/2);};jasmine.Matchers.prototype.toThrow=function(c){var f=false;var b;if(typeof this.actual!="function"){throw new Error("Actual is not a function");}try{this.actual();}catch(a){b=a;}if(b){f=(c===jasmine.undefined||this.env.equals_(b.message||b,c.message||c));}var d=this.isNot?"not ":"";this.message=function(){if(b&&(c===jasmine.undefined||!this.env.equals_(b.message||b,c.message||c))){return["Expected function "+d+"to throw",c?c.message||c:"an exception",", but it threw",b.message||b].join(" ");}else{return"Expected function to throw an exception.";}};return f;};jasmine.Matchers.Any=function(a){this.expectedClass=a;};jasmine.Matchers.Any.prototype.jasmineMatches=function(a){if(this.expectedClass==String){return typeof a=="string"||a instanceof String;}if(this.expectedClass==Number){return typeof a=="number"||a instanceof Number;}if(this.expectedClass==Function){return typeof a=="function"||a instanceof Function;}if(this.expectedClass==Object){return typeof a=="object";}return a instanceof this.expectedClass;};jasmine.Matchers.Any.prototype.jasmineToString=function(){return"<jasmine.any("+this.expectedClass+")>";};jasmine.Matchers.ObjectContaining=function(a){this.sample=a;};jasmine.Matchers.ObjectContaining.prototype.jasmineMatches=function(e,c,d){c=c||[];d=d||[];var a=jasmine.getEnv();var b=function(h,g){return h!=null&&h[g]!==jasmine.undefined;};for(var f in this.sample){if(!b(e,f)&&b(this.sample,f)){c.push("expected has key '"+f+"', but missing from actual.");}else{if(!a.equals_(this.sample[f],e[f],c,d)){d.push("'"+f+"' was '"+(e[f]?jasmine.util.htmlEscape(e[f].toString()):e[f])+"' in expected, but was '"+(this.sample[f]?jasmine.util.htmlEscape(this.sample[f].toString()):this.sample[f])+"' in actual.");}}}return(c.length===0&&d.length===0);};jasmine.Matchers.ObjectContaining.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+jasmine.pp(this.sample)+")>";};jasmine.FakeTimer=function(){this.reset();var a=this;a.setTimeout=function(b,c){a.timeoutsMade++;a.scheduleFunction(a.timeoutsMade,b,c,false);return a.timeoutsMade;};a.setInterval=function(b,c){a.timeoutsMade++;a.scheduleFunction(a.timeoutsMade,b,c,true);return a.timeoutsMade;};a.clearTimeout=function(b){a.scheduledFunctions[b]=jasmine.undefined;};a.clearInterval=function(b){a.scheduledFunctions[b]=jasmine.undefined;};};jasmine.FakeTimer.prototype.reset=function(){this.timeoutsMade=0;this.scheduledFunctions={};this.nowMillis=0;};jasmine.FakeTimer.prototype.tick=function(a){var c=this.nowMillis;var b=c+a;this.runFunctionsWithinRange(c,b);this.nowMillis=b;};jasmine.FakeTimer.prototype.runFunctionsWithinRange=function(g,f){var h;var b=[];for(var j in this.scheduledFunctions){h=this.scheduledFunctions[j];if(h!=jasmine.undefined&&h.runAtMillis>=g&&h.runAtMillis<=f){b.push(h);this.scheduledFunctions[j]=jasmine.undefined;}}if(b.length>0){b.sort(function(e,i){return e.runAtMillis-i.runAtMillis;});for(var d=0;d<b.length;++d){try{var c=b[d];this.nowMillis=c.runAtMillis;c.funcToCall();if(c.recurring){this.scheduleFunction(c.timeoutKey,c.funcToCall,c.millis,true);}}catch(a){}}this.runFunctionsWithinRange(g,f);}};jasmine.FakeTimer.prototype.scheduleFunction=function(d,a,b,c){this.scheduledFunctions[d]={runAtMillis:this.nowMillis+b,funcToCall:a,recurring:c,timeoutKey:d,millis:b};};jasmine.Clock={defaultFakeTimer:new jasmine.FakeTimer(),reset:function(){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.reset();},tick:function(a){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.tick(a);},runFunctionsWithinRange:function(b,a){jasmine.Clock.defaultFakeTimer.runFunctionsWithinRange(b,a);},scheduleFunction:function(d,a,b,c){jasmine.Clock.defaultFakeTimer.scheduleFunction(d,a,b,c);},useMock:function(){if(!jasmine.Clock.isInstalled()){var a=jasmine.getEnv().currentSpec;a.after(jasmine.Clock.uninstallMock);jasmine.Clock.installMock();}},installMock:function(){jasmine.Clock.installed=jasmine.Clock.defaultFakeTimer;},uninstallMock:function(){jasmine.Clock.assertInstalled();jasmine.Clock.installed=jasmine.Clock.real;},real:{setTimeout:jasmine.getGlobal().setTimeout,clearTimeout:jasmine.getGlobal().clearTimeout,setInterval:jasmine.getGlobal().setInterval,clearInterval:jasmine.getGlobal().clearInterval},assertInstalled:function(){if(!jasmine.Clock.isInstalled()){throw new Error("Mock clock is not installed, use jasmine.Clock.useMock()");}},isInstalled:function(){return jasmine.Clock.installed==jasmine.Clock.defaultFakeTimer;},installed:null};jasmine.Clock.installed=jasmine.Clock.real;jasmine.getGlobal().setTimeout=function(a,b){if(jasmine.Clock.installed.setTimeout.apply){return jasmine.Clock.installed.setTimeout.apply(this,arguments);}else{return jasmine.Clock.installed.setTimeout(a,b);}};jasmine.getGlobal().setInterval=function(a,b){if(jasmine.Clock.installed.setInterval.apply){return jasmine.Clock.installed.setInterval.apply(this,arguments);}else{return jasmine.Clock.installed.setInterval(a,b);}};jasmine.getGlobal().clearTimeout=function(a){if(jasmine.Clock.installed.clearTimeout.apply){return jasmine.Clock.installed.clearTimeout.apply(this,arguments);}else{return jasmine.Clock.installed.clearTimeout(a);}};jasmine.getGlobal().clearInterval=function(a){if(jasmine.Clock.installed.clearTimeout.apply){return jasmine.Clock.installed.clearInterval.apply(this,arguments);}else{return jasmine.Clock.installed.clearInterval(a);}};jasmine.MultiReporter=function(){this.subReporters_=[];};jasmine.util.inherit(jasmine.MultiReporter,jasmine.Reporter);jasmine.MultiReporter.prototype.addReporter=function(a){this.subReporters_.push(a);};(function(){var b=["reportRunnerStarting","reportRunnerResults","reportSuiteResults","reportSpecStarting","reportSpecResults","log"];for(var c=0;c<b.length;c++){var a=b[c];jasmine.MultiReporter.prototype[a]=(function(d){return function(){for(var e=0;e<this.subReporters_.length;e++){var f=this.subReporters_[e];if(f[d]){f[d].apply(f,arguments);}}};})(a);}})();jasmine.NestedResults=function(){this.totalCount=0;this.passedCount=0;this.failedCount=0;this.skipped=false;this.items_=[];};jasmine.NestedResults.prototype.rollupCounts=function(a){this.totalCount+=a.totalCount;this.passedCount+=a.passedCount;this.failedCount+=a.failedCount;};jasmine.NestedResults.prototype.log=function(a){this.items_.push(new jasmine.MessageResult(a));};jasmine.NestedResults.prototype.getItems=function(){return this.items_;};jasmine.NestedResults.prototype.addResult=function(a){if(a.type!="log"){if(a.items_){this.rollupCounts(a);}else{this.totalCount++;if(a.passed()){this.passedCount++;}else{this.failedCount++;}}}this.items_.push(a);};jasmine.NestedResults.prototype.passed=function(){return this.passedCount===this.totalCount;};jasmine.PrettyPrinter=function(){this.ppNestLevel_=0;};jasmine.PrettyPrinter.prototype.format=function(a){this.ppNestLevel_++;try{if(a===jasmine.undefined){this.emitScalar("undefined");}else{if(a===null){this.emitScalar("null");}else{if(a===jasmine.getGlobal()){this.emitScalar("<global>");}else{if(a.jasmineToString){this.emitScalar(a.jasmineToString());}else{if(typeof a==="string"){this.emitString(a);}else{if(jasmine.isSpy(a)){this.emitScalar("spy on "+a.identity);}else{if(a instanceof RegExp){this.emitScalar(a.toString());}else{if(typeof a==="function"){this.emitScalar("Function");}else{if(typeof a.nodeType==="number"){this.emitScalar("HTMLNode");}else{if(a instanceof Date){this.emitScalar("Date("+a+")");}else{if(a.__Jasmine_been_here_before__){this.emitScalar("<circular reference: "+(jasmine.isArray_(a)?"Array":"Object")+">");}else{if(jasmine.isArray_(a)||typeof a=="object"){a.__Jasmine_been_here_before__=true;if(jasmine.isArray_(a)){this.emitArray(a);}else{this.emitObject(a);}delete a.__Jasmine_been_here_before__;}else{this.emitScalar(a.toString());}}}}}}}}}}}}}finally{this.ppNestLevel_--;}};jasmine.PrettyPrinter.prototype.iterateObject=function(b,a){for(var c in b){if(!b.hasOwnProperty(c)){continue;}if(c=="__Jasmine_been_here_before__"){continue;}a(c,b.__lookupGetter__?(b.__lookupGetter__(c)!==jasmine.undefined&&b.__lookupGetter__(c)!==null):false);}};jasmine.PrettyPrinter.prototype.emitArray=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitObject=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitScalar=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitString=jasmine.unimplementedMethod_;jasmine.StringPrettyPrinter=function(){jasmine.PrettyPrinter.call(this);this.string="";};jasmine.util.inherit(jasmine.StringPrettyPrinter,jasmine.PrettyPrinter);jasmine.StringPrettyPrinter.prototype.emitScalar=function(a){this.append(a);};jasmine.StringPrettyPrinter.prototype.emitString=function(a){this.append("'"+a+"'");};jasmine.StringPrettyPrinter.prototype.emitArray=function(a){if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH){this.append("Array");return;}this.append("[ ");for(var b=0;b<a.length;b++){if(b>0){this.append(", ");}this.format(a[b]);}this.append(" ]");};jasmine.StringPrettyPrinter.prototype.emitObject=function(b){if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH){this.append("Object");return;}var c=this;this.append("{ ");var a=true;this.iterateObject(b,function(e,d){if(a){a=false;}else{c.append(", ");}c.append(e);c.append(" : ");if(d){c.append("<getter>");}else{c.format(b[e]);}});this.append(" }");};jasmine.StringPrettyPrinter.prototype.append=function(a){this.string+=a;};jasmine.Queue=function(a){this.env=a;this.ensured=[];this.blocks=[];this.running=false;this.index=0;this.offset=0;this.abort=false;};jasmine.Queue.prototype.addBefore=function(a,b){if(b===jasmine.undefined){b=false;}this.blocks.unshift(a);this.ensured.unshift(b);};jasmine.Queue.prototype.add=function(a,b){if(b===jasmine.undefined){b=false;}this.blocks.push(a);this.ensured.push(b);};jasmine.Queue.prototype.insertNext=function(a,b){if(b===jasmine.undefined){b=false;}this.ensured.splice((this.index+this.offset+1),0,b);this.blocks.splice((this.index+this.offset+1),0,a);this.offset++;};jasmine.Queue.prototype.start=function(a){this.running=true;this.onComplete=a;this.next_();};jasmine.Queue.prototype.isRunning=function(){return this.running;};jasmine.Queue.LOOP_DONT_RECURSE=true;jasmine.Queue.prototype.next_=function(){var e=this;var c=true;while(c){c=false;if(e.index<e.blocks.length&&!(this.abort&&!this.ensured[e.index])){var a=true;var b=false;var d=function(){if(jasmine.Queue.LOOP_DONT_RECURSE&&a){b=true;return;}if(e.blocks[e.index].abort){e.abort=true;}e.offset=0;e.index++;var f=new Date().getTime();if(e.env.updateInterval&&f-e.env.lastUpdate>e.env.updateInterval){e.env.lastUpdate=f;e.env.setTimeout(function(){e.next_();},0);}else{if(jasmine.Queue.LOOP_DONT_RECURSE&&b){c=true;}else{e.next_();}}};e.blocks[e.index].execute(d);a=false;if(b){d();}}else{e.running=false;if(e.onComplete){e.onComplete();}}}};jasmine.Queue.prototype.results=function(){var b=new jasmine.NestedResults();for(var a=0;a<this.blocks.length;a++){if(this.blocks[a].results){b.addResult(this.blocks[a].results());}}return b;};jasmine.Runner=function(a){var b=this;b.env=a;b.queue=new jasmine.Queue(a);b.before_=[];b.after_=[];b.suites_=[];};jasmine.Runner.prototype.execute=function(){var a=this;if(a.env.reporter.reportRunnerStarting){a.env.reporter.reportRunnerStarting(this);}a.queue.start(function(){a.finishCallback();});};jasmine.Runner.prototype.beforeEach=function(a){a.typeName="beforeEach";this.before_.splice(0,0,a);};jasmine.Runner.prototype.afterEach=function(a){a.typeName="afterEach";this.after_.splice(0,0,a);};jasmine.Runner.prototype.finishCallback=function(){this.env.reporter.reportRunnerResults(this);};jasmine.Runner.prototype.addSuite=function(a){this.suites_.push(a);};jasmine.Runner.prototype.add=function(a){if(a instanceof jasmine.Suite){this.addSuite(a);}this.queue.add(a);};jasmine.Runner.prototype.specs=function(){var c=this.suites();var b=[];for(var a=0;a<c.length;a++){b=b.concat(c[a].specs());}return b;};jasmine.Runner.prototype.suites=function(){return this.suites_;};jasmine.Runner.prototype.topLevelSuites=function(){var b=[];for(var a=0;a<this.suites_.length;a++){if(!this.suites_[a].parentSuite){b.push(this.suites_[a]);}}return b;};jasmine.Runner.prototype.results=function(){return this.queue.results();};jasmine.Spec=function(b,d,a){if(!b){throw new Error("jasmine.Env() required");}if(!d){throw new Error("jasmine.Suite() required");}var c=this;c.id=b.nextSpecId?b.nextSpecId():null;c.env=b;c.suite=d;c.description=a;c.queue=new jasmine.Queue(b);c.afterCallbacks=[];c.spies_=[];c.results_=new jasmine.NestedResults();c.results_.description=a;c.matchersClass=null;};jasmine.Spec.prototype.getFullName=function(){return this.suite.getFullName()+" "+this.description+".";};jasmine.Spec.prototype.results=function(){return this.results_;};jasmine.Spec.prototype.log=function(){return this.results_.log(arguments);};jasmine.Spec.prototype.runs=function(b){var a=new jasmine.Block(this.env,b,this);this.addToQueue(a);return this;};jasmine.Spec.prototype.addToQueue=function(a){if(this.queue.isRunning()){this.queue.insertNext(a);}else{this.queue.add(a);}};jasmine.Spec.prototype.addMatcherResult=function(a){this.results_.addResult(a);};jasmine.Spec.prototype.expect=function(a){var b=new (this.getMatchersClass_())(this.env,a,this);b.not=new (this.getMatchersClass_())(this.env,a,this,true);return b;};jasmine.Spec.prototype.waits=function(a){var b=new jasmine.WaitsBlock(this.env,a,this);this.addToQueue(b);return this;};jasmine.Spec.prototype.waitsFor=function(c,g,e){var d=null;var h=null;var f=null;for(var b=0;b<arguments.length;b++){var a=arguments[b];switch(typeof a){case"function":d=a;break;case"string":h=a;break;case"number":f=a;break;}}var j=new jasmine.WaitsForBlock(this.env,f,d,h,this);this.addToQueue(j);return this;};jasmine.Spec.prototype.fail=function(a){var b=new jasmine.ExpectationResult({passed:false,message:a?jasmine.util.formatException(a):"Exception",trace:{stack:a.stack}});this.results_.addResult(b);};jasmine.Spec.prototype.getMatchersClass_=function(){return this.matchersClass||this.env.matchersClass;};jasmine.Spec.prototype.addMatchers=function(a){var c=this.getMatchersClass_();var b=function(){c.apply(this,arguments);};jasmine.util.inherit(b,c);jasmine.Matchers.wrapInto_(a,b);this.matchersClass=b;};jasmine.Spec.prototype.finishCallback=function(){this.env.reporter.reportSpecResults(this);};jasmine.Spec.prototype.finish=function(a){this.removeAllSpies();this.finishCallback();if(a){a();}};jasmine.Spec.prototype.after=function(a){if(this.queue.isRunning()){this.queue.add(new jasmine.Block(this.env,a,this),true);}else{this.afterCallbacks.unshift(a);}};jasmine.Spec.prototype.execute=function(a){var b=this;if(!b.env.specFilter(b)){b.results_.skipped=true;b.finish(a);return;}this.env.reporter.reportSpecStarting(this);b.env.currentSpec=b;b.addBeforesAndAftersToQueue();b.queue.start(function(){b.finish(a);});};jasmine.Spec.prototype.addBeforesAndAftersToQueue=function(){var b=this.env.currentRunner();var a;for(var c=this.suite;c;c=c.parentSuite){for(a=0;a<c.before_.length;a++){this.queue.addBefore(new jasmine.Block(this.env,c.before_[a],this));}}for(a=0;a<b.before_.length;a++){this.queue.addBefore(new jasmine.Block(this.env,b.before_[a],this));}for(a=0;a<this.afterCallbacks.length;a++){this.queue.add(new jasmine.Block(this.env,this.afterCallbacks[a],this),true);}for(c=this.suite;c;c=c.parentSuite){for(a=0;a<c.after_.length;a++){this.queue.add(new jasmine.Block(this.env,c.after_[a],this),true);}}for(a=0;a<b.after_.length;a++){this.queue.add(new jasmine.Block(this.env,b.after_[a],this),true);}};jasmine.Spec.prototype.explodes=function(){throw"explodes function should not have been called";};jasmine.Spec.prototype.spyOn=function(c,b,a){if(c==jasmine.undefined){throw"spyOn could not find an object to spy upon for "+b+"()";}if(!a&&c[b]===jasmine.undefined){throw b+"() method does not exist";}if(!a&&c[b]&&c[b].isSpy){throw new Error(b+" has already been spied upon");}var d=jasmine.createSpy(b);this.spies_.push(d);d.baseObj=c;d.methodName=b;d.originalValue=c[b];c[b]=d;return d;};jasmine.Spec.prototype.removeAllSpies=function(){for(var a=0;a<this.spies_.length;a++){var b=this.spies_[a];b.baseObj[b.methodName]=b.originalValue;}this.spies_=[];};jasmine.Suite=function(b,a,e,c){var d=this;d.id=b.nextSuiteId?b.nextSuiteId():null;d.description=a;d.queue=new jasmine.Queue(b);d.parentSuite=c;d.env=b;d.before_=[];d.after_=[];d.children_=[];d.suites_=[];d.specs_=[];};jasmine.Suite.prototype.getFullName=function(){var a=this.description;for(var b=this.parentSuite;b;b=b.parentSuite){a=b.description+" "+a;}return a;};jasmine.Suite.prototype.finish=function(a){this.env.reporter.reportSuiteResults(this);this.finished=true;if(typeof(a)=="function"){a();}};jasmine.Suite.prototype.beforeEach=function(a){a.typeName="beforeEach";this.before_.unshift(a);};jasmine.Suite.prototype.afterEach=function(a){a.typeName="afterEach";this.after_.unshift(a);};jasmine.Suite.prototype.results=function(){return this.queue.results();};jasmine.Suite.prototype.add=function(a){this.children_.push(a);if(a instanceof jasmine.Suite){this.suites_.push(a);this.env.currentRunner().addSuite(a);}else{this.specs_.push(a);}this.queue.add(a);};jasmine.Suite.prototype.specs=function(){return this.specs_;};jasmine.Suite.prototype.suites=function(){return this.suites_;};jasmine.Suite.prototype.children=function(){return this.children_;};jasmine.Suite.prototype.execute=function(a){var b=this;this.queue.start(function(){b.finish(a);});};jasmine.WaitsBlock=function(a,c,b){this.timeout=c;jasmine.Block.call(this,a,null,b);};jasmine.util.inherit(jasmine.WaitsBlock,jasmine.Block);jasmine.WaitsBlock.prototype.execute=function(a){if(jasmine.VERBOSE){this.env.reporter.log(">> Jasmine waiting for "+this.timeout+" ms...");}this.env.setTimeout(function(){a();},this.timeout);};jasmine.WaitsForBlock=function(a,e,b,c,d){this.timeout=e||a.defaultTimeoutInterval;this.latchFunction=b;this.message=c;this.totalTimeSpentWaitingForLatch=0;jasmine.Block.call(this,a,null,d);};jasmine.util.inherit(jasmine.WaitsForBlock,jasmine.Block);jasmine.WaitsForBlock.TIMEOUT_INCREMENT=10;jasmine.WaitsForBlock.prototype.execute=function(d){if(jasmine.VERBOSE){this.env.reporter.log(">> Jasmine waiting for "+(this.message||"something to happen"));}var b;try{b=this.latchFunction.apply(this.spec);}catch(a){this.spec.fail(a);d();return;}if(b){d();}else{if(this.totalTimeSpentWaitingForLatch>=this.timeout){var c="timed out after "+this.timeout+" msec waiting for "+(this.message||"something to happen");this.spec.fail({name:"timeout",message:c});this.abort=true;d();}else{this.totalTimeSpentWaitingForLatch+=jasmine.WaitsForBlock.TIMEOUT_INCREMENT;var f=this;this.env.setTimeout(function(){f.execute(d);},jasmine.WaitsForBlock.TIMEOUT_INCREMENT);}}};jasmine.version_={"major":1,"minor":3,"build":1,"revision":1354556913};