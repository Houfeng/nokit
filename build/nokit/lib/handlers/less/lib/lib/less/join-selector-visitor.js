/*csd*/(function(a){a.joinSelectorVisitor=function(){this.contexts=[[]];this._visitor=new a.visitor(this);};a.joinSelectorVisitor.prototype={run:function(b){return this._visitor.visit(b);},visitRule:function(b,c){c.visitDeeper=false;},visitMixinDefinition:function(b,c){c.visitDeeper=false;},visitRuleset:function(d,f){var b=this.contexts[this.contexts.length-1],c=[],e;this.contexts.push(c);if(!d.root){e=d.selectors;if(e){e=e.filter(function(g){return g.getIsOutput();});d.selectors=e.length?e:(e=null);if(e){d.joinSelectors(c,b,e);}}if(!e){d.rules=null;}d.paths=c;}},visitRulesetOut:function(b){this.contexts.length=this.contexts.length-1;},visitMedia:function(c,d){var b=this.contexts[this.contexts.length-1];c.rules[0].root=(b.length===0||b[0].multiMedia);}};})(require("./tree"));